<Frame
 CycleDuration="Kernel.CycleDuration"
 Name="LX - Functional tests"
 Guid="f1f7118f-82f2-4d60-8836-3c6b2523f74c"
>
<SubSequences>
<SubSequence
 D_LRBG=""
 Level=""
 Mode=""
 NID_LRBG=""
 Q_DIRLRBG=""
 Q_DIRTRAIN=""
 Q_DLRBG=""
 RBC_ID=""
 RBCPhone=""
 Name="Display of non protected level crossing"
 Guid="5a45640b-385d-4dcb-8542-e71d5204ef4a"
>
<TestCases>
<TestCase
 Implemented="TRUE"
 Name="EOA or SvL related to the LX becomes the MRDT"
 Guid="0e4e2a14-75b2-4d15-a9ee-f4e16d5b82da"
>
<ReqRef
 Id="18f662c4-1a06-4ad0-9986-1dc47f1c5948"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="cd982e90-c83f-4270-8d02-451047ed5fce"
>
</ReqRef><ReqRef
 Id="c29d61b8-fc7e-4e30-a772-7fcd54f864fe"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="26be2169-a520-454c-87e4-5ba27a3f3e79"
>
</ReqRef><ReqRef
 Id="25f5d4dc-17ae-428e-804b-cad4501f9207"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="584b4d31-fc9b-471d-8d7c-90a45360eac3"
>
</ReqRef><ReqRef
 Id="cb0fc7f5-a2fc-4ade-96c4-44833122166e"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="17e3d4ce-f47f-46e8-9490-41573d8b1abe"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="fa6daa4f-86de-40d1-905f-6376e147f38d"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="8c835777-9916-4845-9248-4694e133a834"
>
<Actions>
<Action
 Guid="fcecfe66-8c6b-4e7e-8579-74f4f2cdce4f"
>Testing.InitializeTestEnvironment()</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="8225e870-146b-45a9-94fb-1c1ddbd730de"
>
<Actions>
<Action
 Guid="fa8375b9-eadc-422f-bc93-196896dce625"
>Testing.SetFSMode()</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - Initialize test data"
 Guid="daae1a9c-2af6-4da8-96d3-14a80a41da9f"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="85d2f494-8aa1-4c3c-8c6a-33958c88442b"
>
<Actions>
<Action
 Guid="6a9c8174-3618-4b9f-8a56-f265ede11334"
>Kernel.LX.SupervisedLevelCrossings &lt;- []</Action><Action
 Guid="a69a2c4e-2737-44b0-a1d5-cf7c63caf146"
>Kernel.LX.MRSPLevelCrossings &lt;- []</Action><Action
 Guid="061ca107-141f-4cf3-9365-0c7803973fd4"
>BTM.Linking.Linkings &lt;-
[
  BTM.Linking.LinkingDataStruct
  {
    LocationAccuracy =&gt; 5.0,
    Orientation =&gt; Default.Orientation.Nominal,
    Reaction =&gt; BTM.Linking.LinkingReaction.NoReaction,
    Distance =&gt; 100.0,
    BaliseGroupIdentifier =&gt; 2124
  },
  BTM.Linking.LinkingDataStruct
  {
    LocationAccuracy =&gt; 5.0,
    Orientation =&gt; Default.Orientation.Nominal,
    Reaction =&gt; BTM.Linking.LinkingReaction.NoReaction,
    Distance =&gt; 1450.0,
    BaliseGroupIdentifier =&gt; 2125
  }
]</Action><Action
 Guid="71810be4-558d-470e-8f72-6fd1449dd6a8"
>Kernel.TrackDescription.StaticSpeedProfile.SSP &lt;- 
[
  Kernel.TrackDescription.StaticSpeedProfile.StaticSpeedRestrictionStruct
  {
    Distance =&gt; 0.0,
    BasicSpeed =&gt; 80.0,
    TrainLengthDelay =&gt; Messages.Q_FRONT.No_train_length_delay_on_validity_end_point_of_profile_element,
    Categories =&gt; []
  },
  Kernel.TrackDescription.StaticSpeedProfile.StaticSpeedRestrictionStruct
  {
    Distance =&gt; 1000.0,
    BasicSpeed =&gt; 20.0,
    TrainLengthDelay =&gt; Messages.Q_FRONT.No_train_length_delay_on_validity_end_point_of_profile_element,
    Categories =&gt; []
  },
  Kernel.TrackDescription.StaticSpeedProfile.StaticSpeedRestrictionStruct
  {
    Distance =&gt; 1200.0,
    BasicSpeed =&gt; BaseTypes.Speed.Infinity,
    TrainLengthDelay =&gt; Messages.Q_FRONT.No_train_length_delay_on_validity_end_point_of_profile_element,
    Categories =&gt; []
  }
]</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="fe420840-a890-4c53-b6e5-11e5c5e09cff"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="01cc653b-e23d-4203-9300-3969406f5768"
>Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.MRDT().Speed == (FIRST X IN Kernel.TrackDescription.StaticSpeedProfile.SSP | X.Distance &gt; Kernel.TrainPosition.FrontEndPosition(DistanceInterval.Nom)).BasicSpeed</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="50860bcb-a26b-4f52-b3eb-98c0fea2c61d"
>DMI.MasterDMI().Out_LXStatusNotProtected.OutputInformation.DisplayRequested == False</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="366db7bf-f0b5-4547-bff7-1113e08690c8"
>Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.MRDT().Location == (FIRST X IN Kernel.TrackDescription.StaticSpeedProfile.SSP | X.Distance &gt; Kernel.TrainPosition.FrontEndPosition(DistanceInterval.Nom)).Distance</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - A non protected level crossing is received, but not displayed yet"
 Guid="1ca3c1cc-bd33-4755-8089-a6c75e3bdf50"
>
<Comment>LX is not displayed yet since the current MRDT is the SSP.</Comment>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="58fc007f-0e26-47b7-a269-a9afa634ea00"
>
<Actions>
<Action
 Guid="3fec03ed-e1d8-4ea6-a668-d3aa66301c60"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; 32,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 0,
    N_TOTAL =&gt; 0,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; 4,
    NID_C =&gt; 140,
    NID_BG =&gt; 2124,
    Q_LINK =&gt; Messages.Q_LINK.Linked,
    Sequence1 =&gt; 
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN =&gt; Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_CROSSING_INFORMATION =&gt; Messages.PACKET.TRACK_TO_TRAIN.LEVEL_CROSSING_INFORMATION.Message
                {
                    NID_PACKET =&gt; 88,
                    Q_DIR =&gt; Messages.Q_DIR.Nominal,
                    L_PACKET =&gt; 400,
                    Q_SCALE =&gt; Messages.Q_SCALE._1_m_scaleC,
                    NID_LX =&gt; 20,
                    D_LX =&gt; 2000,
                    L_LX =&gt; 100,
                    Q_LXSTATUS =&gt; Messages.Q_LXSTATUS.LX_is_not_protected,
                    V_LX =&gt; 6,
                    Q_STOPLX =&gt; Messages.Q_STOPLX.No_stop_required,
                    L_STOPLX =&gt; 0
                }
            }
        }
    ]
}</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="bd9d2de2-882c-4e80-9f94-72af58965406"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="3fd89754-442c-4b55-bc03-246c1b961cf3"
>Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.MRDT().Location == (FIRST X IN Kernel.TrackDescription.StaticSpeedProfile.SSP | X.Distance &gt; Kernel.TrainPosition.FrontEndPosition(DistanceInterval.Nom)).Distance</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="f01789ef-0e35-4c43-a5ae-abd845d56b51"
>Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.MRDT().Speed == (FIRST X IN Kernel.TrackDescription.StaticSpeedProfile.SSP | X.Distance &gt; Kernel.TrainPosition.FrontEndPosition(DistanceInterval.Nom)).BasicSpeed</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="c8fc9b7a-01de-4e03-8a41-32f98f654392"
>DMI.MasterDMI().Out_LXStatusNotProtected.OutputInformation.DisplayRequested == False</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="dd931ac5-e2e8-4d20-a31f-cb418d15f730"
>COUNT X IN Kernel.LX.MRSPLevelCrossings == 0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="1655f280-4f08-41eb-a7fa-c136c01f0fa1"
>COUNT X IN Kernel.LX.SupervisedLevelCrossings == 1</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step4 - LX becomes MRDT and is displayed"
 Guid="a7fadadd-e646-40ae-8dab-c3822cfe598a"
>
<Comment>The supervised SSP has been passed =&gt; LX becomes the current MRDT.</Comment>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="1c38a708-54e3-46c2-b23a-04839d30019f"
>
<Actions>
<Action
 Guid="6a7e226f-e44c-45c5-84d0-3b9d7589da33"
>Odometry.NominalDistance &lt;- 1600.0</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="1f9d2d5c-80ff-44ab-81f1-05a456d9262e"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="a39ce38d-7762-4b5c-9d5c-0b183eb8c1be"
>DMI.MasterDMI().Out_LXStatusNotProtected.OutputInformation.DisplayRequested == True</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="43a3a1bb-eb55-4bb7-a3b1-d89357066f1d"
>Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.MRDT().Location == (FIRST X IN Kernel.LX.SupervisedLevelCrossings).Location</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="4a2dd81b-613f-418f-9c5d-ebcac7687e53"
>Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.MRDT().Speed == 0.0</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step5 - LX becomes protected =&gt; LX information is removed from the DMI"
 Guid="d9958236-ab41-4073-900b-a04ad47d7e7a"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="cd640a5c-b832-4d63-bc4c-34c5109c50b6"
>
<Actions>
<Action
 Guid="17d4ab0e-1683-4a7c-a9ae-68fc67e22eda"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; 32,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 0,
    N_TOTAL =&gt; 0,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; 4,
    NID_C =&gt; 140,
    NID_BG =&gt; 2125,
    Q_LINK =&gt; Messages.Q_LINK.Linked,
    Sequence1 =&gt; 
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN =&gt; Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_CROSSING_INFORMATION =&gt; Messages.PACKET.TRACK_TO_TRAIN.LEVEL_CROSSING_INFORMATION.Message
                {
                    NID_PACKET =&gt; 88,
                    Q_DIR =&gt; Messages.Q_DIR.Nominal,
                    L_PACKET =&gt; 400,
                    Q_SCALE =&gt; Messages.Q_SCALE._1_m_scaleC,
                    NID_LX =&gt; 20,
                    D_LX =&gt; 2000,
                    L_LX =&gt; 100,
                    Q_LXSTATUS =&gt; Messages.Q_LXSTATUS.LX_is_protected
                }
            }
        }
    ]
}</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="07bf6b39-1dc7-4522-9308-bce82740076e"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="9a8fd960-b42a-4273-99eb-316785393897"
>DMI.MasterDMI().Out_LXStatusNotProtected.OutputInformation.DisplayRequested == False</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="279d38aa-6c63-4dfd-a4db-00f2087e85fd"
>COUNT X IN Kernel.LX.MRSPLevelCrossings == 1</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="af3b8c23-cd3f-478d-a715-aafd03053884"
>COUNT X IN Kernel.LX.SupervisedLevelCrossings == 0</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase><TestCase
 Implemented="TRUE"
 Name="LX Supervision is substituted by inclusion in MRSP"
 Guid="81a5e182-5a32-4710-b2b3-72a7ad4fc0e7"
>
<ReqRef
 Id="18f662c4-1a06-4ad0-9986-1dc47f1c5948"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="19ea9bc1-0caf-4c5b-953f-97f290fe6d83"
>
</ReqRef><ReqRef
 Id="c8715350-50d3-418e-a138-39f03d488016"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="70cce64c-dde1-433d-ba79-067954eadddf"
>
</ReqRef><ReqRef
 Id="25f5d4dc-17ae-428e-804b-cad4501f9207"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d7cbeba9-4548-4283-a643-59bb6299763e"
>
</ReqRef><ReqRef
 Id="6b88cee7-690c-471d-bb1a-10dfa73e675a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="11e87d33-daef-46ff-ba72-cde43a20cccc"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="de48892d-2ed8-4d8c-af13-b449f41d5531"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="25aa7ea4-37c7-4895-92a6-ca974ed47e0a"
>
<Actions>
<Action
 Guid="24e47b43-64c2-42ab-a313-33f6f3c2463a"
>Testing.InitializeTestEnvironment()</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="bff1e02b-751c-4efc-a838-7c6007472595"
>
<Actions>
<Action
 Guid="dc6dc97d-f766-4c44-b29a-1f573fed8ba4"
>Testing.SetFSMode()</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - Iniitalize test data"
 Guid="9d8ac720-bd8b-478d-849d-4f257cf9eba0"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="bd7f5796-5dbf-4dbe-9ed1-228c264d1a4d"
>
<Actions>
<Action
 Guid="cba79db1-c008-48bb-bc55-aa9257177584"
>Kernel.LX.SupervisedLevelCrossings &lt;- []</Action><Action
 Guid="c1f47b88-be3c-42da-99f8-0342ac87cf01"
>Kernel.LX.MRSPLevelCrossings &lt;- []</Action><Action
 Guid="e4542f7e-4282-4239-b086-49fc58999510"
>BTM.Linking.Linkings &lt;-
[
  BTM.Linking.LinkingDataStruct
  {
    LocationAccuracy =&gt; 5.0,
    Orientation =&gt; Default.Orientation.Nominal,
    Reaction =&gt; BTM.Linking.LinkingReaction.NoReaction,
    Distance =&gt; 100.0,
    BaliseGroupIdentifier =&gt; 2124
  }
]</Action><Action
 Guid="b5dea6ec-ca71-44e6-a788-1cdf9df763a8"
>Kernel.TrackDescription.StaticSpeedProfile.SSP &lt;- 
[
  Kernel.TrackDescription.StaticSpeedProfile.StaticSpeedRestrictionStruct
  {
    Distance =&gt; 0.0,
    BasicSpeed =&gt; 100.0,
    TrainLengthDelay =&gt; Messages.Q_FRONT.No_train_length_delay_on_validity_end_point_of_profile_element,
    Categories =&gt; []
  },
  Kernel.TrackDescription.StaticSpeedProfile.StaticSpeedRestrictionStruct
  {
    Distance =&gt; 1300.0,
    BasicSpeed =&gt; 20.0,
    TrainLengthDelay =&gt; Messages.Q_FRONT.No_train_length_delay_on_validity_end_point_of_profile_element,
    Categories =&gt; []
  },
  Kernel.TrackDescription.StaticSpeedProfile.StaticSpeedRestrictionStruct
  {
    Distance =&gt; 1500.0,
    BasicSpeed =&gt; BaseTypes.Speed.Infinity,
    TrainLengthDelay =&gt; Messages.Q_FRONT.No_train_length_delay_on_validity_end_point_of_profile_element,
    Categories =&gt; []
  }
]</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="8596f9f7-df33-456c-8faf-ee584314fa31"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="50ff6c6d-19af-4bf1-9af3-8558522eecbb"
>Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.MRDT().Speed == (FIRST X IN Kernel.TrackDescription.StaticSpeedProfile.SSP | X.Distance &gt; Kernel.TrainPosition.FrontEndPosition(DistanceInterval.Nom)).BasicSpeed</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="59ce0fdd-bfaa-4620-b030-2a72f69bfe67"
>DMI.MasterDMI().Out_LXStatusNotProtected.OutputInformation.DisplayRequested == False</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="f35bb5fd-b30a-4a57-812d-ab190ed1d003"
>Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.MRDT().Location == (FIRST X IN Kernel.TrackDescription.StaticSpeedProfile.SSP | X.Distance &gt; Kernel.TrainPosition.FrontEndPosition(DistanceInterval.Nom)).Distance</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - A non protected level crossing is received, but not displayed yet"
 Guid="62cb6639-7adc-4e6c-b134-cfc5aa7805ed"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="54ba79ce-c2fa-40e0-a019-4cf986c10d42"
>
<Actions>
<Action
 Guid="2a2f1116-458d-4e6f-a89e-d2b7f446fb49"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; 32,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 0,
    N_TOTAL =&gt; 0,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; 4,
    NID_C =&gt; 140,
    NID_BG =&gt; 2124,
    Q_LINK =&gt; Messages.Q_LINK.Linked,
    Sequence1 =&gt; 
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN =&gt; Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_CROSSING_INFORMATION =&gt; Messages.PACKET.TRACK_TO_TRAIN.LEVEL_CROSSING_INFORMATION.Message
                {
                    NID_PACKET =&gt; 88,
                    Q_DIR =&gt; Messages.Q_DIR.Nominal,
                    L_PACKET =&gt; 400,
                    Q_SCALE =&gt; Messages.Q_SCALE._1_m_scaleC,
                    NID_LX =&gt; 20,
                    D_LX =&gt; 1250,
                    L_LX =&gt; 100,
                    Q_LXSTATUS =&gt; Messages.Q_LXSTATUS.LX_is_not_protected,
                    V_LX =&gt; 6,
                    Q_STOPLX =&gt; Messages.Q_STOPLX.Stop_required,
                    L_STOPLX =&gt; 80
                }
            }
        }
    ]
}</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="c01a3425-37fe-4dcf-b4b0-c2dc2bea19f8"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="5989b4a4-88af-48aa-bedd-92fcc5366fcc"
>Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.MRDT().Location == (FIRST X IN Kernel.TrackDescription.StaticSpeedProfile.SSP | X.Distance &gt; Kernel.TrainPosition.FrontEndPosition(DistanceInterval.Nom)).Distance</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="b73e26e8-d42a-4645-8bdd-c6c264af534c"
>Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.MRDT().Speed == (FIRST X IN Kernel.TrackDescription.StaticSpeedProfile.SSP | X.Distance &gt; Kernel.TrainPosition.FrontEndPosition(DistanceInterval.Nom)).BasicSpeed</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="2064fdc3-5e67-40e6-90cc-9cbecaae296c"
>DMI.MasterDMI().Out_LXStatusNotProtected.OutputInformation.DisplayRequested == False</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="151ffff9-580b-44dc-b457-3f073462af84"
>COUNT X IN Kernel.LX.MRSPLevelCrossings == 0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="9aa543ba-d6de-41fc-9d88-fdf9c0def962"
>COUNT X IN Kernel.LX.SupervisedLevelCrossings == 1</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step4 - The train stops within the stopping area"
 Guid="ef11fe58-e42c-4dd8-994c-a93e500ee595"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="181b8ec3-82f0-4543-875f-2e895a177c98"
>
<Actions>
<Action
 Guid="2630e44a-b8e7-4ad1-bbd9-b68540cf6d0b"
>Odometry.NominalDistance &lt;- 1340.0</Action><Action
 Guid="e32e4e26-d80d-44ce-b76c-d8e60b335881"
>Odometry.EstimatedSpeed &lt;- 0.0</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="9779e7c5-e18e-4bf2-b90f-edcf2ab16681"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="9cc28bd1-f3b5-4551-9523-14158cf23d49"
>DMI.MasterDMI().Out_LXStatusNotProtected.OutputInformation.DisplayRequested == True</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="06eb18f9-0191-46cf-ab23-98a377916278"
>Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.MRDT().Location == (FIRST X IN Kernel.TrackDescription.StaticSpeedProfile.SSP | X.Distance &gt; Kernel.TrainPosition.FrontEndPosition(DistanceInterval.Nom)).Distance</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="75ef6f7e-abf0-474b-9fe4-12406ddd7adc"
>Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.MRDT().Speed == (FIRST X IN Kernel.TrackDescription.StaticSpeedProfile.SSP | X.Distance &gt; Kernel.TrainPosition.FrontEndPosition(DistanceInterval.Nom)).BasicSpeed</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="fd5d4805-4d66-4da2-9605-b32c63045c5b"
>COUNT X IN Kernel.LX.MRSPLevelCrossings == 1</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="71a9cbfe-6c6f-41dd-a724-2b69adb5ba4c"
>COUNT X IN Kernel.LX.SupervisedLevelCrossings == 0</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step5 - The train has passed the LX location =&gt; LX information is removed from the DMI"
 Guid="7ebc83d2-3543-4d1a-8211-53ef04d7c8cc"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="7b0de4f5-78dc-46bb-9d73-0d02ba4a173b"
>
<Actions>
<Action
 Guid="b72b7b9b-21cc-43e2-84a8-2ff8a6369c74"
>Odometry.NominalDistance &lt;-
  BTM.LRBG.Position.Position
    +
  (FIRST X IN Kernel.LX.MRSPLevelCrossings).Location
    +
  (FIRST X IN Kernel.LX.MRSPLevelCrossings).Length
    +
  Default.BaseTypes.LengthToDistance(Kernel.ConfidenceInterval.ConfidenceInterval(Default.ConfidenceInterval.L_DOUBTOVER))</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="9384cf54-94c8-4ae9-aad9-2d662d8c1d3e"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="86e16bd3-9aa5-447b-a246-d2652d25636f"
>COUNT X IN Kernel.LX.MRSPLevelCrossings == 1</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="7ffba141-4151-4a40-973e-aafb96041407"
>COUNT X IN Kernel.LX.SupervisedLevelCrossings == 0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="bd0864db-257f-4957-b4d6-02662882870a"
>DMI.MasterDMI().Out_LXStatusNotProtected.OutputInformation.DisplayRequested == False</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="afb7d7c3-b17f-4df4-8604-d6e3ba392b6d"
>Kernel.TrainPosition.FrontEndPosition( PointOfInterest=&gt;DistanceInterval.Min ) &gt;= (FIRST X IN Kernel.LX.MRSPLevelCrossings).Location + (FIRST X IN Kernel.LX.MRSPLevelCrossings).Length</Expectation></Expectations>
</SubStep><SubStep
 Name="Sub-step3"
 Guid="8564f087-7e21-46b5-a934-2128af6be8b3"
>
</SubStep></SubSteps>
</Step></Steps>
</TestCase></TestCases>
</SubSequence><SubSequence
 D_LRBG=""
 Level=""
 Mode=""
 NID_LRBG=""
 Q_DIRLRBG=""
 Q_DIRTRAIN=""
 Q_DLRBG=""
 RBC_ID=""
 RBCPhone=""
 Name="LX data storage"
 Guid="b93713bd-ac07-4b8b-b6c4-bc446ebbcd73"
>
<TestCases>
<TestCase
 Feature="0"
 Case="0"
 Implemented="TRUE"
 Name="Protected + non-protected LX"
 Guid="8ca00f61-51b5-44ca-88e9-419ebf658e63"
>
<ReqRef
 Id="06213f41-1d21-4d8e-bed7-9f24274f7f14"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="49a6aa50-f78c-4088-8d84-281fc233765f"
>
</ReqRef><ReqRef
 Id="127b4102-89de-4c50-9c52-b1bead79aa18"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d6b1bb76-15ed-4bf5-bff5-c898a0775f93"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="f820b901-b6f7-47f2-84e1-2fd26a163be3"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="0e0ac788-d237-4802-beca-68b4aaff07f8"
>
<Actions>
<Action
 Guid="addd8cbf-0ce9-472f-9df4-00fdfcb2c66e"
>Testing.InitializeTestEnvironment()</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - Initialize test-data"
 Guid="cc8dd2c2-d8b9-448f-a238-ccafd9632e5b"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="c34b9f35-ea13-4a40-88b9-703477bd1103"
>
<Actions>
<Action
 Guid="dfe1d05b-ebbd-4507-8676-dd46043c7df8"
>Kernel.LX.SupervisedLevelCrossings &lt;- []</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - A protected level crossing is received"
 Guid="76fe4ed0-98dd-4c32-99ae-38df0b473d5b"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="75609b54-1ae3-47d8-a473-fdaeb7530b65"
>
<Actions>
<Action
 Guid="1c3cb215-03b0-4b30-a717-73dd58153397"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN=&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION=&gt;32,
    Q_MEDIA=&gt;Messages.Q_MEDIA.Balise,
    N_PIG=&gt;0,
    N_TOTAL=&gt;1,
    M_DUP=&gt;Messages.M_DUP.No_duplicates,
    M_MCOUNT=&gt;4,
    NID_C=&gt;140,
    NID_BG=&gt;2124,
    Q_LINK=&gt;Messages.Q_LINK.Linked,
    Sequence1=&gt;
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN=&gt;Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_CROSSING_INFORMATION=&gt;Messages.PACKET.TRACK_TO_TRAIN.LEVEL_CROSSING_INFORMATION.Message
                {
                    NID_PACKET=&gt;88,
                    Q_DIR=&gt;Messages.Q_DIR.Nominal,
                    L_PACKET=&gt;400,
                    Q_SCALE=&gt;Messages.Q_SCALE._1_m_scaleC,
                    NID_LX=&gt;18,
                    D_LX=&gt;1000,
                    L_LX=&gt;50,
                    Q_LXSTATUS=&gt;Messages.Q_LXSTATUS.LX_is_protected,
                    V_LX=&gt;0,
                    Q_STOPLX=&gt;Messages.Q_STOPLX.No_stop_required,
                    L_STOPLX=&gt;0
                }
            }
        }
    ]
}</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step4 - A non-protected level crossing is received"
 Guid="08d82367-8f36-46fe-baa8-73f7fd9be69e"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="ebebb776-8e35-442d-ac05-fa4ae7e446fa"
>
<Actions>
<Action
 Guid="540a104a-dfb8-4045-a9b9-f910a505a5af"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN=&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION=&gt;32,
    Q_MEDIA=&gt;Messages.Q_MEDIA.Balise,
    N_PIG=&gt;1,
    N_TOTAL=&gt;1,
    M_DUP=&gt;Messages.M_DUP.No_duplicates,
    M_MCOUNT=&gt;4,
    NID_C=&gt;140,
    NID_BG=&gt;2124,
    Q_LINK=&gt;Messages.Q_LINK.Linked,
    Sequence1=&gt;
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN=&gt;Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_CROSSING_INFORMATION=&gt;Messages.PACKET.TRACK_TO_TRAIN.LEVEL_CROSSING_INFORMATION.Message
                {
                    NID_PACKET=&gt;88,
                    Q_DIR=&gt;Messages.Q_DIR.Nominal,
                    L_PACKET=&gt;400,
                    Q_SCALE=&gt;Messages.Q_SCALE._1_m_scaleC,
                    NID_LX=&gt;19,
                    D_LX=&gt;2000,
                    L_LX=&gt;100,
                    Q_LXSTATUS=&gt;Messages.Q_LXSTATUS.LX_is_not_protected,
                    V_LX=&gt;0,
                    Q_STOPLX=&gt;Messages.Q_STOPLX.No_stop_required,
                    L_STOPLX=&gt;0
                }
            }
        }
    ]
}</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step5 - Check if the information is correctly stored"
 Guid="9d9627b4-a2a1-4f22-a30d-59b92428bad8"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="2510d8c2-ed58-406b-98fa-a94f4cf4db50"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="adc7a78a-07f8-4e8b-a125-dec74cf9b379"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).IsProtected == False</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="bdd7b2bd-7788-4d3f-bb97-f54bfc0180bc"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).Length == 100.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="82c6804f-9299-4266-b7e8-e12a2a33cd3c"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).Location == 2000.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="216e9293-2f37-4a3d-b507-3249f2ee26cc"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).Id == 19</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="7ea73fad-a6ef-4c5a-8d4f-0360b3052d15"
>(COUNT X IN Kernel.LX.SupervisedLevelCrossings) == 1</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="b8d04d84-5a4f-4ec9-b44a-d09d8cb8dc4f"
>(COUNT X IN Kernel.LX.MRSPLevelCrossings) == 1</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="caa19e33-5788-46b6-aed0-7b9e71f2fe32"
>(FIRST X IN Kernel.LX.MRSPLevelCrossings).Id == 18</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="6b89b352-a342-4913-981f-fb015bb3c1bf"
>(FIRST X IN Kernel.LX.MRSPLevelCrossings).IsProtected == True</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="f93665be-ee1f-4bba-8fb4-462d0c5096ca"
>(FIRST X IN Kernel.LX.MRSPLevelCrossings).Length == 50.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="5e426661-0e63-4b57-bed2-949b7dbe8bd9"
>(FIRST X IN Kernel.LX.MRSPLevelCrossings).Location == 1000.0</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase><TestCase
 Feature="0"
 Case="0"
 Implemented="TRUE"
 Name="Non-protected LX"
 Guid="a4b43398-8834-43cc-a076-e6cb06d4ad6b"
>
<ReqRef
 Id="36b7b2d7-fafa-4229-b0da-4e4d149ed7c7"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="9747bd14-2958-4ed9-9bdb-a17737daa77d"
>
</ReqRef><ReqRef
 Id="25ba8ee8-fa61-47e2-acbd-df1d8614ed6a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="8432db40-9b0c-43f8-86dc-495073f46776"
>
</ReqRef><ReqRef
 Id="4b756e9d-4e0d-4fd1-81a8-9244618a8547"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3f0a1304-fdea-48f9-aaa6-42dc5b25a1fa"
>
</ReqRef><ReqRef
 Id="4be474be-fe70-49b2-8c94-d7383e9539e8"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="eedee535-3860-41d7-92b9-f623de4ee171"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="0dcc890b-b772-43ba-9083-7bbc615d6b13"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="f979e986-40f0-4c14-9bb6-0ede40966f75"
>
<Actions>
<Action
 Guid="b6e47baa-fc5b-4dc3-b612-77c42e028871"
>Testing.InitializeTestEnvironment()</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - Initialize test data"
 Guid="0673b3a2-b0bd-4703-aa96-b8e386575c1d"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="74f48a09-93d1-4edc-be48-3a2adbab9c67"
>
<Actions>
<Action
 Guid="f05eeef2-065e-4072-a0b2-3a1cb6d7b6dd"
>Kernel.LX.SupervisedLevelCrossings &lt;- []</Action><Action
 Guid="6defe287-a0ef-4383-b734-f27439b493b0"
>BTM.Linking.Linkings &lt;-
[
  BTM.Linking.LinkingDataStruct
  {
    LocationAccuracy =&gt; 5.0,
    Orientation =&gt; Default.Orientation.Nominal,
    Reaction =&gt; BTM.Linking.LinkingReaction.NoReaction,
    Distance =&gt; 100.0,
    BaliseGroupIdentifier =&gt; 2124
  },
  BTM.Linking.LinkingDataStruct
  {
    LocationAccuracy =&gt; 5.0,
    Orientation =&gt; Default.Orientation.Nominal,
    Reaction =&gt; BTM.Linking.LinkingReaction.NoReaction,
    Distance =&gt; 0.0,
    BaliseGroupIdentifier =&gt; 2125
  }
]</Action><Action
 Guid="3c5ef0b5-bf38-4ccc-a4ae-9bfffc463e48"
>Kernel.LX.SupervisedLevelCrossings &lt;- []</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - A non-protected level crossing is received"
 Guid="cbfffd0a-5dc4-42e5-8427-76355793231b"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="2c3ec93d-0394-433c-b034-74672b34c168"
>
<Actions>
<Action
 Guid="126a9a4d-4159-48fd-9a2c-cf9dd75ffa20"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN=&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION=&gt;32,
    Q_MEDIA=&gt;Messages.Q_MEDIA.Balise,
    N_PIG=&gt;0,
    N_TOTAL=&gt;0,
    M_DUP=&gt;Messages.M_DUP.No_duplicates,
    M_MCOUNT=&gt;4,
    NID_C=&gt;140,
    NID_BG=&gt;2124,
    Q_LINK=&gt;Messages.Q_LINK.Linked,
    Sequence1=&gt;
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN=&gt;Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_CROSSING_INFORMATION=&gt;Messages.PACKET.TRACK_TO_TRAIN.LEVEL_CROSSING_INFORMATION.Message
                {
                    NID_PACKET=&gt;88,
                    Q_DIR=&gt;Messages.Q_DIR.Nominal,
                    L_PACKET=&gt;400,
                    Q_SCALE=&gt;Messages.Q_SCALE._1_m_scaleC,
                    NID_LX=&gt;20,
                    D_LX=&gt;2000,
                    L_LX=&gt;100,
                    Q_LXSTATUS=&gt;Messages.Q_LXSTATUS.LX_is_not_protected,
                    V_LX=&gt;4,
                    Q_STOPLX=&gt;Messages.Q_STOPLX.No_stop_required,
                    L_STOPLX=&gt;0
                }
            }
        }
    ]
}</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step4 - Check for speed and absence of stopping requirement"
 Guid="cf89f8cd-768a-4c02-b948-1bb2beba2aa8"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="7b5a1c6a-9e5d-4df2-ba00-8f4e1e158fd1"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="18c47b39-a7d0-4c77-9842-94edf96c337b"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).Speed == 20.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="03f4f493-e78d-4c56-b8e7-bc0c5ca64dbb"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).StoppingRequired == False</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="0dc55a3b-5bbc-4b43-8db9-46b05bff7413"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).IsProtected == False</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step5 - Another non-protected level crossing is received"
 Guid="4ebc9416-3d53-435d-ac9c-9e20fdf940fe"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="c4bdb933-ffe4-4fe9-9b88-238b6c6ad382"
>
<Actions>
<Action
 Guid="18c51bbb-58eb-4f45-8a54-538deb916dea"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN=&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION=&gt;32,
    Q_MEDIA=&gt;Messages.Q_MEDIA.Balise,
    N_PIG=&gt;0,
    N_TOTAL=&gt;1,
    M_DUP=&gt;Messages.M_DUP.No_duplicates,
    M_MCOUNT=&gt;4,
    NID_C=&gt;140,
    NID_BG=&gt;2125,
    Q_LINK=&gt;Messages.Q_LINK.Linked,
    Sequence1=&gt;
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN=&gt;Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_CROSSING_INFORMATION=&gt;Messages.PACKET.TRACK_TO_TRAIN.LEVEL_CROSSING_INFORMATION.Message
                {
                    NID_PACKET=&gt;88,
                    Q_DIR=&gt;Messages.Q_DIR.Nominal,
                    L_PACKET=&gt;400,
                    Q_SCALE=&gt;Messages.Q_SCALE._1_m_scaleC,
                    NID_LX=&gt;20,
                    D_LX=&gt;2000,
                    L_LX=&gt;100,
                    Q_LXSTATUS=&gt;Messages.Q_LXSTATUS.LX_is_not_protected,
                    V_LX=&gt;10,
                    Q_STOPLX=&gt;Messages.Q_STOPLX.Stop_required,
                    L_STOPLX=&gt;100
                }
            }
        }
    ]
}</Action><Action
 Guid="79b36933-aea1-4bfd-94ab-5d1f29227b4c"
>Kernel.LX.SupervisedLevelCrossings &lt;- []</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="9aa24cca-5e7b-4e82-9f82-e211271d4c15"
>
<Actions>
<Action
 Guid="6267e615-8eb0-4d3e-a3f4-c84067ff1478"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN=&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION=&gt;32,
    Q_MEDIA=&gt;Messages.Q_MEDIA.Balise,
    N_PIG=&gt;1,
    N_TOTAL=&gt;1,
    M_DUP=&gt;Messages.M_DUP.No_duplicates,
    M_MCOUNT=&gt;4,
    NID_C=&gt;140,
    NID_BG=&gt;2125,
    Q_LINK=&gt;Messages.Q_LINK.Linked,
    Sequence1=&gt;[]
}</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step6 - Check for presence of stopping requirement and associated stopping area"
 Guid="ee6de384-81e6-4486-a7d1-742f16afdd15"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="68a72c00-8634-454e-9017-adbd71a086d1"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="ec0080d8-4519-4e33-adb4-0ed54e819adb"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).StoppingRequired == True</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="b9f7e729-0742-41d8-aaac-a955dc560991"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).StoppingAreaLength == 100.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="4634ba8a-1512-431a-af2b-1e0693b84617"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).IsProtected == False</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase></TestCases>
</SubSequence><SubSequence
 D_LRBG=""
 Level=""
 Mode=""
 NID_LRBG=""
 Q_DIRLRBG=""
 Q_DIRTRAIN=""
 Q_DLRBG=""
 RBC_ID=""
 RBCPhone=""
 Name="New LX information with same id replaces old information"
 Guid="eb6de040-b36a-400c-89ee-b49aac17fe1b"
>
<TestCases>
<TestCase
 Feature="0"
 Case="0"
 Implemented="TRUE"
 Name="New LX information with same id replaces old information"
 Guid="104cc260-43e7-4c31-ad96-ec714ab22251"
>
<ReqRef
 Id="1db11ec4-063b-4b77-b176-cba385f8f886"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="9a648f59-1019-4e6b-852a-8ec535a54c52"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="0889c8e6-9d7e-4275-9949-3588e00cb386"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="5cce217f-da45-4dcf-a95e-b893cba7895b"
>
<Actions>
<Action
 Guid="9360bbb4-a208-47ed-843b-7f74d73c909e"
>Testing.InitializeTestEnvironment()</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - A protected level crossing is received"
 Guid="1a4ec4db-5359-4fc6-8f78-e5d939eb87d9"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="5e12570e-8c2b-49df-b849-79fa7caeef93"
>
<Actions>
<Action
 Guid="81c61bcd-825a-46b3-b1d7-b2bd657d16fe"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN=&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION=&gt;32,
    Q_MEDIA=&gt;Messages.Q_MEDIA.Balise,
    N_PIG=&gt;0,
    N_TOTAL=&gt;0,
    M_DUP=&gt;Messages.M_DUP.No_duplicates,
    M_MCOUNT=&gt;4,
    NID_C=&gt;140,
    NID_BG=&gt;2124,
    Q_LINK=&gt;Messages.Q_LINK.Linked,
    Sequence1=&gt;
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN=&gt;Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_CROSSING_INFORMATION=&gt;Messages.PACKET.TRACK_TO_TRAIN.LEVEL_CROSSING_INFORMATION.Message
                {
                    NID_PACKET=&gt;88,
                    Q_DIR=&gt;Messages.Q_DIR.Both_directions,
                    L_PACKET=&gt;400,
                    Q_SCALE=&gt;Messages.Q_SCALE._1_m_scaleC,
                    NID_LX=&gt;18,
                    D_LX=&gt;3000,
                    L_LX=&gt;50,
                    Q_LXSTATUS=&gt;Messages.Q_LXSTATUS.LX_is_protected,
                    V_LX=&gt;0,
                    Q_STOPLX=&gt;Messages.Q_STOPLX.No_stop_required,
                    L_STOPLX=&gt;0
                }
            }
        }
    ]
}</Action><Action
 Guid="4b8a39f5-c467-4921-8300-4488b65c53f6"
>Kernel.LX.SupervisedLevelCrossings &lt;- []</Action><Action
 Guid="ca555052-cf67-40f5-8a7d-c2c32d54b6c1"
>BTM.LRBG &lt;- BTM.BaliseGroupStruct
{
    NID =&gt; 9621,
    Orientation =&gt; Orientation.Nominal,
    Position =&gt; BTM.Position
    {
        OverReadingAmountOdo =&gt; 7.0,
        Position =&gt; 3000.0,
        UnderReadingAmountOdo =&gt; 4.0
    }
}</Action><Action
 Guid="217d6e92-7077-4389-9f5b-6aebf8540631"
>Odometry.NominalDistance &lt;- 3500.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 Guid="41295b1e-b242-4786-ba70-35a957080035"
>(COUNT X IN Kernel.LX.MRSPLevelCrossings) == 1</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="c651b657-25e9-42b8-b633-3411f356327b"
>(FIRST X IN Kernel.LX.MRSPLevelCrossings).Location == 3000.0</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - Another protected level crossing is received which should overwrite the old one"
 Guid="97f62329-14ba-4537-98b3-d4331b82d953"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="dbf6beac-f12e-4aa7-995f-466b862e390e"
>
<Actions>
<Action
 Guid="aba0d07b-857b-4d0e-a087-d126df5fa8c9"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN=&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION=&gt;32,
    Q_MEDIA=&gt;Messages.Q_MEDIA.Balise,
    N_PIG=&gt;0,
    N_TOTAL=&gt;0,
    M_DUP=&gt;Messages.M_DUP.No_duplicates,
    M_MCOUNT=&gt;4,
    NID_C=&gt;140,
    NID_BG=&gt;2124,
    Q_LINK=&gt;Messages.Q_LINK.Linked,
    Sequence1=&gt;
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN=&gt;Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_CROSSING_INFORMATION=&gt;Messages.PACKET.TRACK_TO_TRAIN.LEVEL_CROSSING_INFORMATION.Message
                {
                    NID_PACKET=&gt;88,
                    Q_DIR=&gt;Messages.Q_DIR.Both_directions,
                    L_PACKET=&gt;400,
                    Q_SCALE=&gt;Messages.Q_SCALE._1_m_scaleC,
                    NID_LX=&gt;18,
                    D_LX=&gt;4000,
                    L_LX=&gt;50,
                    Q_LXSTATUS=&gt;Messages.Q_LXSTATUS.LX_is_protected,
                    V_LX=&gt;0,
                    Q_STOPLX=&gt;Messages.Q_STOPLX.No_stop_required,
                    L_STOPLX=&gt;0
                }
            }
        }
    ]
}</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="4b79971a-e3c4-456c-84a0-2c36ea97d4bc"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="f1037c8e-2029-44ac-af92-0eb94392a32e"
>(COUNT X IN Kernel.LX.MRSPLevelCrossings) == 1</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="8a6b9ada-22f8-4cf0-a12f-aed3fccb9034"
>(FIRST X IN Kernel.LX.MRSPLevelCrossings).Location == 4000.0</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase></TestCases>
</SubSequence><SubSequence
 D_LRBG=""
 Level=""
 Mode=""
 NID_LRBG=""
 Q_DIRLRBG=""
 Q_DIRTRAIN=""
 Q_DLRBG=""
 RBC_ID=""
 RBCPhone=""
 Name="Non protected LX received, no stopping required"
 Guid="d39d9db6-c41c-4aa1-9689-ee5ff6d44b82"
>
<TestCases>
<TestCase
 Feature="0"
 Case="0"
 Implemented="TRUE"
 Name="Non protected LX received, no stopping required"
 Guid="5ed6dfbf-3286-4c89-affa-26f22da38dd8"
>
<ReqRef
 Id="f80261a5-4553-4c43-ab09-2cf0da750a7e"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="2678eed9-8528-4d1b-87bc-b79c215b7a97"
>
</ReqRef><ReqRef
 Id="6caaedb4-a566-4536-a6c7-b958f8c96d03"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="cbbc45c2-38e8-4867-93d3-82d914b51394"
>
</ReqRef><ReqRef
 Id="f694242d-ad4f-45aa-a715-677610005bcb"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="bcf48cec-3113-42e2-a735-17650f2bf764"
>
</ReqRef><ReqRef
 Id="0f039a3b-873b-484c-913f-292a6031b162"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="8b28b81b-246b-40b8-ac13-ed0536c717ec"
>
</ReqRef><ReqRef
 Id="09955e19-89e5-4073-8a7b-b17cb637603a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="cb27aa50-9070-4aae-abb2-9c5d4fc2e9f6"
>
</ReqRef><ReqRef
 Id="9b54b401-0857-45af-bbb3-1ec502f39d2a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a87f24f7-5a8e-4411-b865-18c73db49ff1"
>
</ReqRef><ReqRef
 Id="b7d99bef-d372-4d0a-a74b-4a630f5762aa"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="b0b06f71-716c-4ce1-a4c0-e2012fa56a00"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="526ee88f-9a01-4d21-b71c-61e586e61a76"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="bb698d4f-5341-4317-a196-494d79fc56fb"
>
<Actions>
<Action
 Guid="195da376-4617-4592-ad0e-2e62c06bdbbb"
>Testing.InitializeTestEnvironment()</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - A non protected level crossing is received"
 Guid="9dde8588-7fe2-4daf-bb28-e7221f96684a"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="077c2158-8793-4950-8546-0c624a92d10e"
>
<Actions>
<Action
 Guid="5d6189e0-831e-43b2-b18a-4b7cdc08da16"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN=&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION=&gt;32,
    Q_MEDIA=&gt;Messages.Q_MEDIA.Balise,
    N_PIG=&gt;0,
    N_TOTAL=&gt;0,
    M_DUP=&gt;Messages.M_DUP.No_duplicates,
    M_MCOUNT=&gt;4,
    NID_C=&gt;140,
    NID_BG=&gt;2126,
    Q_LINK=&gt;Messages.Q_LINK.Linked,
    Sequence1=&gt;
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN=&gt;Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_CROSSING_INFORMATION=&gt;Messages.PACKET.TRACK_TO_TRAIN.LEVEL_CROSSING_INFORMATION.Message
                {
                    NID_PACKET=&gt;88,
                    Q_DIR=&gt;Messages.Q_DIR.Both_directions,
                    L_PACKET=&gt;400,
                    Q_SCALE=&gt;Messages.Q_SCALE._1_m_scaleC,
                    NID_LX=&gt;20,
                    D_LX=&gt;800,
                    L_LX=&gt;100,
                    Q_LXSTATUS=&gt;Messages.Q_LXSTATUS.LX_is_not_protected,
                    V_LX=&gt;8,
                    Q_STOPLX=&gt;Messages.Q_STOPLX.No_stop_required,
                    L_STOPLX=&gt;0
                }
            }
        }
    ]
}</Action><Action
 Guid="a1897832-bbd5-4f11-aa07-4e687a99f14e"
>Kernel.LX.SupervisedLevelCrossings &lt;- []</Action><Action
 Guid="ad7d6f1f-34e3-4735-bcd1-4ad5f1f140f1"
>Odometry.NominalDistance &lt;- 2500.0</Action><Action
 Guid="a6753e47-bb6a-4d83-a5b5-c2c94a6341a2"
>BTM.LRBG&lt;- BTM.BaliseGroupStruct
{
    NID=&gt;9618,
    Orientation=&gt;Orientation.Nominal,
    Position=&gt;BTM.Position
    {
        OverReadingAmountOdo=&gt;6.0,
        Position=&gt;2000.0,
        UnderReadingAmountOdo=&gt;2.0
    }
}</Action><Action
 Guid="7bf08c5e-6af7-4039-aa45-6282f1e4ad0f"
>Kernel.TrainPosition.Position.DirectionalPositionInformation.TrainOrientation &lt;- Default.Orientation.Nominal</Action><Action
 Guid="2dde0040-c05c-493c-817a-36c258baa143"
>Odometry.Accuracy &lt;- Odometry.OdometerAccuracy 
{
    D_ura =&gt; 15.0,
    D_ora =&gt; 14.0,
    V_ora =&gt; 0.0,
    V_ura =&gt; 0.0
}</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 Guid="38064b26-a4be-4682-aef6-1233ed88ad26"
>(COUNT X IN Kernel.LX.SupervisedLevelCrossings) == 1</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="6fd40420-01d4-4e3c-8fc8-6b1d223ae91d"
>(COUNT X IN Kernel.LX.MRSPLevelCrossings) == 0</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - LX data check"
 Guid="d535fd8a-e61b-43cc-98d6-341dd1acd7e1"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="5e1ef9f0-9a07-46a8-a0be-eb3985642f5a"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 Guid="c3089584-871b-4e25-a9fe-337735d70ab9"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).Id == 20</Expectation><Expectation
 Kind="Instantaneous"
 Guid="5b478a63-5035-4c12-ad9d-cd5fc27fdeb7"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).Location == 800.0</Expectation><Expectation
 Kind="Instantaneous"
 Guid="4dbf659b-ba26-4480-ae93-eb6d6c467cd2"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).Length == 100.0</Expectation><Expectation
 Kind="Instantaneous"
 Guid="8b56fc24-785c-42b6-9b08-a958cf61e219"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).IsProtected == False</Expectation><Expectation
 Kind="Instantaneous"
 Guid="460c38aa-4d60-4d89-8f13-212e8a0acbfb"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).Speed == 40.0</Expectation><Expectation
 Kind="Instantaneous"
 Guid="1e1f68cc-a29d-457f-bdad-523c401e7d4b"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).StoppingRequired == False</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step4 - Speed restrictions check"
 Guid="6d276e70-cb22-4688-9a9b-6eac5dbea90a"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="fbc7220f-975a-4652-8582-072ee99d285b"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 Guid="600d1f85-ebe1-44a5-a40b-2869d778cc03"
>Kernel.LX.SpeedRestrictions ( 899.0 ) &gt;= BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="827cfc4f-2f52-4e9a-a82a-6e40d58365f1"
>Kernel.LX.SpeedRestrictions ( 500.0 ) &gt;= BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="eff485cf-24e4-413a-a58b-f759dc3f699c"
>Kernel.LX.SpeedRestrictions ( 900.0 ) &gt;= BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="108b57d0-f8ae-44b9-b356-7cffb335eda8"
>Kernel.LX.SpeedRestrictions ( 800.0 ) &gt;= BaseTypes.Speed.MaxSpeed</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step5 - MSRP substitution location is reached"
 Guid="2464b15e-3d45-4e59-aa7c-25a170ff344e"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="3096597a-7071-4448-b4ee-ef0221ecde8a"
>
<Actions>
<Action
 Guid="a5e1f1b9-55bd-4166-a086-7f4ed66da308"
>Odometry.NominalDistance &lt;- BTM.LRBG.Position.Position + 790.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="046e46b0-fe8e-4a83-9c39-6ee061d9e7d3"
>(COUNT X IN Kernel.LX.MRSPLevelCrossings) == 1</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="a5d078c5-10f6-4dbd-838f-542fbdc295da"
>(COUNT X IN Kernel.LX.SupervisedLevelCrossings) == 0</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase></TestCases>
</SubSequence><SubSequence
 D_LRBG=""
 Level=""
 Mode=""
 NID_LRBG=""
 Q_DIRLRBG=""
 Q_DIRTRAIN=""
 Q_DLRBG=""
 RBC_ID=""
 RBCPhone=""
 Name="Non protected LX received, stopping required"
 Guid="f8fa9748-1493-449b-ad4a-4630490031f5"
>
<TestCases>
<TestCase
 Feature="0"
 Case="0"
 Implemented="TRUE"
 Name="Non protected LX, received, stopping required"
 Guid="34c38258-da22-45f0-8a6c-085336d200f4"
>
<ReqRef
 Id="f80261a5-4553-4c43-ab09-2cf0da750a7e"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="39706187-99d4-48df-89d7-ae6ee5ab5fb9"
>
</ReqRef><ReqRef
 Id="6caaedb4-a566-4536-a6c7-b958f8c96d03"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3dba7285-52a1-42f7-91f8-a5ee02ed0703"
>
</ReqRef><ReqRef
 Id="f694242d-ad4f-45aa-a715-677610005bcb"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="056f5ff2-dc8d-4075-8468-35891c056cab"
>
</ReqRef><ReqRef
 Id="0f039a3b-873b-484c-913f-292a6031b162"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c87bc5de-0675-4960-aa05-0d1c54b62903"
>
</ReqRef><ReqRef
 Id="09955e19-89e5-4073-8a7b-b17cb637603a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="2f5b6369-2767-4aad-9ecc-0cf3c6ec9662"
>
</ReqRef><ReqRef
 Id="40345205-ff68-43c5-b986-172b7e41c842"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="eb5a5a5c-f29e-45db-818d-bb0fd1bbc847"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="b96fcd0e-fbae-4ebf-bb56-87eb43c68466"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="03033486-f8fa-4df1-b680-aa18d0d70c7b"
>
<Actions>
<Action
 Guid="220a2ac6-acc8-4a4b-a538-17941e609607"
>Testing.InitializeTestEnvironment()</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - A non protected level crossing is received"
 Guid="a49bc4d6-f01e-4315-b1bf-b2662dc04eac"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="1dc757d6-f5ad-438d-8d2c-57a32946a82d"
>
<Actions>
<Action
 Guid="f801c245-e283-47e2-a669-942e40064092"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN=&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION=&gt;32,
    Q_MEDIA=&gt;Messages.Q_MEDIA.Balise,
    N_PIG=&gt;0,
    N_TOTAL=&gt;0,
    M_DUP=&gt;Messages.M_DUP.No_duplicates,
    M_MCOUNT=&gt;4,
    NID_C=&gt;140,
    NID_BG=&gt;2128,
    Q_LINK=&gt;Messages.Q_LINK.Linked,
    Sequence1=&gt;
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN=&gt;Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_CROSSING_INFORMATION=&gt;Messages.PACKET.TRACK_TO_TRAIN.LEVEL_CROSSING_INFORMATION.Message
                {
                    NID_PACKET=&gt;88,
                    Q_DIR=&gt;Messages.Q_DIR.Both_directions,
                    L_PACKET=&gt;400,
                    Q_SCALE=&gt;Messages.Q_SCALE._1_m_scaleC,
                    NID_LX=&gt;22,
                    D_LX=&gt;1200,
                    L_LX=&gt;240,
                    Q_LXSTATUS=&gt;Messages.Q_LXSTATUS.LX_is_not_protected,
                    V_LX=&gt;10,
                    Q_STOPLX=&gt;Messages.Q_STOPLX.Stop_required,
                    L_STOPLX=&gt;70
                }
            }
        }
    ]
}</Action><Action
 Guid="1e9b613d-5c4e-4c57-ba9f-95729930c0aa"
>Kernel.LX.SupervisedLevelCrossings &lt;- []</Action><Action
 Guid="696e7774-087d-49ef-af78-8b35e21bf1c6"
>BTM.LRBG&lt;- BTM.BaliseGroupStruct
{
    NID=&gt;9619,
    Orientation=&gt;Orientation.Nominal,
    Position=&gt;BTM.Position
    {
        OverReadingAmountOdo=&gt;16.0,
        Position=&gt;2200.0,
        UnderReadingAmountOdo=&gt;14.0
    }
}</Action><Action
 Guid="466819ce-7db8-4b36-a863-9f12d86a5822"
>Odometry.NominalDistance &lt;- 2700.0</Action><Action
 Guid="aa060f23-1ede-4f7c-b598-2d27f6d0bca3"
>Kernel.TrainPosition.Position.DirectionalPositionInformation.TrainOrientation &lt;- Default.Orientation.Nominal</Action><Action
 Guid="81291146-ffd0-49c4-a550-7e55b6d6f836"
>Odometry.Accuracy &lt;- Odometry.OdometerAccuracy 
{
    D_ura =&gt; 24.0,
    D_ora =&gt; 29.0,
    V_ora =&gt; 0.0,
    V_ura =&gt; 0.0
}</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 Guid="3d33535d-8fa8-4d37-bee3-0172c22cb7ad"
>(COUNT X IN Kernel.LX.SupervisedLevelCrossings) == 1</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="c74987e3-502a-4b65-abdd-5b577b323f06"
>(COUNT X IN Kernel.LX.MRSPLevelCrossings) == 0</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - LX data check"
 Guid="10cb424d-4392-4495-8bff-5fc3015ac84c"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="edfe821b-351a-4add-8472-84d5251984ad"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 Guid="b23c97aa-4b75-4190-a524-cf59b534fd67"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).Id == 22</Expectation><Expectation
 Kind="Instantaneous"
 Guid="c15d563e-b77b-4e2c-8b33-56f481f31adc"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).Location == 1200.0</Expectation><Expectation
 Kind="Instantaneous"
 Guid="ec3e55ea-cf84-4afa-b59e-e606bc8c68a0"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).Length == 240.0</Expectation><Expectation
 Kind="Instantaneous"
 Guid="a1b4a5fb-e1fe-455f-985d-34787ebc6557"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).IsProtected == False</Expectation><Expectation
 Kind="Instantaneous"
 Guid="97f5d4d3-0de9-4100-bd9c-b409efa58465"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).Speed == 50.0</Expectation><Expectation
 Kind="Instantaneous"
 Guid="0029e1c1-bedd-4b42-b45c-5fa0d5326986"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).StoppingRequired == True</Expectation><Expectation
 Kind="Instantaneous"
 Guid="64840633-e601-47e2-b106-7d04a47aa911"
>(FIRST X IN Kernel.LX.SupervisedLevelCrossings).StoppingAreaLength == 70.0</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step4 - Speed restrictions check"
 Guid="2ba03ee6-214e-4004-b088-18c97a35af39"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="ade26c59-e95a-48f6-8a19-9fb34d044425"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 Guid="06964456-3755-414a-a978-e6356d9a16ef"
>Kernel.LX.SpeedRestrictions ( 1200.0 ) &gt;= BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="fff2cd79-bc76-42de-bb34-9d3ad5333e09"
>Kernel.LX.SpeedRestrictions ( 2000.0 ) &gt;= BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="0f34469c-0e1b-4710-9e15-9400c4dd18fa"
>Kernel.LX.SpeedRestrictions ( 1400.0 ) &gt;= BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="207deeb4-208e-416a-8d93-e0e9e8d938dc"
>Kernel.LX.SpeedRestrictions ( 1130.0 ) &gt;= BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="fda33045-f559-4f30-8182-9f06b4875f42"
>Kernel.LX.SpeedRestrictions ( 1440.0 ) &gt;= BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="d82a7ca5-35d9-4a19-8a92-f0c7ca46e891"
>Kernel.LX.SpeedRestrictions ( 1500.0 ) &gt;= BaseTypes.Speed.MaxSpeed</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step5 - Train stops in the stopping area"
 Guid="f1c30491-3401-4d36-884c-48581ac41a47"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="5af3aa03-8aff-4b6d-87f1-e12293c020cf"
>
<Actions>
<Action
 Guid="09a2bcef-b2f1-4ebe-9535-bb649639cbfa"
>Odometry.NominalDistance &lt;- BTM.LRBG.Position.Position + 1170.0</Action><Action
 Guid="43c9e8cf-1818-4c57-bbba-c37532b384c0"
>Odometry.EstimatedSpeed &lt;- 0.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 Guid="2c42d772-36bd-4453-8f44-ce860a5ad422"
>Kernel.LX.SpeedRestrictions ( 1130.0 ) &gt;= BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="b7b313b0-dfc4-43de-83d5-619d461a1bfd"
>Kernel.LX.SpeedRestrictions ( 1200.0 ) &gt;= 50.</Expectation><Expectation
 Kind="Instantaneous"
 Guid="907e5b96-40d3-48ec-8573-ce3936bd9e7a"
>Kernel.LX.SpeedRestrictions ( 1400.0 ) &gt;= 50.0</Expectation><Expectation
 Kind="Instantaneous"
 Guid="cf8af44f-c813-48f8-b9c0-03e5b0601f65"
>Kernel.LX.SpeedRestrictions ( 1440.0 ) &gt;= BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="7da039f8-59b0-4e77-9115-934c91d74780"
>Kernel.LX.SpeedRestrictions ( 1500.0 ) &gt;= BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="5af224f4-3b5b-47f3-94b8-e40df36b885b"
>Kernel.LX.SpeedRestrictions ( 2000.0 ) &gt;= BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="44cc3dd8-65cb-4ca6-a7c2-cd7278277e0b"
>(COUNT X IN Kernel.LX.MRSPLevelCrossings) == 1</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="32b5cec7-245f-43a8-b860-92620a44925e"
>(COUNT X IN Kernel.LX.SupervisedLevelCrossings) == 0</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase></TestCases>
</SubSequence><SubSequence
 D_LRBG=""
 Level=""
 Mode=""
 NID_LRBG=""
 Q_DIRLRBG=""
 Q_DIRTRAIN=""
 Q_DLRBG=""
 RBC_ID=""
 RBCPhone=""
 Name="Protected LX received"
 Guid="2dacbf89-f11a-4bfe-b7fb-3400b9264739"
>
<TestCases>
<TestCase
 Feature="0"
 Case="0"
 Implemented="TRUE"
 Name="Protected LX received"
 Guid="ec895baf-73c6-4913-ad34-c9f49015732b"
>
<ReqRef
 Id="f80261a5-4553-4c43-ab09-2cf0da750a7e"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="9f33631d-2887-449f-b57d-17684c8db67e"
>
</ReqRef><ReqRef
 Id="6caaedb4-a566-4536-a6c7-b958f8c96d03"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="42091bd0-2d4c-4cec-8c60-37e34659dd00"
>
</ReqRef><ReqRef
 Id="0f039a3b-873b-484c-913f-292a6031b162"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="977b16ac-14e6-4fab-b807-244b28117a8d"
>
</ReqRef><ReqRef
 Id="09955e19-89e5-4073-8a7b-b17cb637603a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="bba1c265-2108-4eaf-97cd-e2338ab8bef1"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="c7264d72-c9ae-435c-94e2-abb6a02937be"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="5aae6a73-ac37-4647-8ddd-24c4ae5b3021"
>
<Actions>
<Action
 Guid="5fd529bf-edd4-4504-b985-a9db1567b021"
>Testing.InitializeTestEnvironment()</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - A protected level crossing is received"
 Guid="4793d026-ef1d-451a-bec8-4ccd8678d586"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="0e608ca1-ae82-4d68-87fa-200a8ac9a429"
>
<Actions>
<Action
 Guid="f70eca84-5b72-4d00-aec7-448e35826d0e"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN=&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION=&gt;32,
    Q_MEDIA=&gt;Messages.Q_MEDIA.Balise,
    N_PIG=&gt;0,
    N_TOTAL=&gt;0,
    M_DUP=&gt;Messages.M_DUP.No_duplicates,
    M_MCOUNT=&gt;4,
    NID_C=&gt;140,
    NID_BG=&gt;2124,
    Q_LINK=&gt;Messages.Q_LINK.Linked,
    Sequence1=&gt;
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN=&gt;Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_CROSSING_INFORMATION=&gt;Messages.PACKET.TRACK_TO_TRAIN.LEVEL_CROSSING_INFORMATION.Message
                {
                    NID_PACKET=&gt;88,
                    Q_DIR=&gt;Messages.Q_DIR.Both_directions,
                    L_PACKET=&gt;400,
                    Q_SCALE=&gt;Messages.Q_SCALE._1_m_scaleC,
                    NID_LX=&gt;18,
                    D_LX=&gt;1000,
                    L_LX=&gt;50,
                    Q_LXSTATUS=&gt;Messages.Q_LXSTATUS.LX_is_protected,
                    V_LX=&gt;0,
                    Q_STOPLX=&gt;Messages.Q_STOPLX.No_stop_required,
                    L_STOPLX=&gt;0
                }
            }
        }
    ]
}</Action><Action
 Guid="98dd78b9-0580-462a-8dd8-5a4bb0771e93"
>Kernel.LX.SupervisedLevelCrossings &lt;- []</Action><Action
 Guid="6ec31930-8f5c-4f8b-9d30-f69cc2a347ae"
>BTM.LRBG &lt;- BTM.BaliseGroupStruct
{
    NID =&gt; 9620,
    Orientation =&gt; Orientation.Nominal,
    Position =&gt; BTM.Position
    {
        OverReadingAmountOdo =&gt; 44.0,
        Position =&gt; 2600.0,
        UnderReadingAmountOdo =&gt; 41.0
    }
}</Action><Action
 Guid="a97693f2-19f3-48f8-82a7-37b9b8a7a6bd"
>Odometry.NominalDistance &lt;- 3100.0</Action><Action
 Guid="8f38ebb4-a9f4-4d8c-b30d-9a85ea7b7378"
>Kernel.TrainPosition.Position.DirectionalPositionInformation.TrainOrientation &lt;- Default.Orientation.Nominal</Action><Action
 Guid="a4d7f0d0-adf1-4551-b619-8a62f464c5fd"
>Odometry.Accuracy &lt;- Odometry.OdometerAccuracy 
{
    D_ura =&gt; 54.0,
    D_ora =&gt; 52.0,
    V_ora =&gt; 0.0,
    V_ura =&gt; 0.0
}</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 Guid="16e47f9c-45b2-40ca-ae74-fa6376433e9b"
>(COUNT X IN Kernel.LX.MRSPLevelCrossings) == 1</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - LX data check"
 Guid="77fff356-a7df-4b28-8616-09f658d531fb"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="3eb66850-a095-4a9e-a0bc-547ba98ff843"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 Guid="8a6fa354-94ae-45b7-8cfc-3a8e7ff93a2e"
>(FIRST X IN Kernel.LX.MRSPLevelCrossings).Id == 18</Expectation><Expectation
 Kind="Instantaneous"
 Guid="fd9ac3b7-4b83-4c38-a679-63256ec00013"
>(FIRST X IN Kernel.LX.MRSPLevelCrossings).Location == 1000.0</Expectation><Expectation
 Kind="Instantaneous"
 Guid="1bd8f2f7-1076-49b1-bc9d-57f14a6f8267"
>(FIRST X IN Kernel.LX.MRSPLevelCrossings).Length == 50.0</Expectation><Expectation
 Kind="Instantaneous"
 Guid="49ca7685-d176-4b44-bd2a-6d14a6a65e27"
>(FIRST X IN Kernel.LX.MRSPLevelCrossings).IsProtected == True</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step4 - Speed restrictions check"
 Guid="4dd320cc-39e0-4422-b3f2-4c3aecb2ad05"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="20b97987-a86e-4979-b7a0-18fcb76956af"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 Guid="b07be50e-ef76-4b10-876b-f838fd185e2d"
>Kernel.LX.SpeedRestrictions ( 2000.0 ) &gt;= 150.0</Expectation><Expectation
 Kind="Instantaneous"
 Guid="447cfd77-61a7-4de6-b793-8777adb0c941"
>Kernel.LX.SpeedRestrictions ( 3000.0 ) &gt;= 150.0</Expectation><Expectation
 Kind="Instantaneous"
 Guid="4b3772c7-1bd7-4d51-9789-d4152a11fa8b"
>Kernel.LX.SpeedRestrictions ( 1000.0 ) &gt;= 150.0</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase></TestCases>
</SubSequence><SubSequence
 D_LRBG=""
 Level=""
 Mode=""
 NID_LRBG=""
 Q_DIRLRBG=""
 Q_DIRTRAIN=""
 Q_DLRBG=""
 RBC_ID=""
 RBCPhone=""
 Name="Several LXs received"
 Guid="0bffb302-d194-418c-a3f8-13540031539f"
>
<TestCases>
<TestCase
 Feature="0"
 Case="0"
 Implemented="TRUE"
 Name="Several LXs received"
 Guid="ede582d8-e7e6-4633-be62-15bdf669bdb8"
>
<ReqRef
 Id="f80261a5-4553-4c43-ab09-2cf0da750a7e"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="50c26647-19f3-4e0a-a062-1744b6c3ac65"
>
</ReqRef><ReqRef
 Id="6caaedb4-a566-4536-a6c7-b958f8c96d03"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="87580f9c-71a3-4ecc-835e-66f9e8911280"
>
</ReqRef><ReqRef
 Id="0f039a3b-873b-484c-913f-292a6031b162"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="fe2de281-f9c3-40ef-8763-55e5ebc030c0"
>
</ReqRef><ReqRef
 Id="09955e19-89e5-4073-8a7b-b17cb637603a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3645a3a5-8947-4e73-8a0a-9d5d8660c8b1"
>
</ReqRef><ReqRef
 Id="40345205-ff68-43c5-b986-172b7e41c842"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="f87689ea-9255-46c1-8654-3822eb3f5666"
>
</ReqRef><ReqRef
 Id="9b54b401-0857-45af-bbb3-1ec502f39d2a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="04f3371e-e6ff-492e-8f21-1dd9323da722"
>
</ReqRef><ReqRef
 Id="b7d99bef-d372-4d0a-a74b-4a630f5762aa"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0c1e94be-ee0a-4b76-a80e-c20dafba0c21"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="7dd2bcdf-d88c-4a97-abaf-651b086e1482"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="a55b1634-6bc5-4a6e-9515-32e09aecb00f"
>
<Actions>
<Action
 Guid="0f557603-b73d-488e-8612-8a48f856c34b"
>Testing.InitializeTestEnvironment()</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - A protected level crossing is received"
 Guid="6422613d-f6e9-4b3a-9cd0-ff245a68e672"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="72af5c0b-8520-4f72-9538-5925a106f0f5"
>
<Actions>
<Action
 Guid="f6432060-d051-4c76-b8c3-21b708a48663"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN=&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION=&gt;32,
    Q_MEDIA=&gt;Messages.Q_MEDIA.Balise,
    N_PIG=&gt;0,
    N_TOTAL=&gt;0,
    M_DUP=&gt;Messages.M_DUP.No_duplicates,
    M_MCOUNT=&gt;4,
    NID_C=&gt;140,
    NID_BG=&gt;2124,
    Q_LINK=&gt;Messages.Q_LINK.Linked,
    Sequence1=&gt;
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN=&gt;Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_CROSSING_INFORMATION=&gt;Messages.PACKET.TRACK_TO_TRAIN.LEVEL_CROSSING_INFORMATION.Message
                {
                    NID_PACKET=&gt;88,
                    Q_DIR=&gt;Messages.Q_DIR.Both_directions,
                    L_PACKET=&gt;400,
                    Q_SCALE=&gt;Messages.Q_SCALE._1_m_scaleC,
                    NID_LX=&gt;18,
                    D_LX=&gt;3000,
                    L_LX=&gt;50,
                    Q_LXSTATUS=&gt;Messages.Q_LXSTATUS.LX_is_protected,
                    V_LX=&gt;0,
                    Q_STOPLX=&gt;Messages.Q_STOPLX.No_stop_required,
                    L_STOPLX=&gt;0
                }
            }
        }
    ]
}</Action><Action
 Guid="00d62fa8-cb2c-4102-a704-b0a12e0f1db7"
>Kernel.LX.SupervisedLevelCrossings &lt;- []</Action><Action
 Guid="0ad66d6d-325c-4a25-9b8d-0e99811cd9de"
>BTM.LRBG &lt;- BTM.BaliseGroupStruct
{
    NID =&gt; 9621,
    Orientation =&gt; Orientation.Nominal,
    Position =&gt; BTM.Position
    {
        OverReadingAmountOdo =&gt; 27.0,
        Position =&gt; 3000.0,
        UnderReadingAmountOdo =&gt; 24.0
    }
}</Action><Action
 Guid="94df64b6-d357-4641-a52c-f65d38758dba"
>Odometry.NominalDistance &lt;- 3500.0</Action><Action
 Guid="3e6e8e74-30af-4549-b1e4-dd613d2c8fa5"
>Kernel.TrainPosition.Position.DirectionalPositionInformation.TrainOrientation &lt;- Default.Orientation.Nominal</Action><Action
 Guid="0b959333-20b5-40d1-b689-a2e1aafd03e6"
>Odometry.Accuracy &lt;- Odometry.OdometerAccuracy 
{
    D_ura =&gt; 42.0,
    D_ora =&gt; 38.0,
    V_ora =&gt; 0.0,
    V_ura =&gt; 0.0
}</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 Guid="c8f217e4-3385-4793-8135-dcb906795115"
>(COUNT X IN Kernel.LX.MRSPLevelCrossings) == 1</Expectation><Expectation
 Kind="Instantaneous"
 Guid="65595750-2561-4276-bf5a-045522809e0f"
>Kernel.LX.SpeedRestrictions ( 1000.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="37a6e80b-e721-406a-b08c-7bc0be781a9c"
>Kernel.LX.SpeedRestrictions ( 3000.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="d945d918-814a-41b2-9c66-fcf18b7de193"
>Kernel.LX.SpeedRestrictions ( 3020.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="c89abb87-bb38-4c4e-990c-865aebb376e6"
>Kernel.LX.SpeedRestrictions ( 4000.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="370f799d-9eda-41f3-85ef-84aad7f8f434"
>(COUNT X IN Kernel.LX.SupervisedLevelCrossings) == 0</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - A non protected level crossing is received"
 Guid="31f7a90b-16bf-4b8d-8386-019cbcf3fb89"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="c4cf3041-00c5-490e-8169-a2183f161558"
>
<Actions>
<Action
 Guid="862c0251-2ccb-4782-b6ad-be71179747bf"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN=&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION=&gt;32,
    Q_MEDIA=&gt;Messages.Q_MEDIA.Balise,
    N_PIG=&gt;0,
    N_TOTAL=&gt;0,
    M_DUP=&gt;Messages.M_DUP.No_duplicates,
    M_MCOUNT=&gt;4,
    NID_C=&gt;140,
    NID_BG=&gt;2126,
    Q_LINK=&gt;Messages.Q_LINK.Linked,
    Sequence1=&gt;
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN=&gt;Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_CROSSING_INFORMATION=&gt;Messages.PACKET.TRACK_TO_TRAIN.LEVEL_CROSSING_INFORMATION.Message
                {
                    NID_PACKET=&gt;88,
                    Q_DIR=&gt;Messages.Q_DIR.Both_directions,
                    L_PACKET=&gt;400,
                    Q_SCALE=&gt;Messages.Q_SCALE._1_m_scaleC,
                    NID_LX=&gt;20,
                    D_LX=&gt;2000,
                    L_LX=&gt;100,
                    Q_LXSTATUS=&gt;Messages.Q_LXSTATUS.LX_is_not_protected,
                    V_LX=&gt;8,
                    Q_STOPLX=&gt;Messages.Q_STOPLX.No_stop_required,
                    L_STOPLX=&gt;0
                }
            }
        }
    ]
}</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 Guid="fee415b7-ad32-4025-8918-8e18692f50c5"
>Kernel.LX.SpeedRestrictions ( 1000.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="743c713d-2c61-412b-a4e6-41af129e1926"
>Kernel.LX.SpeedRestrictions ( 2000.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="a3dfef0a-43a6-4ad7-8c58-b6e266b16530"
>Kernel.LX.SpeedRestrictions ( 2099.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="68614665-fe53-447e-93c5-bf11d5933ea5"
>Kernel.LX.SpeedRestrictions ( 3000.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="912c578c-566d-47ea-8bb1-72ba745eb810"
>Kernel.LX.SpeedRestrictions ( 3020.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="e44a57f3-bb19-4b0e-9d2d-df129e949112"
>Kernel.LX.SpeedRestrictions ( 4000.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="492e51ee-3778-4f1b-b7e9-6eb4ff2f3bff"
>(COUNT X IN Kernel.LX.MRSPLevelCrossings) == 1</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="461770c0-cd5a-41b4-be16-b12435ab70c4"
>(COUNT X IN Kernel.LX.SupervisedLevelCrossings) == 1</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step4 - A non protected level crossing is received"
 Guid="d446ee50-80e2-4fd0-b6f1-9d692df27b1a"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="cb287f3a-895b-49c5-a74e-0505f30bd7c1"
>
<Actions>
<Action
 Guid="97a1991a-7d50-40b6-8bff-5c6a6d5e3a2a"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN=&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION=&gt;32,
    Q_MEDIA=&gt;Messages.Q_MEDIA.Balise,
    N_PIG=&gt;0,
    N_TOTAL=&gt;0,
    M_DUP=&gt;Messages.M_DUP.No_duplicates,
    M_MCOUNT=&gt;4,
    NID_C=&gt;140,
    NID_BG=&gt;2128,
    Q_LINK=&gt;Messages.Q_LINK.Linked,
    Sequence1=&gt;
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN=&gt;Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_CROSSING_INFORMATION=&gt;Messages.PACKET.TRACK_TO_TRAIN.LEVEL_CROSSING_INFORMATION.Message
                {
                    NID_PACKET=&gt;88,
                    Q_DIR=&gt;Messages.Q_DIR.Both_directions,
                    L_PACKET=&gt;400,
                    Q_SCALE=&gt;Messages.Q_SCALE._1_m_scaleC,
                    NID_LX=&gt;22,
                    D_LX=&gt;2500,
                    L_LX=&gt;40,
                    Q_LXSTATUS=&gt;Messages.Q_LXSTATUS.LX_is_not_protected,
                    V_LX=&gt;4,
                    Q_STOPLX=&gt;Messages.Q_STOPLX.Stop_required,
                    L_STOPLX=&gt;50
                }
            }
        }
    ]
}</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 Guid="33a4c9a7-3d00-4f01-ac3e-00426a2827d5"
>Kernel.LX.SpeedRestrictions ( 1000.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="275d6ba0-a101-466b-8447-3fcebabdbef5"
>Kernel.LX.SpeedRestrictions ( 2000.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="9a0ca218-e1a1-46bf-a04f-681a7fafe2c8"
>Kernel.LX.SpeedRestrictions ( 2099.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="a40d11fd-4818-4799-87af-05b29e9af373"
>Kernel.LX.SpeedRestrictions ( 2450.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="bba3a0ec-d438-4a27-b0c3-3871f7d5e2c1"
>Kernel.LX.SpeedRestrictions ( 2500.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="a501ec06-a4eb-438a-b9ff-56aa67287409"
>Kernel.LX.SpeedRestrictions ( 2539.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="28c9acaa-04f9-44ab-9b53-a5ef2f7c0be1"
>Kernel.LX.SpeedRestrictions ( 2540.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="0161ecb4-1a4f-4bc7-b3c9-fbc049f0e491"
>Kernel.LX.SpeedRestrictions ( 3000.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="4a124efe-72c4-4aaa-8cbb-2081ca5ebebb"
>Kernel.LX.SpeedRestrictions ( 3020.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 Guid="f36796d1-bb7a-4285-a82f-a84d25effd13"
>Kernel.LX.SpeedRestrictions ( 4000.0 ) == BaseTypes.Speed.MaxSpeed</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="a2b48ff3-6ff9-460b-b0ae-eab19907210c"
>(COUNT X IN Kernel.LX.SupervisedLevelCrossings) == 2</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="e30dec1b-2ead-47ed-84b1-ddd0ad6d9bd2"
>(COUNT X IN Kernel.LX.MRSPLevelCrossings) == 1</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step5 - The train reaches LX supervision location"
 Guid="53a77487-a311-4692-8086-41b35de40e7d"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="058bd99c-f789-4091-94cf-4fe7336811a7"
>
<Actions>
<Action
 Guid="2e5eca5b-4e47-4ce0-a8f1-726e0bc5d75f"
>Odometry.NominalDistance &lt;- BTM.LRBG.Position.Position + 1990.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="92f38336-cd52-4a9f-9b78-d4edffa0a48f"
>(COUNT X IN Kernel.LX.MRSPLevelCrossings) == 2</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="8ee49747-f8cc-40db-b871-befd5be0a236"
>(COUNT X IN Kernel.LX.SupervisedLevelCrossings) == 1</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step6 - Train stops in the stopping location"
 Guid="27a7bc39-87dd-460e-b696-db271405fd0f"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="0b34e9c6-5ea2-4c39-bcd4-94105f3e3455"
>
<Actions>
<Action
 Guid="13687742-07e1-4c19-94ed-3582c2faa535"
>Odometry.NominalDistance &lt;- BTM.LRBG.Position.Position + 2452.0</Action><Action
 Guid="028c34a3-7874-4d24-98a1-c3e4453da85b"
>Odometry.EstimatedSpeed &lt;- 0.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="aa8dad5c-0c81-4b18-9e59-1192b45c5cb3"
>(COUNT X IN Kernel.LX.SupervisedLevelCrossings) == 0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="20b88d31-40cd-44a6-8be8-66c001bf9fc0"
>(COUNT X IN Kernel.LX.MRSPLevelCrossings) == 3</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase></TestCases>
</SubSequence></SubSequences>
</Frame>
