<Frame
 CycleDuration="0.1"
 Name="Level transitions - Functional tests"
 Guid="2baba2c2-1565-48c8-b53f-6cf427c10629"
>
<SubSequences>
<SubSequence
 D_LRBG=""
 Level=""
 Mode=""
 NID_LRBG=""
 Q_DIRLRBG=""
 Q_DIRTRAIN=""
 Q_DLRBG=""
 RBC_ID=""
 RBCPhone=""
 Name="Retain Level 1 MA after transition to Level 2/3"
 Guid="872f065b-26d7-4ca3-87fa-8453fda3ace6"
>
<TestCases>
<TestCase
 Implemented="TRUE"
 Name="No Level 2/3 MA received, train supervised acccording to previous level 1 MA"
 Guid="13df6666-852d-4a02-a9d2-f31e33c38575"
>
<ReqRef
 Id="f56df936-9ada-4149-91ce-4742fb123bbb"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="2ef75edc-880a-4577-9efa-8711274a98fe"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="a10ae1d5-a5ed-4c96-a198-f5fffbee22d1"
>
<SubSteps>
<SubStep
 Name="Sub-step1 - Initialize test environment"
 Guid="22e58216-8f18-4687-a9b4-934d1a0e2fae"
>
<Actions>
<Action
 Guid="217d4391-49ae-4e99-bae7-5c13ec6197bc"
>Kernel.InitializeTestEnvironment()</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2 - Initialize elements for MA"
 Guid="9d7434d9-d975-4cae-b748-1e5741deceaa"
>
<Actions>
<Action
 Guid="a5e63a8d-70cf-46c8-bfa9-d8e1124bbcb7"
>Kernel.MA.InitializeElementsForMA()</Action></Actions>
</SubStep><SubStep
 Name="Sub-step3 - Set Level and Mode"
 Guid="c4f13228-2b9f-4804-aeb6-f441433dc9cb"
>
<Actions>
<Action
 Guid="d5dbc677-46dc-4b77-a151-3796963da174"
>Kernel.Mode &lt;- Mode.FS</Action><Action
 Guid="a3cfd791-7ce4-4f5a-9cf5-76f114955511"
>Kernel.Level &lt;- Kernel.LevelData{
    Value =&gt; LevelDataStruct{
        NTC =&gt; Default.NID_NTC.NOT_APPLICABLE,
        Value =&gt; Default.Level.L1
    },
    DataState =&gt; Default.DataState.Valid
}</Action><Action
 Guid="b9a7a770-948c-478a-8ce8-e25779bd565c"
>Kernel.MA.MA &lt;- Kernel.MA.MAStruct{
    TargetSpeed =&gt; 0.0,
    Sections =&gt; [],
    EndSection =&gt; Kernel.MA.EndSection{
        Length =&gt; 2500.0
    }
}</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - Receive Level Transition Order for Level 2"
 Guid="7efbfc2b-e9db-4820-ad2f-74104d0d26f3"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="744490da-c0e4-4953-b52f-61afe65a01a3"
>
<Actions>
<Action
 Guid="f8a2b4b3-f40c-40bc-9d44-4c28dcfa7a79"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 0,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN =&gt; Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_TRANSITION_ORDER =&gt; Messages.PACKET.TRACK_TO_TRAIN.LEVEL_TRANSITION_ORDER.Message
                {
                    NID_PACKET =&gt; 41,
                    Q_DIR =&gt; Messages.Q_DIR.Nominal,
                    L_PACKET =&gt; 0,
                    Q_SCALE =&gt; Messages.Q_SCALE._1_m_scaleC,
                    D_LEVELTR =&gt; 1400,
                    M_LEVELTR =&gt; Messages.M_LEVELTR.Level_2,
                    NID_NTC =&gt; 0,
                    L_ACKLEVELTR =&gt; 0,
                    N_ITER =&gt; 0
                }
            }
        }, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY
    ],
    BitField =&gt; &apos;&apos;
}</Action><Action
 Guid="0a9a665d-1ffd-4461-850a-d30b22a38522"
>Odometry.NominalDistance &lt;- 500.0</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="043bd470-568b-49b9-8f3f-91c333ad9caa"
>
<Actions>
<Action
 Guid="96768687-7b52-4640-9f54-21e7a42718f5"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; Messages.N_PIG._2C,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        
    ],
    BitField =&gt; &apos;&apos;
}</Action></Actions>
</SubStep><SubStep
 Name="Sub-step3 - Check MA"
 Guid="2ce9f465-f6c9-4c5c-8344-bf5257b2069a"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="f7ba56b5-1cde-4f16-afb8-2e2e1c12965e"
>Kernel.MA.MA.TargetSpeed == 0.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="d846927a-e4a1-4fb7-a786-fb15eb2a7ab4"
>Kernel.MA.MA.EndSection.Length == 2500.0</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - Level transition to L2, retain L1 MA"
 Guid="ab2dca26-3b4a-4426-955f-ceb824ad2eee"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="8be95276-f0da-406c-97e4-e6b61c629a2d"
>
<Actions>
<Action
 Guid="1be355cc-ff70-4c9b-829d-f3d71f805dde"
>Odometry.NominalDistance &lt;- 1451.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="7d9a226f-f873-46f2-9f07-5087adc3a6f0"
>Kernel.Level.Value.Value == Level.L2</Expectation></Expectations>
</SubStep><SubStep
 Name="Sub-step2 - Check MA is retained"
 Guid="8534f423-1a16-4653-8bf6-51214fc164db"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="2a0329bc-45c0-4008-a0e4-fed07a837ee0"
>Kernel.MA.MA.EndSection.Length == 2500.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="43b1537f-5e78-4376-916e-e794b60d4bd8"
>Kernel.MA.MA.TargetSpeed == 0.0</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase></TestCases>
</SubSequence><SubSequence
 D_LRBG=""
 Level=""
 Mode=""
 NID_LRBG=""
 Q_DIRLRBG=""
 Q_DIRTRAIN=""
 Q_DLRBG=""
 RBC_ID=""
 RBCPhone=""
 Name="Retain Level 2/3 MA after transition to Level 1"
 Guid="10d25328-d996-41b4-ac7f-e9b1eeea763a"
>
<TestCases>
<TestCase
 Name="No Level 1 MA received, train supervised acccording to previous level 2/3 MA"
 Guid="5bf8e688-cbd0-4bc7-8f9c-ca143e0cf8e7"
>
<ReqRef
 Id="47a5b75a-d6f4-49e5-b2aa-7370f9aa1173"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c46d7cfb-9adc-4532-aa22-5cf882a87e12"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="a38f4c42-7f10-4ec7-8b26-ce7a0a253457"
>
<SubSteps>
<SubStep
 Name="Sub-step1 - Initialize test environment"
 Guid="0c4fbde4-373a-426d-a16d-c29092f5d4a4"
>
<Actions>
<Action
 Guid="85f58faa-cb5b-4dff-8325-36a34f0dec59"
>Kernel.InitializeTestEnvironment()</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2 - Initialize elements for MA"
 Guid="f4e36036-27de-40aa-b017-9be8b8895118"
>
<Actions>
<Action
 Guid="15ddd14a-2870-4116-ac46-95165732d87a"
>Kernel.MA.InitializeElementsForMA()</Action></Actions>
</SubStep><SubStep
 Name="Sub-step3 - Set Level and Mode"
 Guid="9c5d2e06-c644-45a2-b897-829fe705cc5c"
>
<Actions>
<Action
 Guid="154f29fb-844a-4a03-8638-0899a8d206cb"
>Kernel.Mode &lt;- Mode.FS</Action><Action
 Guid="504fd31d-d4c2-4eeb-8180-4188b5d95281"
>Kernel.Level &lt;- Kernel.LevelData{
    Value =&gt; LevelDataStruct{
        NTC =&gt; Default.NID_NTC.NOT_APPLICABLE,
        Value =&gt; Default.Level.L2
    },
    DataState =&gt; Default.DataState.Valid
}</Action><Action
 Guid="56fe791c-dee6-494d-a12a-e83e5045adde"
>Kernel.MA.MA &lt;- Kernel.MA.MAStruct{
    TargetSpeed =&gt; 0.0,
    Sections =&gt; [],
    EndSection =&gt; Kernel.MA.EndSection{
        Length =&gt; 2500.0
    }
}</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - Receive Level Transition Order for Level 1"
 Guid="4e6a1294-be05-414b-a8cb-557650aec355"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="7da9266f-f255-4cfb-84b2-7e366944387f"
>
<Actions>
<Action
 Guid="ca801b45-3c53-405d-a93d-dd5214643ce0"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_2_0__introduced_in_SRS_3_0_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 0,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN =&gt; Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_TRANSITION_ORDER =&gt; Messages.PACKET.TRACK_TO_TRAIN.LEVEL_TRANSITION_ORDER.Message
                {
                    NID_PACKET =&gt; 41,
                    Q_DIR =&gt; Messages.Q_DIR.Nominal,
                    L_PACKET =&gt; 0,
                    Q_SCALE =&gt; Messages.Q_SCALE._1_m_scaleC,
                    D_LEVELTR =&gt; 1400,
                    M_LEVELTR =&gt; Messages.M_LEVELTR.Level_1,
                    NID_NTC =&gt; 0,
                    L_ACKLEVELTR =&gt; 0,
                    N_ITER =&gt; 0
                }
            }
        }, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY
    ],
    BitField =&gt; &apos;&apos;
}</Action><Action
 Guid="14ed9bd1-88f4-4cec-92a8-e21de45806d4"
>Odometry.NominalDistance &lt;- 500.0</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="0168e2c6-6d3a-46cf-a64a-a32104add3ac"
>
<Actions>
<Action
 Guid="a7aca81b-8b54-4558-ae82-e343deebd6a0"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; Messages.N_PIG._2C,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        
    ],
    BitField =&gt; &apos;&apos;
}</Action></Actions>
</SubStep><SubStep
 Name="Sub-step3 - Check MA"
 Guid="d1d20be4-aefd-4862-9c0d-b2b8be6f75c4"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="2199b449-ffca-43f6-9594-61fb1ef3ef11"
>Kernel.MA.MA.TargetSpeed == 0.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="77e4b0fb-1f45-4134-98bb-8629a6406893"
>Kernel.MA.MA.EndSection.Length == 2500.0</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - Level transition to L2, retain L1 MA"
 Guid="1220729c-c4c1-429c-8162-0545b7f37a0f"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="a239d533-1bb6-4fb4-849d-31d5ac9f011e"
>
<Actions>
<Action
 Guid="09725c4c-3f70-4324-9df7-3c49d38a3e6e"
>Odometry.NominalDistance &lt;- 1451.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="b855f194-a514-4745-aaa4-71f6366c6dca"
>Kernel.Level.Value.Value == Level.L1</Expectation></Expectations>
</SubStep><SubStep
 Name="Sub-step2 - Check MA is retained"
 Guid="e6b1ffc5-7c6b-4829-9f8d-bbcf3f20c613"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="18ed4dcb-62ef-4af4-946a-44d902fdf0f4"
>Kernel.MA.MA.EndSection.Length == 2500.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="1b8d572a-05d4-4c9e-8f87-c9dbbc6fbffe"
>Kernel.MA.MA.TargetSpeed == 0.0</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase></TestCases>
</SubSequence><SubSequence
 D_LRBG=""
 Level=""
 Mode=""
 NID_LRBG=""
 Q_DIRLRBG=""
 Q_DIRTRAIN=""
 Q_DLRBG=""
 RBC_ID=""
 RBCPhone=""
 Name="MA not received for Level 1/2/3 -&gt; Trip"
 Guid="2fd51af7-a0ec-4a23-bd61-f358cab40b43"
>
<TestCases>
<TestCase
 Name="Level 0 -&gt; 1"
 Guid="9b9b68ce-8f2b-4ca8-9f2e-b74398487841"
>
<ReqRef
 Id="5ccf76c1-cbde-4d3f-bd38-dfdee972897f"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5adea724-2fef-44e9-8116-e4c4342837c3"
>
</ReqRef><ReqRef
 Id="9f7cd9dd-dfd3-4f94-a0de-9aec2ca7834a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="373e8382-cd5d-4610-a9b8-656bd5e746de"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="25f2d095-c881-42ac-9cd4-a3df08402fe1"
>
<SubSteps>
<SubStep
 Name="Sub-step1 - Initialize test environment"
 Guid="9d8d9250-5556-4dca-8b66-204ef3ed9a22"
>
<Actions>
<Action
 Guid="c91cc4be-6221-4c87-86d0-a99aebbabfc5"
>Kernel.InitializeTestEnvironment()</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2 - Set Level and Mode"
 Guid="31675dee-6bf9-4d14-b8b0-53c88fc09b21"
>
<Actions>
<Action
 Guid="e7bdda2a-3c79-4365-aea6-e91556fee686"
>Kernel.Mode &lt;- Mode.UN</Action><Action
 Guid="d23bb731-2cb2-4912-8473-7ac7ef540cc4"
>Kernel.Level &lt;- Kernel.LevelData{
    Value =&gt; LevelDataStruct{
        NTC =&gt; Default.NID_NTC.NOT_APPLICABLE,
        Value =&gt; Default.Level.L0
    },
    DataState =&gt; Default.DataState.Valid
}</Action><Action
 Guid="7bb8b6da-54a9-4ed4-8324-f1df1bb1e757"
>Kernel.MA.MA &lt;- EMPTY</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - Receive Level Transition Order for Level 1"
 Guid="0400adb1-45f4-41bb-9c51-0b40c33aab08"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="3cc996d7-3b5f-4f5a-b0bf-a599fe080f7b"
>
<Actions>
<Action
 Guid="7de3d095-9572-4aa1-bba5-123e18f3e018"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 0,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN =&gt; Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_TRANSITION_ORDER =&gt; Messages.PACKET.TRACK_TO_TRAIN.LEVEL_TRANSITION_ORDER.Message
                {
                    NID_PACKET =&gt; 41,
                    Q_DIR =&gt; Messages.Q_DIR.Nominal,
                    L_PACKET =&gt; 0,
                    Q_SCALE =&gt; Messages.Q_SCALE._1_m_scaleC,
                    D_LEVELTR =&gt; 1400,
                    M_LEVELTR =&gt; Messages.M_LEVELTR.Level_1,
                    NID_NTC =&gt; 0,
                    L_ACKLEVELTR =&gt; 0,
                    N_ITER =&gt; 0
                }
            }
        }, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY
    ],
    BitField =&gt; &apos;&apos;
}</Action><Action
 Guid="f4279c23-7862-4230-896e-b5f0f8ddef17"
>Odometry.NominalDistance &lt;- 500.0</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="528ba585-4193-4aad-92d1-6bdcd6481d42"
>
<Actions>
<Action
 Guid="35d447a4-6585-4a98-a6e4-c187d4fd33e6"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; Messages.N_PIG._2C,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        
    ],
    BitField =&gt; &apos;&apos;
}</Action></Actions>
</SubStep><SubStep
 Name="Sub-step3 - Check MA"
 Guid="5549b97e-654a-4c6d-b1dc-b424a91ea91d"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="991b26c7-3452-4862-a2a6-64d4d4737a90"
>Kernel.MA.MA == EMPTY</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - Level transition to L1 with no MA, Trip"
 Guid="8efec5cf-5d3e-4150-a6d7-f206b0a2d17e"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="b10dc77f-d245-4d07-a1d3-fcc49b60c96e"
>
<Actions>
<Action
 Guid="ac41a046-f21d-4e1a-8093-a191cefa2023"
>Odometry.NominalDistance &lt;- 1451.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="612dbcbb-7676-4a9f-99ac-8422a8d6e6f2"
>Kernel.Level.Value.Value == Level.L1</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="78486699-e2dc-4932-bdd9-f91154c4f630"
>Kernel.Mode == Mode.TR</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase><TestCase
 Name="Level 0 -&gt; 2/3"
 Guid="25312951-402e-41fe-8ff0-ba1f9d54c67c"
>
<ReqRef
 Id="993ecba4-4a41-42a9-aa46-e1ea0e930d86"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="95ecacb2-3fa1-42c4-a224-f5b0e50ba514"
>
</ReqRef><ReqRef
 Id="9f7cd9dd-dfd3-4f94-a0de-9aec2ca7834a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="b1b902f9-112c-4ef2-9dd2-3add30ed7ae5"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="6984bd57-f25c-404b-9cea-e46a14ad5652"
>
<SubSteps>
<SubStep
 Name="Sub-step1 - Initialize test environment"
 Guid="7264c34a-adb5-4b86-ad88-54c9919375f7"
>
<Actions>
<Action
 Guid="6a3c6067-9437-4751-9242-aeda576a5297"
>Kernel.InitializeTestEnvironment()</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2 - Set Level and Mode"
 Guid="bf4ae3bb-ad25-40d2-ab0c-e0e4556311fa"
>
<Actions>
<Action
 Guid="86774937-ff49-441b-9da7-6749aa335b15"
>Kernel.Mode &lt;- Mode.UN</Action><Action
 Guid="4e62343c-fcd1-4ded-81a1-854c1595876b"
>Kernel.Level &lt;- Kernel.LevelData{
    Value =&gt; LevelDataStruct{
        NTC =&gt; Default.NID_NTC.NOT_APPLICABLE,
        Value =&gt; Default.Level.L0
    },
    DataState =&gt; Default.DataState.Valid
}</Action><Action
 Guid="4a3e6816-f4f0-4c76-a279-66141401fea6"
>Kernel.MA.MA &lt;- EMPTY</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - Receive Level Transition Order for Level 2"
 Guid="a0b66242-bd8d-48d1-acda-c728395b4e5b"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="61be85de-82e6-4fae-8535-e0c6e8ea7eb3"
>
<Actions>
<Action
 Guid="d9863a21-f134-406d-a337-7a36263a86e1"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 0,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN =&gt; Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_TRANSITION_ORDER =&gt; Messages.PACKET.TRACK_TO_TRAIN.LEVEL_TRANSITION_ORDER.Message
                {
                    NID_PACKET =&gt; 41,
                    Q_DIR =&gt; Messages.Q_DIR.Nominal,
                    L_PACKET =&gt; 0,
                    Q_SCALE =&gt; Messages.Q_SCALE._1_m_scaleC,
                    D_LEVELTR =&gt; 1400,
                    M_LEVELTR =&gt; Messages.M_LEVELTR.Level_2,
                    NID_NTC =&gt; 0,
                    L_ACKLEVELTR =&gt; 0,
                    N_ITER =&gt; 0
                }
            }
        }, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY
    ],
    BitField =&gt; &apos;&apos;
}</Action><Action
 Guid="513c835e-88e9-4b93-b7d0-ab71ff08b10f"
>Odometry.NominalDistance &lt;- 500.0</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="c3bed836-b0af-45dc-9869-9b92fc0cb031"
>
<Actions>
<Action
 Guid="b6233058-dc04-43d6-9b80-a0a159a787f7"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; Messages.N_PIG._2C,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        
    ],
    BitField =&gt; &apos;&apos;
}</Action></Actions>
</SubStep><SubStep
 Name="Sub-step3 - Check MA"
 Guid="a9e772f9-b314-477c-ad71-f43fd117757b"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="6b19262f-0329-40a3-8363-f1114561487d"
>Kernel.MA.MA == EMPTY</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - Level transition to L2 with no MA, Trip"
 Guid="d1b6b533-6712-44dc-9456-91773c90b198"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="b829118b-c779-4d3f-8799-3e066fb61b8c"
>
<Actions>
<Action
 Guid="92a6f89d-99ba-44ce-ba08-4708b055e1c2"
>Odometry.NominalDistance &lt;- 1451.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="77ca2954-0fb5-4281-99f8-42e24717ea34"
>Kernel.Level.Value.Value == Level.L2</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="565e3d35-fdd1-43a2-aac4-9837015e954c"
>Kernel.Mode == Mode.TR</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase><TestCase
 Name="Level NTC -&gt; 1"
 Guid="2bcc6daa-69f6-4a92-90f1-9dc584b4f47c"
>
<ReqRef
 Id="b9beb249-7083-4fd4-bcbc-fdf20b210328"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="688ab2fa-5342-44ed-ad7f-d54ad17b3471"
>
</ReqRef><ReqRef
 Id="9f7cd9dd-dfd3-4f94-a0de-9aec2ca7834a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="17d0c509-66a6-4fad-99ed-ad9c1cf33713"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="8ce2c00a-8a05-4855-85f4-887bf72dcf70"
>
<SubSteps>
<SubStep
 Name="Sub-step1 - Initialize test environment"
 Guid="7f041873-84ad-4848-bb5b-aa08415bff07"
>
<Actions>
<Action
 Guid="033a6c4b-06f2-4ae3-a2fb-83d3858d646a"
>Kernel.InitializeTestEnvironment()</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2 - Set Level and Mode"
 Guid="907c8404-8e47-4c78-b650-9e845783c05c"
>
<Actions>
<Action
 Guid="23e61221-59c9-4312-89d2-ec136e5dae17"
>Kernel.Mode &lt;- Mode.SN</Action><Action
 Guid="34cf6ea9-f67b-4972-a6f6-54dbd39fdf43"
>Kernel.Level &lt;- Kernel.LevelData{
    Value =&gt; LevelDataStruct{
        NTC =&gt; 1,
        Value =&gt; Default.Level.LNTC
    },
    DataState =&gt; Default.DataState.Valid
}</Action><Action
 Guid="6e0535b2-5f44-4336-a4c0-cc13d56807cd"
>Kernel.MA.MA &lt;- EMPTY</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - Receive Level Transition Order for Level 2"
 Guid="d9e651e1-8aaa-4f09-a75e-929a54769cdf"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="281d0d5f-2790-42b6-92bc-e356fcbd3817"
>
<Actions>
<Action
 Guid="0e734d0d-ae7d-4d85-a816-d49f32ea7a87"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 0,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN =&gt; Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_TRANSITION_ORDER =&gt; Messages.PACKET.TRACK_TO_TRAIN.LEVEL_TRANSITION_ORDER.Message
                {
                    NID_PACKET =&gt; 41,
                    Q_DIR =&gt; Messages.Q_DIR.Nominal,
                    L_PACKET =&gt; 0,
                    Q_SCALE =&gt; Messages.Q_SCALE._1_m_scaleC,
                    D_LEVELTR =&gt; 1400,
                    M_LEVELTR =&gt; Messages.M_LEVELTR.Level_1,
                    NID_NTC =&gt; 0,
                    L_ACKLEVELTR =&gt; 0,
                    N_ITER =&gt; 0
                }
            }
        }, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY
    ],
    BitField =&gt; &apos;&apos;
}</Action><Action
 Guid="e175770b-a596-4ab8-a110-2a2785d63062"
>Odometry.NominalDistance &lt;- 500.0</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="2da94741-14b9-437c-a2f9-f6b3e871eec0"
>
<Actions>
<Action
 Guid="296391d7-1af9-40ba-99eb-878bb1169233"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; Messages.N_PIG._2C,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        
    ],
    BitField =&gt; &apos;&apos;
}</Action></Actions>
</SubStep><SubStep
 Name="Sub-step3 - Check MA"
 Guid="c6a113af-685c-49f3-8c42-f73e9cee5a55"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="c8f1bd6a-6231-459c-9298-5081c083f9de"
>Kernel.MA.MA == EMPTY</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - Level transition to L1 with no MA, Trip"
 Guid="3d4b9ef8-9814-4e3c-a821-ea38574dc1c3"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="b9d239ec-4202-4542-868d-a97d43731cff"
>
<Actions>
<Action
 Guid="6f681822-bea6-4ed5-9611-878d05cdfd3b"
>Odometry.NominalDistance &lt;- 1451.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="2263c9ef-3c64-4465-a82a-9f9c5eb91804"
>Kernel.Level.Value.Value == Level.L1</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="c7ddf6ef-0a9c-4df7-924b-08af7d3b6cbf"
>Kernel.Mode == Mode.TR</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase><TestCase
 Name="Level NTC -&gt; 2/3"
 Guid="8c6b2426-9ac9-43fe-8f1d-76f531819285"
>
<ReqRef
 Id="9b7b7260-4745-47d4-8972-ee9042015f08"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5b22982c-3b07-404e-8c42-67f9e408f566"
>
</ReqRef><ReqRef
 Id="9f7cd9dd-dfd3-4f94-a0de-9aec2ca7834a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="1854644a-c30e-4d65-87ff-cced18d088ed"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="d2ce8ea7-070b-4796-bacc-b22ada5b0144"
>
<SubSteps>
<SubStep
 Name="Sub-step1 - Initialize test environment"
 Guid="3441a019-41e2-4be8-9773-89984d44a0ab"
>
<Actions>
<Action
 Guid="d9243780-830e-48fb-82c7-5c47f97cc761"
>Kernel.InitializeTestEnvironment()</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2 - Set Level and Mode"
 Guid="255a8842-49ff-4fe6-b6e8-91f219f2f64c"
>
<Actions>
<Action
 Guid="9c0bd4ab-cdbd-4056-83b9-91942345be26"
>Kernel.Mode &lt;- Mode.SN</Action><Action
 Guid="70520306-047c-4bd2-8954-d75104acb30c"
>Kernel.Level &lt;- Kernel.LevelData{
    Value =&gt; LevelDataStruct{
        NTC =&gt; 1,
        Value =&gt; Default.Level.LNTC
    },
    DataState =&gt; Default.DataState.Valid
}</Action><Action
 Guid="4f70698c-cfaf-4a48-9e07-01cd488b4529"
>Kernel.MA.MA &lt;- EMPTY</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - Receive Level Transition Order for Level 2"
 Guid="087b59a6-07b6-4b24-9480-aa21299bbaa6"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="81bcf417-6891-4265-b2b2-e46177ed08ac"
>
<Actions>
<Action
 Guid="48c87866-db83-4508-b9d2-5f083d7cc4e6"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 0,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN =&gt; Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_TRANSITION_ORDER =&gt; Messages.PACKET.TRACK_TO_TRAIN.LEVEL_TRANSITION_ORDER.Message
                {
                    NID_PACKET =&gt; 41,
                    Q_DIR =&gt; Messages.Q_DIR.Nominal,
                    L_PACKET =&gt; 0,
                    Q_SCALE =&gt; Messages.Q_SCALE._1_m_scaleC,
                    D_LEVELTR =&gt; 1400,
                    M_LEVELTR =&gt; Messages.M_LEVELTR.Level_2,
                    NID_NTC =&gt; 0,
                    L_ACKLEVELTR =&gt; 0,
                    N_ITER =&gt; 0
                }
            }
        }, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY
    ],
    BitField =&gt; &apos;&apos;
}</Action><Action
 Guid="3dc337ad-23a2-45f8-b393-a5002b1f30ce"
>Odometry.NominalDistance &lt;- 500.0</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="9f794445-0dc8-4fb5-9541-80c0a8c23c2a"
>
<Actions>
<Action
 Guid="d49df559-5ee0-4207-8cdb-ba4f1c232785"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; Messages.N_PIG._2C,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        
    ],
    BitField =&gt; &apos;&apos;
}</Action></Actions>
</SubStep><SubStep
 Name="Sub-step3 - Check MA"
 Guid="b7572218-ebc6-4ec5-bff0-6b7f674b1194"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="7e68de87-87cf-4e3a-9296-b856f595219e"
>Kernel.MA.MA == EMPTY</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - Level transition to L2 with no MA, Trip"
 Guid="55d3fdbc-c05e-4edb-96cc-ed470b44f1a3"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="f0b52812-bd63-471b-87e3-6064ba11e543"
>
<Actions>
<Action
 Guid="2ef2c578-e543-4700-8947-e45c3c049658"
>Odometry.NominalDistance &lt;- 1451.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="c68188e3-ac41-4934-8646-ea61d98e28db"
>Kernel.Level.Value.Value == Level.L2</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="633f8590-c23e-4c7c-b711-7262db6b90ca"
>Kernel.Mode == Mode.TR</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase></TestCases>
</SubSequence><SubSequence
 D_LRBG=""
 Level=""
 Mode=""
 NID_LRBG=""
 Q_DIRLRBG=""
 Q_DIRTRAIN=""
 Q_DLRBG=""
 RBC_ID=""
 RBCPhone=""
 Name="Reports to RBC when entering Level 2/3"
 Guid="ed9ea7f9-4f2a-4d67-98dc-0e7fe5b85b78"
>
<TestCases>
<TestCase
 Name="From Level 0"
 Guid="f5ba1643-fa81-4a4b-aa39-0419331b0b23"
>
<ReqRef
 Id="b77954f4-fe3b-4ae7-8e08-b0c1750a1d26"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="54ae0b33-b420-48f6-8327-d4d6ee2be003"
>
</ReqRef><ReqRef
 Id="4f4a1783-3d82-4056-8a27-0f47ff27ce77"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="8c66049e-5946-44e5-afa7-f78858dd572b"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="bd2b8863-88a0-4346-9a16-4fd789907ce1"
>
<SubSteps>
<SubStep
 Name="Sub-step1 - Initialize test environment"
 Guid="188c49b2-860b-4e29-b177-92b64eb70496"
>
<Actions>
<Action
 Guid="88cf77f7-f163-4453-8702-f3e5e402a5f3"
>Kernel.InitializeTestEnvironment()</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2 - Set Level and Mode"
 Guid="963056cd-490d-4c54-9ea0-f23c7475d4be"
>
<Actions>
<Action
 Guid="fcbb2a96-feea-46e5-8199-aa5317d4ef86"
>Kernel.Mode &lt;- Mode.UN</Action><Action
 Guid="419653f0-b8ef-4a49-a314-077bdec3304c"
>Kernel.Level &lt;- Kernel.LevelData{
    Value =&gt; LevelDataStruct{
        NTC =&gt; Default.NID_NTC.NOT_APPLICABLE,
        Value =&gt; Default.Level.L0
    },
    DataState =&gt; Default.DataState.Valid
}</Action><Action
 Guid="6d4a56d5-a0a1-405e-9c6b-55a26f1cae93"
>Kernel.MA.MA &lt;- EMPTY</Action></Actions>
</SubStep><SubStep
 Name="Sub-step3 - Train data is valid"
 Guid="8fe2eb93-b948-4f0f-9408-777ed6a65285"
>
<Actions>
<Action
 Guid="e53364a5-b72a-443a-92c1-1f86b7f3db30"
>Kernel.TrainData.TrainData.DataState &lt;- DataState.Valid</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - Receive Level Transition Order for Level 2"
 Guid="cd4150e1-2794-4730-868d-c0a09eec7b92"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="960e17b6-e5ad-4ec1-8609-903929641797"
>
<Actions>
<Action
 Guid="e8e59b2c-e7e0-460f-a2f6-987ece054ae9"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 0,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN =&gt; Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_TRANSITION_ORDER =&gt; Messages.PACKET.TRACK_TO_TRAIN.LEVEL_TRANSITION_ORDER.Message
                {
                    NID_PACKET =&gt; 41,
                    Q_DIR =&gt; Messages.Q_DIR.Nominal,
                    L_PACKET =&gt; 0,
                    Q_SCALE =&gt; Messages.Q_SCALE._1_m_scaleC,
                    D_LEVELTR =&gt; 1400,
                    M_LEVELTR =&gt; Messages.M_LEVELTR.Level_2,
                    NID_NTC =&gt; 0,
                    L_ACKLEVELTR =&gt; 0,
                    N_ITER =&gt; 0
                }
            }
        }, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY
    ],
    BitField =&gt; &apos;&apos;
}</Action><Action
 Guid="ed890566-dcac-4e20-a96a-fe6cfb8c22fd"
>Odometry.NominalDistance &lt;- 500.0</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="57175164-77f3-4917-94b2-b531ced21c95"
>
<Actions>
<Action
 Guid="e2ae5111-49ca-44a4-af6f-9db33ee8ff1e"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; Messages.N_PIG._2C,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        
    ],
    BitField =&gt; &apos;&apos;
}</Action></Actions>
</SubStep><SubStep
 Name="Sub-step3 - Check MA"
 Guid="3bf2d36f-4b5e-4c5b-b1a0-514106d9bb88"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="0d6a0cb5-d035-40bf-bc3d-106372d152d0"
>Kernel.MA.MA == EMPTY</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - Receive RBC connect order, connect to RBC"
 Guid="0094cc37-7f9c-431e-a2a1-2727523d28b8"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="5e29b777-97ba-41e9-bca6-4104749f84b0"
>
<Actions>
<Action
 Guid="3507a027-e0cc-4fa7-a8b8-2582091b97cb"
>Odometry.NominalDistance &lt;- 1000.0</Action><Action
 Guid="f40ddcbb-90a4-422b-9dbf-7294623e10bf"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 0,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12347,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN =&gt; Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                SESSION_MANAGEMENT =&gt; Messages.PACKET.TRACK_TO_TRAIN.SESSION_MANAGEMENT.Message
                {
                    NID_PACKET =&gt; 42,
                    Q_DIR =&gt; Messages.Q_DIR.Nominal,
                    L_PACKET =&gt; 0,
                    Q_RBC =&gt; Messages.Q_RBC.Establish_communication_session,
                    NID_C =&gt; 85,
                    NID_RBC =&gt; 1346,
                    NID_RADIO =&gt; &apos;012345678901FF&apos;,
                    Q_SLEEPSESSION =&gt; 0
                }
            }
        }
    ]
}</Action><Action
 Guid="c38e5c07-0abc-46a1-87f5-7e828da3c67c"
>EURORADIO.CurrentTerminal().NetworkId &lt;- &apos;851346&apos;</Action><Action
 Guid="31c59116-9d81-47a3-9d23-686a682b3e84"
>EURORADIO.CurrentTerminal().RegistrationState &lt;- EURORADIO.CurrentTerminal().RegistrationStateSM.Registered</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="795fd066-6538-4074-bd86-3dd9aa2efaf0"
>
<Actions>
<Action
 Guid="85ddd00b-5f93-492b-822b-32298cde7078"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 1,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12347,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; []
}</Action></Actions>
</SubStep><SubStep
 Name="Sub-step3"
 Guid="4ac96928-8589-427b-b19e-970146968cb8"
>
<Actions>
<Action
 Guid="30493181-9ed2-49db-8975-759a4c45599e"
>EURORADIO.CurrentRBCConnection().SessionManagementData.ConnectionIsEstablished &lt;- True</Action></Actions>
</SubStep><SubStep
 Name="Sub-step4"
 Guid="559aaea9-1166-4cc5-908e-0945a7f95601"
>
<Actions>
<Action
 Guid="730e6a27-a445-4122-946b-0c0f9687dd0d"
>EURORADIO.CurrentRBCConnection().SessionManagementData.SystemVersion &lt;- EURORADIO.SystemVersionStruct{
    Value =&gt; EURORADIO.SystemVersionEnum.Version2_0,
    DataState =&gt; Default.DataState.Valid
}</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="a8c01af1-cbd4-4e11-b14b-adb84b1f60b8"
>EURORADIO.CurrentRBCConnection().MessageOut.VALIDATED_TRAIN_DATA != EMPTY</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step4 - After transition, send position report"
 Guid="cd5d3137-34ab-45a8-8f38-430faafd3fe3"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="8d054af5-74a2-4a82-961b-a473dc1c57df"
>
<Actions>
<Action
 Guid="ac77d0c7-e98a-41c4-bba4-c9c15f14bcd5"
>Odometry.NominalDistance &lt;- 1451.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="90b71e79-b3ea-4418-989a-48ce0bf5d880"
>EURORADIO.CurrentRBCConnection().MessageOut.TRAIN_POSITION_REPORT != EMPTY</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="fd30765f-b762-4277-9867-b3783263a179"
>Kernel.Level.Value.Value == Level.L2</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase><TestCase
 Name="From Level NTC"
 Guid="c7224d68-c4e7-4e81-97b3-942ac1f44a6a"
>
<ReqRef
 Id="c5a46dc7-2c6f-4ee4-98cd-53b8ce7d8bd9"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0470597d-3cb5-4760-8b19-f8f63f4b9113"
>
</ReqRef><ReqRef
 Id="74a30d76-76b6-4796-9af7-51fcc86fdda3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="58bcf22f-f36d-4168-9f40-855ed30dacbe"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="4ddf71a4-d84a-44e6-8f88-ca7a064f446f"
>
<SubSteps>
<SubStep
 Name="Sub-step1 - Initialize test environment"
 Guid="be0408f3-8be5-4018-bcff-6e63d6c3f994"
>
<Actions>
<Action
 Guid="da0db539-ccdf-4a32-9db3-249a4dd43917"
>
Kernel.InitializeTestEnvironment()</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2 - Set Level and Mode"
 Guid="2d95189f-d036-4f96-b303-479fb3444c46"
>
<Actions>
<Action
 Guid="0c4b127c-b0bd-43e3-bb45-596a01b830d0"
>Kernel.Mode &lt;- Mode.SN</Action><Action
 Guid="f0bd7cd5-3379-4964-9489-f1cbda830512"
>Kernel.Level &lt;- Kernel.LevelData{
    Value =&gt; LevelDataStruct{
        NTC =&gt; 1,
        Value =&gt; Default.Level.LNTC
    },
    DataState =&gt; Default.DataState.Valid
}</Action><Action
 Guid="b191338f-7cd5-40ef-b353-665621c38f1d"
>Kernel.MA.MA &lt;- EMPTY</Action></Actions>
</SubStep><SubStep
 Name="Sub-step3 - Train data is valid"
 Guid="581452c6-58c6-4ba3-add7-73be91fb92fc"
>
<Actions>
<Action
 Guid="8025157f-3e8f-42ec-a043-8a42a636135b"
>Kernel.TrainData.TrainData.DataState &lt;- DataState.Valid</Action></Actions>
</SubStep><SubStep
 Name="Sub-step4 - No RBC connection"
 Guid="f7699988-b2d1-49d2-8cde-0f0571df1bdc"
>
<Actions>
<Action
 Guid="d31f29e0-7674-43d2-b4e4-c45f096cff9b"
>EURORADIO.CurrentTerminal().RegistrationState &lt;- EURORADIO.CurrentTerminal().RegistrationStateSM.NotRegistered</Action><Action
 Guid="a1f7a279-7b55-43a6-8bd8-ccbf14ec28b8"
>EURORADIO.CurrentRBCConnection().ConnectionState &lt;- EURORADIO.CurrentRBCConnection().ConnectionStateSM.Inactive</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - Receive Level Transition Order for Level 2"
 Guid="f68af15c-6eb5-487e-ab0c-418979b073e2"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="fd640990-ba49-4b95-b5ac-9bef96fd94be"
>
<Actions>
<Action
 Guid="ddbe038e-8a6f-4544-bcad-9428de32ffcc"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 0,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN =&gt; Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_TRANSITION_ORDER =&gt; Messages.PACKET.TRACK_TO_TRAIN.LEVEL_TRANSITION_ORDER.Message
                {
                    NID_PACKET =&gt; 41,
                    Q_DIR =&gt; Messages.Q_DIR.Nominal,
                    L_PACKET =&gt; 0,
                    Q_SCALE =&gt; Messages.Q_SCALE._1_m_scaleC,
                    D_LEVELTR =&gt; 1400,
                    M_LEVELTR =&gt; Messages.M_LEVELTR.Level_2,
                    NID_NTC =&gt; 0,
                    L_ACKLEVELTR =&gt; 0,
                    N_ITER =&gt; 0
                }
            }
        }, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY
    ],
    BitField =&gt; &apos;&apos;
}</Action><Action
 Guid="9fa0e5b4-7cc5-40de-9aa0-8ef75b79d3d2"
>Odometry.NominalDistance &lt;- 500.0</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="81401669-e83f-44ad-af9e-9c2161056778"
>
<Actions>
<Action
 Guid="c06d2a93-68a3-4191-86c8-afcc9b0ecd55"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; Messages.N_PIG._2C,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        
    ],
    BitField =&gt; &apos;&apos;
}</Action></Actions>
</SubStep><SubStep
 Name="Sub-step3 - Check MA"
 Guid="a5e02bc4-ab8a-4b14-ad50-0387e6854063"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="fef1de95-0442-4689-8133-3348b483d650"
>Kernel.MA.MA == EMPTY</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - Receive RBC connect order, connect to RBC"
 Guid="2d1e3e93-2f31-4f5b-a75c-cabb89a7f350"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="1318a535-36c9-4c01-bd6c-9b20dac2dc57"
>
<Actions>
<Action
 Guid="a9140b9f-1816-421d-941a-640d71bed239"
>Odometry.NominalDistance &lt;- 1000.0</Action><Action
 Guid="a6617dfe-6582-4ed1-9249-08358beee7da"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 0,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12347,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN =&gt; Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                SESSION_MANAGEMENT =&gt; Messages.PACKET.TRACK_TO_TRAIN.SESSION_MANAGEMENT.Message
                {
                    NID_PACKET =&gt; 42,
                    Q_DIR =&gt; Messages.Q_DIR.Nominal,
                    L_PACKET =&gt; 0,
                    Q_RBC =&gt; Messages.Q_RBC.Establish_communication_session,
                    NID_C =&gt; 85,
                    NID_RBC =&gt; 1346,
                    NID_RADIO =&gt; &apos;012345678901FF&apos;,
                    Q_SLEEPSESSION =&gt; 0
                }
            }
        }
    ]
}</Action><Action
 Guid="7aed3856-a99c-4f2a-80eb-19e65f9e70e2"
>EURORADIO.CurrentTerminal().NetworkId &lt;- &apos;851346&apos;</Action><Action
 Guid="388e9e66-f894-4e80-aa79-dc310a5a3cfd"
>EURORADIO.CurrentTerminal().RegistrationState &lt;- EURORADIO.CurrentTerminal().RegistrationStateSM.Registered</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="73259977-8a71-41df-b8d6-2012f203d130"
>
<Actions>
<Action
 Guid="c24729c8-2f4f-43cd-9bcb-ef582f5933c3"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 1,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12347,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; []
}</Action></Actions>
</SubStep><SubStep
 Name="Sub-step3"
 Guid="d7b58cee-d1f4-4891-9061-de68037b4d66"
>
<Actions>
<Action
 Guid="77eb3e97-8efb-4f5d-b5e1-4d2d0a38a87c"
>EURORADIO.CurrentRBCConnection().SessionManagementData.ConnectionIsEstablished &lt;- True</Action></Actions>
</SubStep><SubStep
 Name="Sub-step4"
 Guid="dfac1b45-9812-4d79-9567-0f0ed993745e"
>
<Actions>
<Action
 Guid="38290da3-44d7-4ba6-87c1-3b13ebf32cce"
>
EURORADIO.CurrentRBCConnection().SessionManagementData.SystemVersion &lt;- EURORADIO.SystemVersionStruct{
    Value =&gt; EURORADIO.SystemVersionEnum.Version2_0,
    DataState =&gt; Default.DataState.Valid
}</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="efadce4f-193d-4aaa-bc1e-f18e911431e4"
>EURORADIO.CurrentRBCConnection().MessageOut.VALIDATED_TRAIN_DATA != EMPTY</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step4 - After transition, send position report"
 Guid="1d863db9-1007-4e2d-8708-8b0de2b0c0b4"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="dc8fd3ce-c4b3-46b4-8c4d-97fccb5f4a5e"
>
<Actions>
<Action
 Guid="f4e724ce-4124-48a2-9f4e-60186cee0220"
>Odometry.NominalDistance &lt;- 1451.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="425470ea-91d4-4a2c-8bad-e66c0c6e8a62"
>EURORADIO.CurrentRBCConnection().MessageOut.TRAIN_POSITION_REPORT != EMPTY</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="866e2d5b-13e4-40f8-b223-a0db56678731"
>Kernel.Level.Value.Value == Level.L2</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase><TestCase
 Name="From Level 1"
 Guid="55cddbdc-6f9d-4b5a-a4ec-66a7c8a51a93"
>
<ReqRef
 Id="4a5cfdeb-9d79-4d58-8d37-5073de473751"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0b72e39d-7819-4ce3-aa84-875628f18c28"
>
</ReqRef><ReqRef
 Id="917e038b-c314-4423-b3a6-c0131f148410"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="257dc759-8770-4700-b9e2-495fa7504e1c"
>
</ReqRef><Steps>
<Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step1 - Setup"
 Guid="1574784a-0fe0-4f44-9d12-f4ce3ca2eb9c"
>
<SubSteps>
<SubStep
 Name="Sub-step1 - Initialize test environment"
 Guid="3b933092-7858-4067-97dc-af04bfca125e"
>
<Actions>
<Action
 Guid="7ef967f0-283a-4afb-84e7-13e90e483103"
>

Kernel.InitializeTestEnvironment()</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2 - Set Level and Mode"
 Guid="fd93367d-45ac-4b04-9cfa-8189230a01d7"
>
<Actions>
<Action
 Guid="d8d22f82-2cc4-4448-9066-c9b0218cf823"
>Kernel.Mode &lt;- Mode.FS</Action><Action
 Guid="bfbbbd2e-5cf7-4668-93c7-59a0dabb973f"
>Kernel.Level &lt;- Kernel.LevelData{
    Value =&gt; LevelDataStruct{
        NTC =&gt; Default.NID_NTC.NOT_APPLICABLE,
        Value =&gt; Default.Level.L1
    },
    DataState =&gt; Default.DataState.Valid
}</Action><Action
 Guid="11b91eb0-a0f6-4ede-93bd-7aed880a6464"
>Kernel.MA.MA &lt;- Kernel.MA.MAStruct{
    TargetSpeed =&gt; 0.0,
    Sections =&gt; [],
    EndSection =&gt; Kernel.MA.EndSection{
        Length =&gt; 2500.0
    }
}</Action></Actions>
</SubStep><SubStep
 Name="Sub-step3 - Train data is valid"
 Guid="33388dd7-3ab8-4d41-8888-23c74fc99b7d"
>
<Actions>
<Action
 Guid="de0e0cca-b1e1-4908-9d31-01cb33c2bb11"
>Kernel.TrainData.TrainData.DataState &lt;- DataState.Valid</Action></Actions>
</SubStep><SubStep
 Name="Sub-step4 - No RBC connection"
 Guid="bb230737-ea1e-4f5b-aeb9-c27e1d5edff0"
>
<Actions>
<Action
 Guid="22f3f610-f7d7-4f7d-aefb-080aee3e8f0b"
>EURORADIO.CurrentTerminal().RegistrationState &lt;- EURORADIO.CurrentTerminal().RegistrationStateSM.NotRegistered</Action><Action
 Guid="93942e96-0135-46b8-8bce-070a9bd51a9f"
>EURORADIO.CurrentRBCConnection().ConnectionState &lt;- EURORADIO.CurrentRBCConnection().ConnectionStateSM.Inactive</Action></Actions>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step2 - Receive Level Transition Order for Level 2"
 Guid="030dbd43-2940-4430-ba0f-b6d221fa7836"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="92d8236e-df56-4958-a11b-a00c3fe694dd"
>
<Actions>
<Action
 Guid="d4d940d6-1d43-49f7-94af-4a45f5736c58"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 0,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN =&gt; Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                LEVEL_TRANSITION_ORDER =&gt; Messages.PACKET.TRACK_TO_TRAIN.LEVEL_TRANSITION_ORDER.Message
                {
                    NID_PACKET =&gt; 41,
                    Q_DIR =&gt; Messages.Q_DIR.Nominal,
                    L_PACKET =&gt; 0,
                    Q_SCALE =&gt; Messages.Q_SCALE._1_m_scaleC,
                    D_LEVELTR =&gt; 1400,
                    M_LEVELTR =&gt; Messages.M_LEVELTR.Level_2,
                    NID_NTC =&gt; 0,
                    L_ACKLEVELTR =&gt; 0,
                    N_ITER =&gt; 0
                }
            }
        }, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY
    ],
    BitField =&gt; &apos;&apos;
}</Action><Action
 Guid="a1df569a-3580-43de-8389-c864e28838a3"
>Odometry.NominalDistance &lt;- 500.0</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="18301e15-59a0-4956-886c-31a44045d3c0"
>
<Actions>
<Action
 Guid="dff8283e-4cd6-428e-a78e-cfe7ea78fe19"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; Messages.N_PIG._2C,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12345,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; 
    [
        
    ],
    BitField =&gt; &apos;&apos;
}</Action></Actions>
</SubStep><SubStep
 Name="Sub-step3 - Check MA"
 Guid="f3057bdf-949c-4fa9-b73b-1f4e7395bab3"
>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="800f6e22-185c-4759-bb3d-387b39d72f0c"
>Kernel.MA.MA.TargetSpeed == 0.0</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="2b147bde-1b57-4498-96a6-bb74d88fadc3"
>Kernel.MA.MA.EndSection.Length == 2500.0</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step3 - Receive RBC connect order, connect to RBC"
 Guid="2b7cae7e-64c7-44e4-a1f2-62913d9b6bfc"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="e7a2dcd7-1e5f-4db3-b138-ec1aa4e0d5cc"
>
<Actions>
<Action
 Guid="74f56a86-65b7-48d5-adb5-77b7dedba0ef"
>Odometry.NominalDistance &lt;- 1000.0</Action><Action
 Guid="607c9a16-3e0b-4da2-82b4-80502515013e"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 0,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12347,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; [
        Messages.EUROBALISE.SubStructure1
        {
            TRACK_TO_TRAIN =&gt; Messages.PACKET.TRACK_TO_TRAIN.Message
            {
                SESSION_MANAGEMENT =&gt; Messages.PACKET.TRACK_TO_TRAIN.SESSION_MANAGEMENT.Message
                {
                    NID_PACKET =&gt; 42,
                    Q_DIR =&gt; Messages.Q_DIR.Nominal,
                    L_PACKET =&gt; 0,
                    Q_RBC =&gt; Messages.Q_RBC.Establish_communication_session,
                    NID_C =&gt; 85,
                    NID_RBC =&gt; 1346,
                    NID_RADIO =&gt; &apos;012345678901FF&apos;,
                    Q_SLEEPSESSION =&gt; 0
                }
            }
        }
    ]
}</Action><Action
 Guid="200ece69-6e80-4c62-abbf-371f2312584b"
>EURORADIO.CurrentTerminal().NetworkId &lt;- &apos;851346&apos;</Action><Action
 Guid="32207db3-2125-4a8f-b7fc-624c784343d5"
>EURORADIO.CurrentTerminal().RegistrationState &lt;- EURORADIO.CurrentTerminal().RegistrationStateSM.Registered</Action></Actions>
</SubStep><SubStep
 Name="Sub-step2"
 Guid="524a0b13-1e0f-44b5-ae44-38f122ea2e9b"
>
<Actions>
<Action
 Guid="d0b38126-24ff-4837-84c1-7b5a10a97c24"
>BTM.Message &lt;- Messages.EUROBALISE.Message
{
    Q_UPDOWN =&gt; Messages.Q_UPDOWN.Up_link_telegram,
    M_VERSION =&gt; Messages.M_VERSION.Version_1_0__introduced_in_SRS_1_2_0_and_re_used_in_SRSs_2_0_0__2_2_2__2_3_0,
    Q_MEDIA =&gt; Messages.Q_MEDIA.Balise,
    N_PIG =&gt; 1,
    N_TOTAL =&gt; Messages.N_TOTAL._2_balises_in_groupC,
    M_DUP =&gt; Messages.M_DUP.No_duplicates,
    M_MCOUNT =&gt; Messages.M_MCOUNT.The_telegram_fits_with_all_telegrams_of_the_same_balise_group,
    NID_C =&gt; 85,
    NID_BG =&gt; 12347,
    Q_LINK =&gt; Messages.Q_LINK.Unlinked,
    Sequence1 =&gt; []
}</Action></Actions>
</SubStep><SubStep
 Name="Sub-step3"
 Guid="dae29757-6ee5-4411-9558-d24221dffcc0"
>
<Actions>
<Action
 Guid="43af1dfd-ba6f-4692-8120-994af40c08ae"
>EURORADIO.CurrentRBCConnection().SessionManagementData.ConnectionIsEstablished &lt;- True</Action></Actions>
</SubStep><SubStep
 Name="Sub-step4"
 Guid="8aa6b08e-ef89-4e7f-9d85-56c1c016c9d4"
>
<Actions>
<Action
 Guid="09cdd8f2-232b-4356-91ea-80d406cc08c7"
>

EURORADIO.CurrentRBCConnection().SessionManagementData.SystemVersion &lt;- EURORADIO.SystemVersionStruct{
    Value =&gt; EURORADIO.SystemVersionEnum.Version2_0,
    DataState =&gt; Default.DataState.Valid
}</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="c934a952-5661-45ae-b3a5-d3e481d2da42"
>EURORADIO.CurrentRBCConnection().MessageOut.VALIDATED_TRAIN_DATA != EMPTY</Expectation></Expectations>
</SubStep></SubSteps>
</Step><Step
 IO="NA"
 LevelIN="NA"
 LevelOUT="NA"
 ModeIN="NA"
 ModeOUT="NA"
 TranslationRequired="FALSE"
 Name="Step4 - After transition, send position report"
 Guid="b878d986-994f-4ec3-b005-00590aee38bf"
>
<SubSteps>
<SubStep
 Name="Sub-step1"
 Guid="7a601aae-fd76-4edc-bb93-b6380d842170"
>
<Actions>
<Action
 Guid="ba1f5d24-524a-4807-b64a-16473039247a"
>Odometry.NominalDistance &lt;- 1451.0</Action></Actions>
<Expectations>
<Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="d29e16d5-d73f-4888-8064-db8af89b21c9"
>EURORADIO.CurrentRBCConnection().MessageOut.TRAIN_POSITION_REPORT != EMPTY</Expectation><Expectation
 Kind="Instantaneous"
 DeadLine="1"
 Guid="e41ced8e-f84c-48c5-b056-bbcb9c2a770f"
>Kernel.Level.Value.Value == Level.L2</Expectation></Expectations>
</SubStep></SubSteps>
</Step></Steps>
</TestCase></TestCases>
</SubSequence></SubSequences>
</Frame>
