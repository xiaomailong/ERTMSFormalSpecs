<NameSpace
 X="710"
 Y="720"
 Width="100"
 Height="50"
 Pinned="TRUE"
 Name="SpeedAndDistanceMonitoring"
 Guid="29ccd64e-2889-44e6-8b10-6499287bee06"
>
<NameSpaces>
<NameSpaceRef
 Name="CeilingSpeedMonitoring"
 Guid="a4fc87f0-f9e3-4718-986e-7a7020dc12ef"
>
</NameSpaceRef><NameSpaceRef
 Name="TargetSpeedMonitoring"
 Guid="b4a654cf-3d2b-4910-82e9-b6e00ac05387"
>
</NameSpaceRef><NameSpaceRef
 Name="ReleaseSpeedMonitoring"
 Guid="2bb7559d-fea6-4f5f-b0bc-c7427d01c7a3"
>
</NameSpaceRef><NameSpaceRef
 Name="PreIndicationLocation"
 Guid="1694a829-9e08-4edb-b256-3f607da06326"
>
</NameSpaceRef><NameSpaceRef
 Name="DecelerationCurves"
 Guid="29a64862-d0b9-43c0-b92f-f410667dc938"
>
</NameSpaceRef></NameSpaces>
<StateMachines>
<StateMachine
 Default="Idle"
 X="790"
 Y="550"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="MonitoringTypeSM"
 Guid="435cb658-6129-43cc-b5ba-3145aff511f6"
>
<ReqRef
 Id="52f69d6f-9efe-46a8-bf28-82cdbaf08617"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e39fc7e8-b8bf-448b-994c-daf7c21eda9c"
>
</ReqRef><ReqRef
 Id="8f743e52-5860-4a00-b1c3-1a25d8b01bcf"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e55f7847-f325-4a1f-a7c5-b40e0b63aea1"
>
</ReqRef><ReqRef
 Id="61609105-e374-4561-8058-cd995e0cac1a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="fa184f4d-db22-46c7-ae7b-94499f44822a"
>
</ReqRef><ReqRef
 Id="1bd536e2-b2c8-48c3-84b5-53f4fd75ad05"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="dde05966-758d-48c9-be95-81f6e093170b"
>
</ReqRef><ReqRef
 Id="32b65a6d-139f-482e-98ed-7dd88679ba95"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0da33471-5b51-4483-a52a-dbfcc00695c5"
>
</ReqRef><ReqRef
 Id="5554abd5-d957-475f-aa3a-5ae657f9ccf3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="8466f81b-d4b4-4083-8afd-dbe407d569a3"
>
</ReqRef><ReqRef
 Id="452e7369-8988-4a04-9d16-d7e769201a71"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="50c59557-ef97-4436-81ed-112527639ec8"
>
</ReqRef><ReqRef
 Id="464dd6eb-f8c7-42fe-b8d9-c416ee775f1a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="4b3f1b7e-25f1-40e1-bfb4-5b3d275ee41a"
>
</ReqRef><ReqRef
 Id="3ca3f276-f7a0-4c16-8b02-755e929a4ae3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="fa581db5-42d7-473e-afd4-8485d5298f02"
>
</ReqRef><ReqRef
 Id="cc36e13a-d68f-444d-9d8e-e9c7b6082a52"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="68fe477b-d35a-43cd-a620-31dca9e75ff1"
>
</ReqRef><ReqRef
 Id="c0c90876-1322-4533-951c-924804b80043"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="853aab1f-89d5-4d35-af23-7575771b9c2e"
>
</ReqRef><ReqRef
 Id="f966f396-c00e-4f6b-945d-6cde4527e814"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="88857337-a249-40c8-88b6-6aee76329c62"
>
</ReqRef><ReqRef
 Id="620d2411-2c42-403d-9139-cdb6a68c48b2"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="fc5e7a10-907e-482f-be20-47cac37b3439"
>
</ReqRef><Comment>Lists the types of speed and distance monitoring and handles transitions between them</Comment>
<States>
<State
 X="80"
 Y="340"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Ceiling"
 Guid="c7afbefc-cc25-4539-9b42-effc013c42cb"
>
<Comment>Ceiling Speed Monitoring.</Comment>
<StateMachine
 Default="Ceiling.Normal"
 Implemented="TRUE"
 Guid="11f43511-b66c-40ff-9cd8-49fc31a1e9cd"
>
<States>
<State
 X="220"
 Y="70"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Normal"
 Guid="9a91a3dd-9d67-45f1-aaf7-ca93ab42ca33"
>
<Comment>Normal status.</Comment>
<StateMachine
 Default=""
 Implemented="TRUE"
 Guid="5fc83163-4dab-4cba-845b-14e4cfd64b24"
>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Update Supervision Status"
 Guid="aa198f35-bf50-428a-a070-cb002b1d031d"
>
<Comment>Ensure that the supervision status remains appropriate.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="To intervention status"
 Guid="59f2c155-8c18-4e27-b8b2-d96bbb771aed"
>
<ReqRef
 Id="58cc5fd9-b319-4df9-87ac-13d82ceb4312"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="6f7e8a90-767c-4074-bb64-c3e871975bf5"
>
</ReqRef><Comment>Trigger intervention status, priority 1.</Comment>
<PreConditions>
<PreCondition
 Guid="0a877799-74c6-43ee-a1f5-0da5e109a0b1"
>CeilingSpeedMonitoring.SupervisionStatus.t4()
  OR  
CeilingSpeedMonitoring.SupervisionStatus.t5()</PreCondition><PreCondition
 Guid="debce780-ea6f-49ac-a401-727264d24a08"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="d4f1b09b-8b81-4f79-852a-c706434fe9fa"
>THIS &lt;- Intervention</Action></Actions>
<SubRules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Trigger emergency brake"
 Guid="9b46c59e-2c30-4830-a31b-6de455c43d8b"
>
<Comment>Trigger 5 also trigger the emergency brake command.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Emergency brake command"
 Guid="568ce468-3bc0-4eb1-98e4-c48bd8bdcd5c"
>
<PreConditions>
<PreCondition
 Guid="82608bfc-a68a-44b2-bbfb-aa6ab2c31f43"
>CeilingSpeedMonitoring.SupervisionStatus.t5()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="a6d2fbd8-0f64-4192-a5b2-84163e5af965"
>TriggerEBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Trigger service brake"
 Guid="ff163483-29c3-4f5c-b15c-8223f3e2aea7"
>
<Comment>Trigger 4 also triggers the service brake command.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Service brake command"
 Guid="e2a1c349-f37d-4da3-9d2a-c2d20f1fdff5"
>
<PreConditions>
<PreCondition
 Guid="c93f07ac-b68a-4980-8000-613ed3127308"
>CeilingSpeedMonitoring.SupervisionStatus.t4()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="c6d6c81f-7cd1-4580-9f24-216bc4ab4677"
>TriggerSBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule></SubRules>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To warning status"
 Guid="d6a6d61b-9ecd-43ed-a433-fb6d11a33010"
>
<ReqRef
 Id="c7bd0529-99a5-4600-bea6-5ef4c7039d03"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="b89fbb88-683c-4134-ad86-94d91c5c59d2"
>
</ReqRef><Comment>Trigger warning status, priority 2.</Comment>
<PreConditions>
<PreCondition
 Guid="3f822123-8248-4847-bddb-d174e4e66ab7"
>CeilingSpeedMonitoring.SupervisionStatus.t3()</PreCondition><PreCondition
 Guid="93531bef-621b-4450-b108-d831be02cc2d"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="ae30d053-d02c-4746-bc91-d38f997cf2ea"
>THIS &lt;- Warning</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To overspeed status"
 Guid="6dad9d0d-a9b1-466d-ae7c-c2268c63892e"
>
<ReqRef
 Id="ec408fb0-3a70-40f7-81a8-7756f7442566"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="33e28ba1-1ca3-47fd-be6e-b4d108bd9cf4"
>
</ReqRef><Comment>Trigger overspeed status, priority .</Comment>
<PreConditions>
<PreCondition
 Guid="c930ec8e-b48a-484d-980a-2852b8e7d897"
>CeilingSpeedMonitoring.SupervisionStatus.t2()</PreCondition><PreCondition
 Guid="7413532b-efcb-461d-9545-da274e7f37fa"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="7623f15e-2e03-4f14-a080-18758c352e3b"
>THIS &lt;- Overspeed</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</StateMachine></State><State
 X="480"
 Y="270"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Overspeed"
 Guid="45e0bfcf-d273-4d7f-9f2e-301363f9d68b"
>
<Comment>Overspeed status.</Comment>
<StateMachine
 Default=""
 Implemented="TRUE"
 Guid="e7f7e587-41ae-4d7b-8350-5d1f64d2faa8"
>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Update Supervision Status"
 Guid="debab188-b9f4-492b-9851-4c18d095533c"
>
<Comment>Ensure that the supervision status remains appropriate.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="To normal status"
 Guid="5acb2b2c-b019-4a3a-8bdf-efa4e439b6d7"
>
<ReqRef
 Id="644aa967-53f8-4d2c-b5ba-6a857c9cda54"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="4358e5de-10c9-45d8-bdf5-8c13eb7348e3"
>
</ReqRef><Comment>Revoke overspeed status to normal status, priority 1.</Comment>
<PreConditions>
<PreCondition
 Guid="155a5826-4ca6-4c08-9969-8d9809cedddf"
>CeilingSpeedMonitoring.SupervisionStatus.r1()</PreCondition><PreCondition
 Guid="29920e48-dd7e-4620-8842-4e3fda875344"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="0bcff294-0f03-4ad9-b4c5-2b0f78b2c25c"
>THIS &lt;- Ceiling.Normal</Action><Action
 Guid="0f64190b-782e-48be-b66d-a65acf3d7f43"
>RevokeSBCommand()</Action><Action
 Guid="82c762f1-1a5c-4acf-baa9-4f3a88995b97"
>RevokeEBCommand()</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To intervention status"
 Guid="d47e3e9d-a4f7-43b8-b148-f83a4420bb21"
>
<ReqRef
 Id="58cc5fd9-b319-4df9-87ac-13d82ceb4312"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="8dd640ab-bf8e-45fa-b385-fb0e8bf87bf0"
>
</ReqRef><Comment>Trigger intervention status, priority 1.</Comment>
<PreConditions>
<PreCondition
 Guid="1706dc4d-7a55-4dff-8e48-18d6c78e2e98"
>CeilingSpeedMonitoring.SupervisionStatus.t4()
  OR  
CeilingSpeedMonitoring.SupervisionStatus.t5()</PreCondition><PreCondition
 Guid="56c442cd-cb74-4866-b940-8b56c2cb3bd9"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="9a4cf466-7670-4920-bee7-61f05887b6a8"
>THIS &lt;- Ceiling.Intervention</Action></Actions>
<SubRules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Trigger service brake"
 Guid="2989dfdc-0b1f-4437-a2bc-7362d7329000"
>
<Comment>Trigger 4 also triggers the cervice brake command.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Service brake command"
 Guid="52090681-f5f1-4fac-8bd3-3f8d408e5c2d"
>
<PreConditions>
<PreCondition
 Guid="47495138-d5a7-4529-9e84-ec360b1582cf"
>CeilingSpeedMonitoring.SupervisionStatus.t4()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="aaefa0d5-8dc4-483b-bc39-01a504e9b24e"
>TriggerSBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Trigger emergency brake"
 Guid="f4d65d86-db6c-45d2-99b0-0fdfd7fe7335"
>
<Comment>Trigger 5 also triggers the emergnecy brake command.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Emergency brake command"
 Guid="414c2661-bcff-43c0-b27f-db8c86bf8483"
>
<PreConditions>
<PreCondition
 Guid="759e6e9b-e183-48c4-812e-85966fa7eaae"
>CeilingSpeedMonitoring.SupervisionStatus.t5()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="cb72271d-3f8f-4114-950d-fabd00a8e402"
>TriggerEBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule></SubRules>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To warning status"
 Guid="05aed128-7a36-4eba-bf13-f901a5a17fe7"
>
<ReqRef
 Id="c7bd0529-99a5-4600-bea6-5ef4c7039d03"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="f60a9be1-2f80-4cff-a173-a8c5d7d4b385"
>
</ReqRef><Comment>Trigger warning status, priority 2.</Comment>
<PreConditions>
<PreCondition
 Guid="d222a7d8-6a85-41f9-b9d7-3dfa8ee8a0f3"
>CeilingSpeedMonitoring.SupervisionStatus.t3()</PreCondition><PreCondition
 Guid="f8b72d9f-661a-4d8e-a1e8-a48b3be4da99"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="18bf46a2-c513-422f-b7d3-e78bf24aed8c"
>THIS &lt;- Ceiling.Warning</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</StateMachine></State><State
 X="230"
 Y="270"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Warning"
 Guid="fc18048a-c0fe-4ed9-aff4-afcfdad18e05"
>
<Comment>Warning status.</Comment>
<StateMachine
 Default=""
 Implemented="TRUE"
 Guid="b37970a0-5c0a-4ac4-bf00-04fa9ce0dd85"
>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Update Supervision Status"
 Guid="21557f49-bc5c-4c49-9b01-cff833cd85bd"
>
<Comment>Ensure that the supervision status remains appropriate.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="To normal status"
 Guid="4b9b869f-f6f0-4240-bc8c-231f6425e2da"
>
<ReqRef
 Id="644aa967-53f8-4d2c-b5ba-6a857c9cda54"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="8649e022-2f5d-4da4-a014-9139c10289cd"
>
</ReqRef><Comment>Revoke warning status to normal status, priority 1.</Comment>
<PreConditions>
<PreCondition
 Guid="bfbc37ce-9d92-402a-8bc2-55df87878fa5"
>CeilingSpeedMonitoring.SupervisionStatus.r1()</PreCondition><PreCondition
 Guid="ab347354-0453-4b6c-99cf-4d738241cfb9"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="e5e79ef8-1a39-44fd-ade6-5986186fcbb8"
>RevokeEBCommand()</Action><Action
 Guid="cace7409-44d5-4e8d-868e-b499df3c4656"
>RevokeSBCommand()</Action><Action
 Guid="817fa162-2296-4161-b34d-2ffdd44d1b74"
>THIS &lt;- Ceiling.Normal</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To intervention status"
 Guid="9107756d-ca80-49e6-9686-c698eb85651f"
>
<ReqRef
 Id="58cc5fd9-b319-4df9-87ac-13d82ceb4312"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="6a3eb4e9-b2fa-499b-bcf3-01cd3b01e1f7"
>
</ReqRef><Comment>Trigger intervention status, priority 1.</Comment>
<PreConditions>
<PreCondition
 Guid="cce87685-6ae3-4736-b400-e34d7c296b02"
>CeilingSpeedMonitoring.SupervisionStatus.t4()
  OR  
CeilingSpeedMonitoring.SupervisionStatus.t5()</PreCondition><PreCondition
 Guid="dce53e32-2ed0-4194-997a-66649d8c7fba"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="8b8a0c86-e8f7-4352-a8f8-f14540973b85"
>THIS &lt;- Ceiling.Intervention</Action></Actions>
<SubRules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Trigger service brake"
 Guid="8128fe2a-7505-445d-b40e-4002b5e21008"
>
<Comment>Trigger 4 also triggers the cervice brake command.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Service brake command"
 Guid="cd2351ac-1466-4ff4-aa03-b32b76f9ea29"
>
<PreConditions>
<PreCondition
 Guid="755f27bd-b7d2-4f82-a4da-239607e2113d"
>CeilingSpeedMonitoring.SupervisionStatus.t4()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="ecdddfc8-b5cb-4811-a4ff-a6d676def9f9"
>TriggerSBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Trigger emergency brake"
 Guid="201c89f4-74d9-4bdb-8b6c-9ad344b9296e"
>
<Comment>Trigger 5 also triggers the emergnecy brake command.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Emergency brake command"
 Guid="e45a1050-658d-44c9-a043-9eade98391ec"
>
<PreConditions>
<PreCondition
 Guid="8eb8007d-82e0-4300-bdee-1ab66a82ad4c"
>CeilingSpeedMonitoring.SupervisionStatus.t5()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="9e2692d3-b502-49b3-9a62-fba8aac3e7f3"
>TriggerEBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule></SubRules>
</RuleCondition></Conditions>
</Rule></Rules>
</StateMachine></State><State
 X="480"
 Y="70"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Intervention"
 Guid="12c96138-24fa-468c-a28c-5873a73754c3"
>
<Comment>Intervention status.</Comment>
<StateMachine
 Default=""
 Implemented="TRUE"
 Guid="42d7f7a3-0ae5-49ec-8c3b-8dd602f38965"
>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Update Supervision Status"
 Guid="5ef6a9db-c456-475a-a108-11cc8d77a9c0"
>
<Comment>Ensure that the supervision status remains appropriate.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="To normal status"
 Guid="8d74bcbd-1eb0-4152-af49-a8af72f454f1"
>
<ReqRef
 Id="644aa967-53f8-4d2c-b5ba-6a857c9cda54"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d277a5e6-fb3d-4fba-a0c1-cebedac35673"
>
</ReqRef><Comment>Revoke intervention status to normal status, priority 1.</Comment>
<PreConditions>
<PreCondition
 Guid="52406f8d-f9c7-4772-82d9-fe1016c6c270"
>CeilingSpeedMonitoring.SupervisionStatus.r0()
  OR  
CeilingSpeedMonitoring.SupervisionStatus.r1()</PreCondition><PreCondition
 Guid="a33ec6cb-8c51-4892-942e-5ca81a52e64b"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="26e62111-86c9-48ed-96f0-e1ba75ed6793"
>THIS &lt;- Normal</Action></Actions>
<SubRules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Revoke emergency brake"
 Guid="544eba29-9113-45cc-950f-5e2edb7d1412"
>
<Comment>Revocations 0 and 1 also revoke emergency brake commands.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Emergency brake command"
 Guid="c808d167-6474-40d9-b6a0-39693e5449f5"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="cb71f196-1145-4d1a-ba4b-b09787db41b0"
>RevokeEBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Revoke service brake"
 Guid="eb9ad14e-1eb9-4aa8-82ce-44531fc2380b"
>
<Comment>Revocation 1 also revokes service brake commands</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Service brake command"
 Guid="44f7bc6a-ff6c-46cc-a3d2-e19f1665ee86"
>
<PreConditions>
<PreCondition
 Guid="c8edc09c-aebf-4999-8dc0-0bf8987a6478"
>CeilingSpeedMonitoring.SupervisionStatus.r1()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="76c888f8-a330-4870-ae69-0bd7a0fd8b13"
>RevokeSBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule></SubRules>
</RuleCondition></Conditions>
</Rule></Rules>
</StateMachine></State></States>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="ToTSM"
 Guid="20f999bf-2d05-4b9e-83cc-867c3fc4d8d3"
>
<Comment>Rule for changing to target speed monitoring when the train passes the pre-indication location</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Train passed pre-indication location"
 Guid="96f51d81-7bf9-40c4-850f-8aafa0a90aa9"
>
<PreConditions>
<PreCondition
 Guid="d984a754-d9a0-4a30-ad3c-10001df8ecf0"
>Condition1()</PreCondition><PreCondition
 Guid="86039d61-4cbf-4e38-a169-a45ba3aa9912"
>ActiveFunctions.SuperviseTrainSpeed_All_Information()</PreCondition><PreCondition
 Guid="f9d7d7b3-264c-4b4e-8da7-17ec19c647c4"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="acffd539-8dfa-4740-9930-3f8c6adee307"
>DetermineSupervisionStatus(Target)</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</StateMachine><LeaveAction>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Leave action"
 Guid="be891b66-d350-4b19-8d9e-d7c4bccc7fa8"
>
<Comment>Indicates to the JRU that the monitoring changed.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Leave action"
 Guid="7baa5fae-1499-4044-8fa2-897c5be15e82"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="71a5fde1-598a-4fbc-adc1-ac8823fd6473"
>JRU.JRU1.SpeedAndDistanceSupervisionTypeChanged &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule></LeaveAction>
</State><State
 X="560"
 Y="330"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Target"
 Guid="0784fa98-3aea-4f51-8153-d70ae0a50b40"
>
<ReqRef
 Id="6112d3b2-46f0-4ecb-8029-415b38396a4d"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c8541723-db68-4d14-be22-7d8d19a99a48"
>
</ReqRef><ReqRef
 Id="87168408-94a2-4eeb-8c4a-666507a95b45"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="92818321-8fc2-4eff-9823-d8d163fda06a"
>
</ReqRef><Comment>Target Speed Monitoring.</Comment>
<StateMachine
 Default="Target.Normal"
 Implemented="TRUE"
 Guid="04526e41-51a0-49ff-a66a-c48d62f36411"
>
<States>
<State
 X="190"
 Y="70"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Normal"
 Guid="dc9b8e37-151c-4c98-b818-2fa70d29126d"
>
<ReqRef
 Id="87168408-94a2-4eeb-8c4a-666507a95b45"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="33901e28-a380-48fd-ac96-054de71de008"
>
</ReqRef><Comment>Normal status.</Comment>
<StateMachine
 Default=""
 Implemented="TRUE"
 Guid="e32c4304-a33b-4af2-b073-7cf18a016480"
>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Update Supervision Status"
 Guid="28bd2002-39c1-446a-ae24-190e17a28298"
>
<Comment>Ensure that the supervision status remains appropriate.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="To intervention status"
 Guid="c7774604-8e3c-47b1-a4aa-ae0fee95eff0"
>
<ReqRef
 Id="e5f050bb-7e6e-461d-b803-0fddb0a89260"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="8d2ef01f-8d3c-49b8-bee0-3d52514ba707"
>
</ReqRef><Comment>Trigger intervention status, priority 1.</Comment>
<PreConditions>
<PreCondition
 Guid="2498b6f2-ac93-4662-b5a6-8b727e05f063"
>TargetSpeedMonitoring.SupervisionStatus.t15()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t14()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t13()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t12()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t11()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t10()</PreCondition><PreCondition
 Guid="9c360571-ec98-45cd-883d-00030a6d2ef6"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="f8dbb2b7-3bb9-4241-9ff0-d2a33c0ac9a1"
>THIS &lt;- Intervention</Action></Actions>
<SubRules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Trigger emergency brake"
 Guid="9d25885d-9280-40dd-866b-31f7e81717a8"
>
<Comment>Triggers t13 and t14 also trigger the emergency brake.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Emergency brake command"
 Guid="4988606b-67ae-4dd8-8b0d-25121f908ebe"
>
<PreConditions>
<PreCondition
 Guid="5bb158cc-08a7-429c-93a2-ec05e3021c7c"
>TargetSpeedMonitoring.SupervisionStatus.t15()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t14()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t13()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="63d51045-2717-4a15-8ede-ce3ff6fe0323"
>TriggerEBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Trigger service brake"
 Guid="3d5b3363-06f3-4f98-a050-86fccccaca39"
>
<Comment>Triggers t10, t11 and t12 also trigger the service brake.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Service brake command"
 Guid="d6215020-3516-4889-a565-ff21c7d99ac8"
>
<PreConditions>
<PreCondition
 Guid="60fd0b2f-2af3-45e7-bbab-631e3eb9a374"
>TargetSpeedMonitoring.SupervisionStatus.t10()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t11()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t12()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="28417994-ca75-4880-ae1b-d6091d0065be"
>TriggerSBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule></SubRules>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To warning status"
 Guid="9659aa6d-7acb-47da-b8a1-a6b48c5cf4a9"
>
<ReqRef
 Id="f48b3d4c-0b20-4478-8d97-831556c6050e"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a10ce3a1-70be-41a1-b444-1c19e5202d51"
>
</ReqRef><Comment>Trigger warning status, priority 2.</Comment>
<PreConditions>
<PreCondition
 Guid="068b8429-96c7-47fc-a0dd-eaf49f2d3ebd"
>TargetSpeedMonitoring.SupervisionStatus.t7()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t8()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t9()</PreCondition><PreCondition
 Guid="5eb024bd-1eb6-4c1b-a93e-957f7361990c"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="f1abbb09-b10c-4d7f-b671-6d839b9e1c6b"
>THIS &lt;- Warning</Action><Action
 Guid="b620c0fd-2bf7-463e-b8a9-52495ddd7756"
>TCOTriggered &lt;- False</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To overspeed status"
 Guid="680079f0-c759-4169-b1ae-f3e7f6494202"
>
<ReqRef
 Id="c37a61a0-4999-47a6-a190-260324acdb40"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3adde15c-9549-49ee-b4df-1a9d52e8afaa"
>
</ReqRef><Comment>Trigger overspeed status, priority 3.</Comment>
<PreConditions>
<PreCondition
 Guid="31cfbcb2-c11e-4ca7-87b1-04fa5a24d057"
>TargetSpeedMonitoring.SupervisionStatus.t4()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t5()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t6()</PreCondition><PreCondition
 Guid="7f2413d5-670c-4e56-880a-ba8f1c6ae0c4"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="b3c54d10-3d95-4bbc-80aa-855845e9ef32"
>THIS &lt;- Overspeed</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To indication status"
 Guid="9ec21dce-8f4a-4c6d-84c5-652157c37565"
>
<ReqRef
 Id="a23ad28c-4aab-471e-a48b-97cc5e84f75a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="2e0134fa-0e94-4e97-be51-bbd4bf0b172c"
>
</ReqRef><Comment>Trigger indication status, priority 4.</Comment>
<PreConditions>
<PreCondition
 Guid="3ba9539b-74e0-44dc-8159-829adc3984f6"
>TargetSpeedMonitoring.SupervisionStatus.t3()</PreCondition><PreCondition
 Guid="e0e92e53-ec13-459e-bc42-198ebd6b377a"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="f2de064d-6a15-442d-b0fc-154e011cf094"
>THIS &lt;- Indication</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</StateMachine></State><State
 X="180"
 Y="350"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Indication"
 Guid="17e89b9b-905d-4d3f-81c4-c28ea57a14a5"
>
<ReqRef
 Id="87168408-94a2-4eeb-8c4a-666507a95b45"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="6e612cd9-2ceb-43b7-9256-7dc898dfa2ce"
>
</ReqRef><Comment>Indication status.</Comment>
<StateMachine
 Default=""
 Implemented="TRUE"
 Guid="3ee50a93-01db-44cb-90fb-61011172f50e"
>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Update Supervision Status"
 Guid="6cf65003-35ec-4e71-bc63-dc20a8c35dca"
>
<Comment>Ensure that the supervision status remains appropriate.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="To normal status"
 Guid="8a24f01f-fb81-4d5b-81f3-d868a91656c5"
>
<ReqRef
 Id="db019e71-db84-41ad-a3fe-4bf8dae5a1a3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="75272c1d-5dc9-4a16-93d5-7dd072315156"
>
</ReqRef><Comment>Revoke indication status to normal status, priority 1.</Comment>
<PreConditions>
<PreCondition
 Guid="fa08245a-da47-4f3f-8b9e-f0e1296ad148"
>TargetSpeedMonitoring.SupervisionStatus.r1()
  OR  
TargetSpeedMonitoring.SupervisionStatus.r2()</PreCondition><PreCondition
 Guid="90275fec-f9d4-4f42-ba0b-584bc9ccd819"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="994be1c9-73f3-410c-a63e-2660a8882e0d"
>THIS &lt;- Target.Normal</Action><Action
 Guid="3bdaa21d-c33b-4f52-a668-f901cbc9b2f3"
>RevokeSBCommand()</Action><Action
 Guid="080d606f-5b95-4e31-a01b-80c6d6c47cb4"
>RevokeEBCommand()</Action><Action
 Guid="7afb5b10-1372-4688-a460-73f4fbd1c190"
>TCOTriggered &lt;- False</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To intervention status"
 Guid="f62bfad1-3ce5-493b-b580-591e1bf4cf4b"
>
<ReqRef
 Id="e5f050bb-7e6e-461d-b803-0fddb0a89260"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="4a97133e-b15e-4d46-b79e-4cb3d32883d0"
>
</ReqRef><Comment>Trigger intervention status, priority 1.</Comment>
<PreConditions>
<PreCondition
 Guid="5eafcee0-46fa-42a9-b134-5b6c946a525b"
>TargetSpeedMonitoring.SupervisionStatus.t15()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t14()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t13()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t12()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t11()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t10()</PreCondition><PreCondition
 Guid="9b4e7a98-5d28-45ed-bc6a-7d125e0c9649"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="303ea22d-e695-4887-a955-a2d7a91ebae5"
>THIS &lt;- Target.Intervention</Action></Actions>
<SubRules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Trigger emergency brake"
 Guid="facdd038-b1cd-493d-bb60-f99652650f8d"
>
<Comment>Triggers t13 and t14 also trigger the emergency brake.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Emergency brake command"
 Guid="8a901347-b429-48e6-b485-8d9063157c41"
>
<PreConditions>
<PreCondition
 Guid="188ed1ba-e511-47d7-93cd-e70b0b052aeb"
>TargetSpeedMonitoring.SupervisionStatus.t15()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t14()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t13()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="081aa055-ec6c-4646-af1f-4afeffbf4d01"
>TriggerEBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Trigger service brake"
 Guid="944f38aa-10e3-46ea-8739-f14be26b3a02"
>
<Comment>Triggers t10, t11 and t12 also trigger the service brake.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Service brake command"
 Guid="d5adb379-3e47-4f08-8a2c-e7f84c4db59e"
>
<PreConditions>
<PreCondition
 Guid="b0a4f1ae-3b0e-4b17-899c-db1ade2629b8"
>TargetSpeedMonitoring.SupervisionStatus.t10()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t11()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t12()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="632f5ddb-9f5f-42ab-b59a-9d6d17c2ed8c"
>TriggerSBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule></SubRules>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To warning status"
 Guid="21bd55a2-ba4d-4669-a3b2-19adbcbaae17"
>
<ReqRef
 Id="f48b3d4c-0b20-4478-8d97-831556c6050e"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5c889475-1ae3-46b9-a1c7-3697b5cf05bd"
>
</ReqRef><Comment>Trigger warning status, priority 2.</Comment>
<PreConditions>
<PreCondition
 Guid="34322efe-7f5c-4c14-8d08-15f66294ea81"
>TargetSpeedMonitoring.SupervisionStatus.t7()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t8()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t9()</PreCondition><PreCondition
 Guid="edd4ce0d-6e56-420f-bffb-f9e565417371"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="0bcdb731-9edd-4a25-84d2-c2ac161e6aba"
>THIS &lt;- Target.Warning</Action><Action
 Guid="82876995-e964-4d20-87b2-5e401e8a71eb"
>TCOTriggered &lt;- False</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To overspeed status"
 Guid="a26bed95-5b6b-4834-bcb8-6fee4901832a"
>
<ReqRef
 Id="c37a61a0-4999-47a6-a190-260324acdb40"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="894b3c5f-5e52-4c7d-9deb-2ce752b555e9"
>
</ReqRef><Comment>Trigger overspeed status, priority 3.</Comment>
<PreConditions>
<PreCondition
 Guid="5d5ec35d-17cf-42d4-b349-521db10b473f"
>TargetSpeedMonitoring.SupervisionStatus.t4()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t5()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t6()</PreCondition><PreCondition
 Guid="dded820b-143c-486e-af78-2b9abbb2e073"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="d28762fe-3632-4bd2-9e7d-fe9f372261f4"
>THIS &lt;- Target.Overspeed</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</StateMachine></State><State
 X="560"
 Y="350"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Overspeed"
 Guid="33e0286f-fd8f-4757-9b71-fa43cf9731e1"
>
<ReqRef
 Id="87168408-94a2-4eeb-8c4a-666507a95b45"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3695529d-81a0-4cc2-831b-492dde07e6ae"
>
</ReqRef><Comment>Overspeed status.</Comment>
<StateMachine
 Default=""
 Implemented="TRUE"
 Guid="91132084-fe99-4f56-b3ff-5ebb2357ec2b"
>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Update Supervision Status"
 Guid="23bf3819-abec-4055-b983-d1e9d3cba80f"
>
<Comment>Ensure that the supervision status remains appropriate.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="To normal status"
 Guid="fc97d455-96e0-4b88-a25b-5bee78cd3f87"
>
<ReqRef
 Id="db019e71-db84-41ad-a3fe-4bf8dae5a1a3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="8bb203c8-8cdc-43f4-9beb-8adf8f395e85"
>
</ReqRef><Comment>Revoke overspeed status to normal status, priority 1.</Comment>
<PreConditions>
<PreCondition
 Guid="c4ac1a55-f50c-40ae-a81c-857508f0401f"
>TargetSpeedMonitoring.SupervisionStatus.r1()
  OR  
TargetSpeedMonitoring.SupervisionStatus.r2()</PreCondition><PreCondition
 Guid="d557141a-65f3-427d-b04f-b467353812c2"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="3b6c3b7f-2e95-4802-87e8-7df8ab0bb099"
>THIS &lt;- Target.Normal</Action><Action
 Guid="a153df48-746c-4583-ab7a-5e91c6876d0b"
>RevokeSBCommand()</Action><Action
 Guid="11b5c65a-bab8-42ce-a618-f160367f82b3"
>RevokeEBCommand()</Action><Action
 Guid="ce4346a6-96eb-40c9-b8f9-fb657f9ebf2d"
>TCOTriggered &lt;- False</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To intervention status"
 Guid="87afe508-0553-401e-b637-257244d2a5cf"
>
<ReqRef
 Id="e5f050bb-7e6e-461d-b803-0fddb0a89260"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e1f61fc6-99c0-4ec7-ac75-fdb5cab3a4b8"
>
</ReqRef><Comment>Trigger intervention status, priority 1.</Comment>
<PreConditions>
<PreCondition
 Guid="e931eba7-92a4-4b09-8d6e-075479f9989d"
>TargetSpeedMonitoring.SupervisionStatus.t15()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t14()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t13()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t12()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t11()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t10()</PreCondition><PreCondition
 Guid="a840e746-eb29-4de8-b008-2ff648b3290c"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="7020a9c2-28bc-45fb-b642-e83da6813256"
>THIS &lt;- Target.Intervention</Action></Actions>
<SubRules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Trigger emergency brake"
 Guid="f4c712b0-05c0-4ac0-8d84-37bbad70cf64"
>
<Comment>Trigger t13 and t14 also trigger the emergency brake.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Emergency brake command"
 Guid="16df3a4b-4880-4cb4-b0a3-84c77f8b5978"
>
<PreConditions>
<PreCondition
 Guid="cd7251a7-6c58-4fc8-8d83-997cbe2b580c"
>TargetSpeedMonitoring.SupervisionStatus.t15()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t14()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t13()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="94acb863-d948-4d74-859e-990164c85a3a"
>TriggerEBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Trigger service brake"
 Guid="d2e016cb-6527-4a1f-a606-67c0fcad8027"
>
<Comment>Triggers t10, t11 and t12 also trigger the service brake.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Service brake command"
 Guid="07df2567-6091-4e7a-bb7e-1d8667a1fa04"
>
<PreConditions>
<PreCondition
 Guid="fab92b84-802e-4552-9756-f67aac477d8a"
>TargetSpeedMonitoring.SupervisionStatus.t10()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t11()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t12()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="f477d1e9-f42a-4491-9b23-418f58cdf633"
>TriggerSBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule></SubRules>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To indication status"
 Guid="6f240fe6-b6b8-47b2-ba55-e59d2062df4a"
>
<ReqRef
 Id="a23ad28c-4aab-471e-a48b-97cc5e84f75a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="1122d942-73da-427c-a291-d78fa5712967"
>
</ReqRef><Comment>Revoke overspeed status to indication status, priority 2.</Comment>
<PreConditions>
<PreCondition
 Guid="007e56d1-04a5-42f6-9fd7-51753e17ee24"
>TargetSpeedMonitoring.SupervisionStatus.r3()</PreCondition><PreCondition
 Guid="ba1b3cfc-0f36-4987-ba60-ae5584af8df6"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="2b62fb88-bec1-454b-b74e-5bafacec677c"
>THIS &lt;- Target.Indication</Action><Action
 Guid="176a54f9-21ea-488c-9742-3b7503579899"
>TCOTriggered &lt;- False</Action><Action
 Guid="f4c94329-ab92-4e66-abca-57ac145bd83e"
>RevokeEBCommand()</Action><Action
 Guid="a576e695-8505-4635-a48d-3ac406fc8673"
>RevokeSBCommand()</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To warning status"
 Guid="64d10828-4293-4417-8f72-3792041ca92a"
>
<ReqRef
 Id="f48b3d4c-0b20-4478-8d97-831556c6050e"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="6c7b9129-6498-461b-afdd-91cfadbadb43"
>
</ReqRef><Comment>Trigger warning status, priority 2.</Comment>
<PreConditions>
<PreCondition
 Guid="32c0a323-7fed-4ace-9144-58c779c0e2cc"
>TargetSpeedMonitoring.SupervisionStatus.t7()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t8()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t9()</PreCondition><PreCondition
 Guid="f4fd088e-b1ca-4352-b983-4b1d7d7651ee"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="6211da03-1df8-44e8-a984-8b0851819f2f"
>THIS &lt;- Target.Warning</Action><Action
 Guid="e27cc335-b858-46f4-9a21-a2f27d83201d"
>TCOTriggered &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</StateMachine></State><State
 X="770"
 Y="230"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Warning"
 Guid="62d08517-d2ba-4717-a60e-edf9e00b38e1"
>
<ReqRef
 Id="87168408-94a2-4eeb-8c4a-666507a95b45"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="94b0bfa4-210f-4a5d-b918-25a6228e7816"
>
</ReqRef><Comment>Warning status.</Comment>
<StateMachine
 Default=""
 Implemented="TRUE"
 Guid="f52bc34a-605e-4f96-85dd-ee16736ea86b"
>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Update Supervision Status"
 Guid="8ea2a956-21d6-4df0-9285-dc34c6936b55"
>
<Comment>Ensure that the supervision status remains appropriate.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="To normal status"
 Guid="0efa0664-8d58-4956-b9b5-013c20b28ffa"
>
<ReqRef
 Id="db019e71-db84-41ad-a3fe-4bf8dae5a1a3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="181adc0a-dd98-4985-aec5-eab46e4c865b"
>
</ReqRef><Comment>Revoke warning status to normal status, priority 1.</Comment>
<PreConditions>
<PreCondition
 Guid="666f5a37-2c5d-48a7-abdc-0c62243c4a13"
>TargetSpeedMonitoring.SupervisionStatus.r1()
  OR  
TargetSpeedMonitoring.SupervisionStatus.r2()</PreCondition><PreCondition
 Guid="d90e2315-6dd5-4a30-a1be-7723bbffd1e3"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="37f62c09-1939-40a0-9ec7-00f76f47cf66"
>TCOTriggered &lt;- False</Action><Action
 Guid="87afeb58-eb46-4327-9311-929c855e7175"
>RevokeSBCommand()</Action><Action
 Guid="b5e04fb0-0198-43ad-a100-446ab7aec3c4"
>THIS &lt;- Target.Normal</Action><Action
 Guid="3debddf5-aa64-41ec-b30c-77f1d9160fc3"
>RevokeEBCommand()</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To intervention status"
 Guid="c7cd800f-b036-41e2-b923-b8ab6ad1c440"
>
<ReqRef
 Id="e5f050bb-7e6e-461d-b803-0fddb0a89260"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="4b51a6c8-8d87-4595-b2fd-572c2b2630ac"
>
</ReqRef><Comment>Trigger intervention status, priority 1.</Comment>
<PreConditions>
<PreCondition
 Guid="bde799dd-0c85-4b57-ad32-a6c592731adb"
>TargetSpeedMonitoring.SupervisionStatus.t15()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t14()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t13()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t12()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t11()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t10()</PreCondition><PreCondition
 Guid="dd079bc0-5dff-43e9-8f0a-fad0e906344f"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="9cfeb262-e27d-4e9f-abcb-0a585094e67a"
>THIS &lt;- Target.Intervention</Action></Actions>
<SubRules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Trigger emergency brake"
 Guid="fb48bafc-f348-4289-a55b-c859f99f1ef5"
>
<Comment>Triggers t13 and t14 also trigger the emergency brake.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Emergency brake command"
 Guid="c2343f89-9e37-425d-8903-6358d49e23cb"
>
<PreConditions>
<PreCondition
 Guid="a73e7dfc-8ce1-4d90-aa0b-1b3ac8718542"
>TargetSpeedMonitoring.SupervisionStatus.t15()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t14()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t13()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="0fd66ebe-a209-4b32-be08-0d771b37711c"
>TriggerEBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Trigger service brake"
 Guid="d46d6b3e-de9e-4787-8025-835dfeea50b8"
>
<Comment>Triggers t10, t11 and t12 also trigger the service brake.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Service brake command"
 Guid="0860e853-c246-47b3-9c64-770f59ed5890"
>
<PreConditions>
<PreCondition
 Guid="99b9f0b2-5da2-4ac1-a698-48db44aa83a4"
>TargetSpeedMonitoring.SupervisionStatus.t10()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t11()
  OR  
TargetSpeedMonitoring.SupervisionStatus.t12()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="f57b4fee-f48c-45b6-be79-3bd814fe653a"
>TriggerSBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule></SubRules>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To indication status"
 Guid="466c169b-6e1a-48fe-a2d7-89e62a122f15"
>
<ReqRef
 Id="a23ad28c-4aab-471e-a48b-97cc5e84f75a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="040ac2e6-0ea5-4749-8f57-703688592ccf"
>
</ReqRef><Comment>Revoke warning status to indication status, priority2.</Comment>
<PreConditions>
<PreCondition
 Guid="2adcbd97-7c16-4786-80af-5924bce1a3bd"
>TargetSpeedMonitoring.SupervisionStatus.r3()</PreCondition><PreCondition
 Guid="6da32743-f2b6-45bc-ab2b-aa60fab32247"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="9a2c4b84-2ba8-4c56-b740-29d7470e73e0"
>THIS &lt;- Target.Indication</Action><Action
 Guid="a1760c3c-11b0-4b10-b444-07aad0f08be6"
>TCOTriggered &lt;- False</Action><Action
 Guid="0f1191f2-acc4-4231-acfe-f088fb6e99d7"
>RevokeEBCommand()</Action><Action
 Guid="2cb79da2-cda0-4048-a948-ed69337c1100"
>RevokeSBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</StateMachine></State><State
 X="550"
 Y="70"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Intervention"
 Guid="6575684f-86c7-47a8-88ac-4b33a05b066c"
>
<ReqRef
 Id="87168408-94a2-4eeb-8c4a-666507a95b45"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0039efaf-1509-41b3-9987-68b1c13ca4c1"
>
</ReqRef><Comment>Intervention status.</Comment>
<StateMachine
 Default=""
 Implemented="TRUE"
 Guid="cb2d2858-5a12-42a5-bf9f-581fba853d36"
>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Update Supervision Status"
 Guid="85b269a8-f0d6-498b-9c81-d2c48976ca71"
>
<Comment>Ensure that the supervision status remains appropriate.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="To normal status"
 Guid="569eaeb0-0f32-4bd0-a3f3-eab9aa5507cc"
>
<Comment>Revoke intervention status to normal status, priority 1.</Comment>
<PreConditions>
<PreCondition
 Guid="8ad546a7-3fae-409d-80a5-bd48d333a7a7"
>TargetSpeedMonitoring.SupervisionStatus.r0() 
  OR  
TargetSpeedMonitoring.SupervisionStatus.r1() 
  OR  
TargetSpeedMonitoring.SupervisionStatus.r2()</PreCondition><PreCondition
 Guid="135eec21-3034-495d-b0d7-5775c861ed3b"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="a2cc4766-eba5-416a-81e7-940a838dac07"
>THIS &lt;- Target.Normal</Action></Actions>
<SubRules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Revoke emergency brake"
 Guid="e3e1715a-641c-46b4-a093-ea0ef3c64444"
>
<Comment>Revocations 0, 1 and 2 also revoke emergency brake commands.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Emergency brake command"
 Guid="ff114340-0ca8-4af3-9247-1979f1e707dd"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="0242f129-75bb-4b22-8a7e-4eb495129f89"
>RevokeEBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Revoke service brake and traction cut off"
 Guid="412899dc-f694-41d7-82fd-32f0306a440b"
>
<Comment>Revocations 1 and 2 also revoke the service brake and traction cut off commands.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="SB and TCO commands"
 Guid="a4073ab5-cef5-41ad-9bea-e0edc2c8e702"
>
<PreConditions>
<PreCondition
 Guid="6e3d0029-6073-4eb3-a2ac-b9f25f0f728a"
>TargetSpeedMonitoring.SupervisionStatus.r1() 
  OR  
TargetSpeedMonitoring.SupervisionStatus.r2()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="f3c53cde-2634-4974-b341-7160f20afab0"
>TCOTriggered &lt;- False</Action><Action
 Guid="ed3e99da-5b08-4436-a98a-2e924fc4442e"
>RevokeSBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule></SubRules>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To indication status"
 Guid="d1b111e0-4708-41ec-9ec9-bddfb55b36ff"
>
<Comment>Revoke intervention status to indication status, priority 2.</Comment>
<PreConditions>
<PreCondition
 Guid="7a0d66ec-a534-4378-ba44-c2553e18fa8d"
>TargetSpeedMonitoring.SupervisionStatus.r3()</PreCondition><PreCondition
 Guid="2c964c89-a3ab-47f0-9810-0b0e3f163cc8"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="4c209a09-ef03-4016-888c-643568a12234"
>THIS &lt;- Target.Indication</Action><Action
 Guid="b32c4ad6-1223-4e76-8be4-bf8836e4a53b"
>TCOTriggered &lt;- False</Action><Action
 Guid="3e7bc568-c7b3-482d-81cf-492c7cb4588c"
>RevokeEBCommand()</Action><Action
 Guid="4f5057d0-d8bc-4124-9832-dc2628dbffdd"
>RevokeSBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</StateMachine></State></States>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="ToRSM"
 Guid="6a193b04-c31d-4694-b93e-261621b55074"
>
<Comment>Rule for changing to release speed monitoring when the train passes the RSM start location</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Train passed RSM start location"
 Guid="b95478f6-5491-4553-bb4e-1249f5752004"
>
<PreConditions>
<PreCondition
 Guid="8f62c233-1015-45b6-9369-1e69518a2b8a"
>Condition2()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="47aa0936-dd4f-438f-981f-372a69f1a293"
>DetermineSupervisionStatus(Release)</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</StateMachine><LeaveAction>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Leave action"
 Guid="5f94ad4a-4721-4108-aab2-27b5758953e8"
>
<Comment>Indicates to the JRU that the monitoring changed.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Leave action"
 Guid="c381aa52-44c1-4339-a2e9-e16690e9e08f"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="99cfef32-2db0-4b56-bf19-0e91ceb84880"
>JRU.JRU1.SpeedAndDistanceSupervisionTypeChanged &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule></LeaveAction>
</State><State
 X="560"
 Y="70"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Release"
 Guid="07de5e9f-788d-415d-8ebd-f5b04846c216"
>
<Comment>Release Speed Monitoring.</Comment>
<StateMachine
 Default="Release.Indication"
 Implemented="TRUE"
 Guid="4c471652-a236-49b9-afdf-492ed8264c22"
>
<States>
<State
 X="100"
 Y="130"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Indication"
 Guid="4f356dc2-e351-400a-b04e-496dc94d46d8"
>
<Comment>Indication status.</Comment>
<StateMachine
 Default=""
 Implemented="TRUE"
 Guid="9a7eee7c-0814-4a7c-92db-1d13b3738742"
>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Update Supervision Status"
 Guid="fb8f3dd3-1913-43c8-b06b-8fe5355c78d7"
>
<Comment>Ensure that the supervision status remains appropriate.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="To intervention status"
 Guid="d1dc036a-56d0-467a-84bc-a9825c69eac0"
>
<ReqRef
 Id="4bd9437c-f793-4471-b3f2-d0e50cda8c6a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="1089d56e-906d-4cc2-9152-265f0964e27c"
>
</ReqRef><PreConditions>
<PreCondition
 Guid="45e915a5-9592-4f88-83ea-5dae68511a2e"
>ReleaseSpeedMonitoring.SupervisionStatus.t2()</PreCondition><PreCondition
 Guid="a6e94ce9-0d3f-48f2-9f21-b30300b2be49"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="bb925f43-f10f-4d4c-807b-de1fc43d57bd"
>THIS &lt;- Release.Intervention</Action><Action
 Guid="8b7254e2-7276-4bb7-9345-bca5f585ad58"
>TriggerEBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</StateMachine></State><State
 X="420"
 Y="130"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Intervention"
 Guid="d598f770-ef38-4a7f-ba14-fbb1b27c73d6"
>
<Comment>Intervention status.</Comment>
<StateMachine
 Default=""
 Implemented="TRUE"
 Guid="f8fe3162-e2a7-49c1-9bf3-4e6dc42b3593"
>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Update Supervision Status"
 Guid="323cdab9-8688-418b-ba26-83c82d726d7b"
>
<Comment>Ensure that the supervision status remains appropriate.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="To indication status"
 Guid="f2c703aa-5ca5-49ed-876f-8605ee308e6e"
>
<ReqRef
 Id="dd0da099-d404-4f93-b840-c25c06defab7"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5a02b86e-8fea-4c97-bd49-701d99f0365c"
>
</ReqRef><PreConditions>
<PreCondition
 Guid="6a9b9f31-0b37-4942-8716-ef9b78526589"
>ReleaseSpeedMonitoring.SupervisionStatus.r0()</PreCondition><PreCondition
 Guid="7258cc66-859c-4976-a602-56681b858a5a"
>TargetsList()
==
SupervisedTargets</PreCondition></PreConditions>
<Actions>
<Action
 Guid="1b0f55fd-51f3-4dd0-a048-2376f9c3bafd"
>THIS &lt;- Release.Indication</Action><Action
 Guid="19c76645-c3e5-4685-a624-760afc46db83"
>RevokeEBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</StateMachine></State></States>
</StateMachine><LeaveAction>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Leave action"
 Guid="91880f7e-475c-4cfc-bb01-f24f66ae0fb7"
>
<Comment>Indicates to the JRU that the monitoring changed.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Leave action"
 Guid="8715927c-480d-4a7e-be83-e4669b9d13b8"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="c33a8f0b-d6b4-468c-a30e-601b26499fae"
>JRU.JRU1.SpeedAndDistanceSupervisionTypeChanged &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule></LeaveAction>
</State><State
 X="70"
 Y="70"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Idle"
 Guid="1edf48d7-6c71-4956-a753-852a9d9d4bf9"
>
<Comment>Speed and distance monitoring is inactive.</Comment>
<StateMachine
 Default=""
 Implemented="TRUE"
 Guid="98ea433a-587b-40e7-8a72-c66ae4c4b16d"
>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="RestartSpeedAndDistanceMonitoring"
 Guid="5083b87e-34c8-47eb-8d1e-d09514360921"
>
<ReqRef
 Id="ec29a885-8a5f-4c6e-82e7-4e5b41a7dd5d"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="67553a48-9bea-4af6-8450-85c14f24593d"
>
</ReqRef><ReqRef
 Id="45862693-0326-4d9c-9414-fb04b4129d68"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5a63d6b2-8af1-4e5b-bec1-a10012364f02"
>
</ReqRef><ReqRef
 Id="8468de24-42eb-4959-a546-99c00cccb22a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="bfd5f919-3bf7-4400-b670-cd6f3aa1ac0f"
>
</ReqRef><Comment>When the train mode is FS, LS, or OS, start monitoring again</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Supervise Train Speed"
 Guid="0b822837-96e0-4550-bd30-dcb12e0cfd29"
>
<PreConditions>
<PreCondition
 Guid="6bee5e64-dd3e-4190-b0cc-b9fecd7c8aa1"
>ActiveFunctions.SuperviseTrainSpeed_All_Information()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="351c9b66-e0cc-4a58-9b1c-f39028235a8a"
>SelectMonitoringType()</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</StateMachine><LeaveAction>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Leave action"
 Guid="6ca89d14-fa3d-45c8-8759-a3a6068101ec"
>
<Comment>Indicates to the JRU that the monitoring changed.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Leave action"
 Guid="ca431c11-db0d-4153-bff3-01d864a4e922"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="82058584-29de-45da-b2ee-c7b67ac12c96"
>JRU.JRU1.SpeedAndDistanceSupervisionTypeChanged &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule></LeaveAction>
</State></States>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="CheckSupervisedTargets"
 Guid="304161d6-e7e8-4593-a5e7-cee6d8acb7ee"
>
<ReqRef
 Id="4ef8d95d-9b39-4a31-af31-f673833b0f7b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="b004b039-c19b-4b73-8fbb-92e9bce40ae9"
>
</ReqRef><ReqRef
 Id="c0c90876-1322-4533-951c-924804b80043"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="60ab2067-a5a3-4b52-baf3-1ce8f0e03a03"
>
</ReqRef><ReqRef
 Id="f966f396-c00e-4f6b-945d-6cde4527e814"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d23193c7-36c9-4fc7-9992-1cb2b5f71f55"
>
</ReqRef><ReqRef
 Id="620d2411-2c42-403d-9139-cdb6a68c48b2"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0c1c75e3-fbe4-47fd-b4bd-ea9113c345ef"
>
</ReqRef><ReqRef
 Id="16a2ffa9-a581-4832-8287-d3a982f4ddd7"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="14a6dc97-370b-4080-bc18-3ea25b839dac"
>
</ReqRef><ReqRef
 Id="8e95d803-0ad3-43b6-b488-8471ea3f792a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5440dec9-dcc0-4012-8712-b53b71d85336"
>
</ReqRef><Comment>When the list of supervised targets changes, the type of moitoring may change.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="The list of supervised targets was updated"
 Guid="a03fee97-031e-4942-9848-c5b0d7fecc9c"
>
<PreConditions>
<PreCondition
 Guid="f0533ab6-40d0-43ae-a60c-64a801411bc9"
>TargetsList()
!=
SupervisedTargets</PreCondition><PreCondition
 Guid="6f2cc5a3-3453-4c20-acb8-221630d71332"
>ActiveFunctions.SuperviseTrainSpeed_All_Information()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="774ac772-0f2b-46db-99c0-8963f899bb81"
>SupervisedTargets &lt;- TargetsList()</Action><Action
 Guid="495f9d03-e905-4e4c-82f4-b48208753eb2"
>SelectMonitoringType()</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</StateMachine></StateMachines>
<Functions>
<Function
 Type="Default.BaseTypes.Speed"
 Cacheable="TRUE"
 Default=""
 X="200"
 Y="230"
 Width="100"
 Height="50"
 Pinned="TRUE"
 Implemented="TRUE"
 Name="f41"
 Guid="574a6d60-6f0a-4231-a88a-b3218269d93e"
>
<ReqRef
 Id="4e10c5a1-f415-44fc-b597-8b1a359c2c25"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0c6a75ff-8f1c-4f21-9eef-d04e42c7f902"
>
</ReqRef><ReqRef
 Id="0e91b525-553f-4f68-8970-8bed83e88948"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="2017e1bf-bd0e-4eb7-998a-954314fa9191"
>
</ReqRef><ReqRef
 Id="ae24dcec-0c75-48cd-b842-4d34ef229a22"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ab44b8c8-44a1-44c9-83aa-3681e2d9d406"
>
</ReqRef><ReqRef
 Id="92e9a363-c16c-40c0-9622-49031126869d"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="096a72ec-a7bf-4fff-80d1-9a93ff9ce660"
>
</ReqRef><ReqRef
 Id="4ba91473-9e38-449c-87e0-203353bc7bcb"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c9abd426-62b5-4e1f-ac94-6cfa5ac6658b"
>
</ReqRef><ReqRef
 Id="528dbfd7-4b7d-4b1d-a596-153aec151d71"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="92bd9095-b0a8-4566-a3fb-1b411b0b3f6b"
>
</ReqRef><ReqRef
 Id="0a156077-932d-4831-b7d8-8cb0350879e1"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="f9e5a23b-af2f-489e-9a1a-4807bb1e24fc"
>
</ReqRef><ReqRef
 Id="14b50fc8-d11d-4f00-a819-56def9d260b0"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3b925746-fb54-4ae6-880c-592e8d84b4a4"
>
</ReqRef><ReqRef
 Id="dfe813b0-9500-4f66-bdc1-50df0c88f0ca"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="4a5e0389-c293-4c48-b6b4-24af30b8dfee"
>
</ReqRef><Comment>Computes the compensation of the inaccuracy of the speed measurement. For speed greater than 30km/h, the value is computed using the formula (1/47) * Speed + 7 - (1/47)</Comment>
<Parameters>
<Parameter
 Type="Default.BaseTypes.Speed"
 Name="V"
 Guid="55c660e8-c7d5-45aa-a698-c5f1cc010f34"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="Speed lower than 30km/h"
 Guid="be93371e-e4bb-49d1-b368-83e2c75653f5"
>
<PreConditions>
<PreCondition
 Guid="5394b5c1-088b-4cd4-99d8-833a9ccb9b0e"
>V &lt; 30.0</PreCondition><PreCondition
 Guid="fc94aa76-153b-481d-a628-d5e5681681be"
>NOT NationalValues.CompensationOfInaccuracyOfTheSpeedIsInhibited()</PreCondition></PreConditions>
<Expression>2.0</Expression>
</Case><Case
 Name="Speed upper than 30km/h"
 Guid="e612c16a-0960-440e-b48a-bcffc10dd9ee"
>
<PreConditions>
<PreCondition
 Guid="9db93c12-dc1f-44b4-ab37-d59c2760812b"
>NOT NationalValues.CompensationOfInaccuracyOfTheSpeedIsInhibited()</PreCondition></PreConditions>
<Expression>V / 47.0 + 7.0 - 265.0 / 47.0</Expression>
</Case><Case
 Name="Compensation of inaccuracy inhibited"
 Guid="7d443066-45eb-484f-993c-be2d35dda86b"
>
<Expression>0.0</Expression>
</Case></Cases>
</Function><Function
 Type="Boolean"
 Cacheable="TRUE"
 Default=""
 X="90"
 Y="230"
 Width="100"
 Height="50"
 Pinned="TRUE"
 Implemented="TRUE"
 Name="SBIsAvailableForUse"
 Guid="b0b21ecb-3c0b-4844-9f7a-1a6e39b0b2fa"
>
<ReqRef
 Id="00747c30-1c6d-4751-8e5f-6d65f3085d3a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="20f62c9a-5203-4f25-baf1-01ba9e1875ec"
>
</ReqRef><ReqRef
 Id="0f223275-ff77-4025-a194-a347f5ef0542"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="b286a8d9-d73a-4c9b-b746-0bdd2e873eac"
>
</ReqRef><Comment>Checks if the service brake is present and whther its use is allowed in the national values</Comment>
<Cases>
<Case
 Name="Value"
 Guid="d01614d0-298f-4107-8b27-4e7ff976e5e9"
>
<Expression>TrainData.TrainData.Value.SBCommandIsImplemented AND NOT NationalValues.UseOfSBIsInhibited()</Expression>
</Case></Cases>
</Function><Function
 Type="Default.BaseTypes.Speed"
 Cacheable="TRUE"
 Default=""
 X="200"
 Y="290"
 Width="100"
 Height="50"
 Pinned="TRUE"
 Implemented="TRUE"
 Name="PermittedSpeed"
 Guid="98c15b8c-4a8b-4fc0-8d3c-6e940e541fe2"
>
<ReqRef
 Id="09e9b21f-a204-44c7-9829-f4221f5ff7a6"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="b8cf0ba7-f32e-4c2a-b835-6ba6cb0f32e1"
>
</ReqRef><ReqRef
 Id="74e64307-2966-461e-a976-9a0194ca8514"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="f77e2edc-d3c3-4e18-9ba7-1dd5896b3583"
>
</ReqRef><ReqRef
 Id="66b79932-5e84-4126-abe6-3094347749c2"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="dce28774-413f-472c-ac6f-6a203e4c010c"
>
</ReqRef><ReqRef
 Id="7da2c959-4215-45b4-b239-3b315d76277c"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c841058e-4afa-43ae-be78-9321f14c4139"
>
</ReqRef><Comment>Provides the current permitted speed of the train, accounting for the speed and distance monitoring.</Comment>
<Cases>
<Case
 Name="CeilingSpeedMonitoring_P"
 Guid="9bcbf022-4599-40dc-ad8a-f5e831f6af26"
>
<Comment>The permitted speed P (in ceiling speed monnitoring) is equal to V_MRSP or V_LOA.</Comment>
<PreConditions>
<PreCondition
 Guid="5394d167-a030-4b1d-a096-b176e1075237"
>Monitoring in MonitoringTypeSM.Ceiling</PreCondition></PreConditions>
<Expression>MRSP.V_MRSP()</Expression>
</Case><Case
 Name="Other monitoring types"
 Guid="c121bdd5-4b33-48ef-b069-9a042e43983d"
>
<PreConditions>
<PreCondition
 Guid="5ba6a2ec-fce4-46ab-8e17-256f0a63ae84"
>Monitoring in [MonitoringTypeSM.Target, MonitoringTypeSM.Release]</PreCondition></PreConditions>
<Expression>TargetSpeedMonitoring.V_P_DMI()</Expression>
</Case></Cases>
</Function><Function
 Type="Boolean"
 Cacheable="TRUE"
 Default=""
 X="310"
 Y="230"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Condition1"
 Guid="6f7b540b-4441-4ce5-9081-32c38369a81c"
>
<ReqRef
 Id="32b65a6d-139f-482e-98ed-7dd88679ba95"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="33c079d8-dff7-4e5f-8772-dd5212ebaef2"
>
</ReqRef><ReqRef
 Id="c0c90876-1322-4533-951c-924804b80043"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="cce65636-616f-4975-9273-277a934d7cda"
>
</ReqRef><ReqRef
 Id="f966f396-c00e-4f6b-945d-6cde4527e814"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="2fc12d5d-837d-4951-b19a-84075573cfdb"
>
</ReqRef><ReqRef
 Id="620d2411-2c42-403d-9139-cdb6a68c48b2"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="97a207f7-c120-4134-8586-c678455b1e3d"
>
</ReqRef><ReqRef
 Id="de364883-d636-476b-8455-154f2ebd4444"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0b4bbeb9-722a-4fc4-a5c9-ddc7e371f3f0"
>
</ReqRef><ReqRef
 Id="8e95d803-0ad3-43b6-b488-8471ea3f792a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d180cb13-f3ac-44d7-b3af-fec51d117e5f"
>
</ReqRef><Comment>Condition for transition from Ceiling Speed Monitoring to Target Speed Monitoring.</Comment>
<Cases>
<Case
 Name="Pre-indication location already in rear of train"
 Guid="9e60f7bd-616e-4dcc-92ae-09b6b9a8c5e4"
>
<PreConditions>
<PreCondition
 Guid="a9cf64fe-934f-41fc-b58b-190b853ccc0d"
>PreIndicationLocation.d_preindication() == Default.BaseTypes.Distance.Unknown</PreCondition></PreConditions>
<Expression>True</Expression>
</Case><Case
 Name="Train passed pre-indication location"
 Guid="d246cb6e-5ad9-415b-a581-75b2b0b9263a"
>
<PreConditions>
<PreCondition
 Guid="699a6b10-e831-4c8a-a3ed-591f85155457"
>TrainPosition.FrontEndPosition(Default.DistanceInterval.Max) &gt; PreIndicationLocation.d_preindication()</PreCondition></PreConditions>
<Expression>True</Expression>
</Case><Case
 Name="Otherwise"
 Guid="39491cf3-c180-4b5f-9fdb-2d5c5b334573"
>
<Expression>False</Expression>
</Case></Cases>
</Function><Function
 Type="Boolean"
 Cacheable="TRUE"
 Default=""
 X="310"
 Y="290"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Condition2"
 Guid="a41dd03f-2476-4bc0-b911-b4d3d756b71e"
>
<ReqRef
 Id="5554abd5-d957-475f-aa3a-5ae657f9ccf3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0a96f45e-e74e-4790-9e3d-0c49d886a440"
>
</ReqRef><ReqRef
 Id="f966f396-c00e-4f6b-945d-6cde4527e814"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d256f825-d472-4909-88b7-13e8c8196f52"
>
</ReqRef><ReqRef
 Id="620d2411-2c42-403d-9139-cdb6a68c48b2"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5600f4c9-9110-4787-b426-4cd2e9c70094"
>
</ReqRef><Comment>Condition for transition from Target Speed Monitoring to Release Speed Monitoring.</Comment>
<Cases>
<Case
 Name="RSM already in rear of train"
 Guid="af63e5cf-3a7e-44bd-bbd7-da0b3a74ef0a"
>
<PreConditions>
<PreCondition
 Guid="35a78385-5ce1-4613-91ce-27ae1fc32d9e"
>ReleaseSpeedMonitoring.ReleaseSpeedSupervisionApplicable(TargetSpeedMonitoring.SupervisedTarget())
AND
ReleaseSpeedMonitoring.StartRSM(ReleaseSpeedMonitoring.ReleaseSpeed) == Default.BaseTypes.Distance.Unknown</PreCondition></PreConditions>
<Expression>True</Expression>
</Case><Case
 Name="Front end passed RSM start location"
 Guid="06d8c12a-e5d7-40f6-abec-0d47871c3cd2"
>
<PreConditions>
<PreCondition
 Guid="5acecc19-8795-458f-bf25-d3d7788ef394"
>ReleaseSpeedMonitoring.ReleaseSpeedSupervisionApplicable(TargetSpeedMonitoring.SupervisedTarget())
AND
TrainPosition.FrontEndPosition(Default.DistanceInterval.Max) &gt;  ReleaseSpeedMonitoring.StartRSM(ReleaseSpeedMonitoring.ReleaseSpeed)</PreCondition></PreConditions>
<Expression>True</Expression>
</Case><Case
 Name="Otherwise"
 Guid="9b96ca59-f914-4805-9966-b093fbe6b969"
>
<Expression>False</Expression>
</Case></Cases>
</Function><Function
 Type="Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.Targets"
 Cacheable="TRUE"
 Default=""
 X="90"
 Y="290"
 Width="100"
 Height="50"
 NeedsRequirement="FALSE"
 Name="TargetsList"
 Guid="f4668202-f4f0-4a13-b076-7ffb98ee3f01"
>
<Comment>Returns the list of targets corresponding to a decrease in permitted speed for the train</Comment>
<Cases>
<Case
 Name="Supervise MRSP and max dist in SR mode"
 Guid="c5ea4f4f-f3a0-4e4a-a583-fbee5e633875"
>
<PreConditions>
<PreCondition
 Guid="70b90267-1f97-420a-98f2-50458a60d168"
>ActiveFunctions.SuperviseTrainSpeed_MRSP_DistInSRMode()</PreCondition></PreConditions>
<Expression>MAP TARGETS
(
  Targets1=&gt;MIN
  (
    First =&gt; MRSP.SpeedRestrictions,
    Second =&gt; NationalValues.MaxDistInSRSpeedRestriction
  ),
  Targets2=&gt;EMPTY,
  Targets3=&gt;EMPTY
) | X.Location &gt; TrainPosition.FrontEndPosition(Default.DistanceInterval.Nom)
  USING X IN X</Expression>
</Case><Case
 Name="Otherwise"
 Guid="5bfa34f7-80f1-4c7a-8338-d7b0662d057c"
>
<Expression>MAP TARGETS(
    Targets1=&gt;MIN(First=&gt;  MIN(First=&gt; MRSP.SpeedRestrictions,
                               Second=&gt; MA.SpeedRestrictions
                               ),
                  Second=&gt; NationalValues.MaxDistInSRSpeedRestriction
                  ),
    Targets2=&gt;EMPTY,
    Targets3=&gt;EMPTY
) | X.Location &gt; TrainPosition.FrontEndPosition(Default.DistanceInterval.Nom)
  USING X IN X</Expression>
</Case></Cases>
</Function><Function
 Type="Boolean"
 Cacheable="TRUE"
 Default=""
 X="420"
 Y="290"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="DisplayReleaseSpeed"
 Guid="0e03db57-f072-4c06-9f8d-37b08022f0ce"
>
<ReqRef
 Id="da81dc9e-7c01-462c-ae9b-108704d780bc"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="26165586-b87b-4fc6-aef9-ec247e260bce"
>
</ReqRef><ReqRef
 Id="ee7b5ecc-20f6-480c-aa0a-7836d5308d32"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c84326fe-ff7d-48f4-a605-f443b22b4615"
>
</ReqRef><Comment>Determines whether the DMI should display a release speed.</Comment>
<Cases>
<Case
 Name="Monitoring target speed"
 Guid="c220ae83-9fd0-4062-b2dd-0b4508cc0570"
>
<PreConditions>
<PreCondition
 Guid="eae54f73-e54c-496a-b739-536763fd2530"
>Monitoring in MonitoringTypeSM.Target</PreCondition></PreConditions>
<Expression>MA.IsEOA(TargetSpeedMonitoring.SupervisedTarget())
  OR  
MA.IsSvL(TargetSpeedMonitoring.SupervisedTarget())</Expression>
</Case><Case
 Name="Monitoring release speed"
 Guid="08d09e11-9195-4651-b68a-5e2963886bc4"
>
<Expression>Monitoring in MonitoringTypeSM.Release</Expression>
</Case></Cases>
</Function><Function
 Type="Kernel.SupervisionStatus"
 Cacheable="TRUE"
 Default=""
 X="420"
 Y="230"
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="SupervisionStatus"
 Guid="c8264e57-7e0f-4625-bc3b-fd7738fde2b7"
>
<Comment>Provides the current supervision status for the DMI and the JRU</Comment>
<Cases>
<Case
 Name="Normal"
 Guid="cb56c5e9-5033-4439-abd7-add298118842"
>
<PreConditions>
<PreCondition
 Guid="6046f3ef-2d04-439e-badf-03ef3f72e5ea"
>Monitoring in [MonitoringTypeSM.Ceiling.Normal, MonitoringTypeSM.Target.Normal]</PreCondition></PreConditions>
<Expression>SupervisionStatus.Normal</Expression>
</Case><Case
 Name="Indication"
 Guid="a190c9f8-024a-4cd4-92cc-77232b862322"
>
<PreConditions>
<PreCondition
 Guid="6b8996e7-374a-42d8-b96e-d1e2037fd939"
>Monitoring in [MonitoringTypeSM.Target.Indication, MonitoringTypeSM.Release.Indication]</PreCondition></PreConditions>
<Expression>SupervisionStatus.Indication</Expression>
</Case><Case
 Name="Overspeed"
 Guid="6b8b6771-0529-40b2-a7e9-3386ddf6d9a7"
>
<PreConditions>
<PreCondition
 Guid="d5f1549a-1606-4c9d-81be-30891d1544f9"
>Monitoring in [MonitoringTypeSM.Ceiling.Overspeed, MonitoringTypeSM.Target.Overspeed]</PreCondition></PreConditions>
<Expression>SupervisionStatus.Overspeed</Expression>
</Case><Case
 Name="Warning"
 Guid="e30cbf78-903e-4c9b-aa1d-6530c3ac551c"
>
<PreConditions>
<PreCondition
 Guid="1163bf4e-8d04-4dc3-b6a0-510752c092f0"
>Monitoring in [MonitoringTypeSM.Ceiling.Warning, MonitoringTypeSM.Target.Warning]</PreCondition></PreConditions>
<Expression>SupervisionStatus.Warning</Expression>
</Case><Case
 Name="Intervention"
 Guid="fe46922f-11ce-49cd-87ba-aba98a1f267f"
>
<PreConditions>
<PreCondition
 Guid="5a337125-7eba-4ba8-ae7c-4cdf6a26d987"
>Monitoring in [MonitoringTypeSM.Ceiling.Intervention, MonitoringTypeSM.Target.Intervention, MonitoringTypeSM.Release.Intervention]</PreCondition></PreConditions>
<Expression>SupervisionStatus.Intervention</Expression>
</Case></Cases>
</Function><Function
 Type="Default.BaseTypes.Speed"
 Cacheable="TRUE"
 Default=""
 X="530"
 Y="230"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="SBISpeed"
 Guid="beeb4057-0fc3-4386-a02a-0a1658883998"
>
<ReqRef
 Id="d5f24a7e-2926-4921-9498-c6e5c16964e4"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="f256a09c-7d89-4cd5-b2f6-9e1c790067ff"
>
</ReqRef><ReqRef
 Id="eb90e9d9-f130-4725-b447-bd6e474f0c8b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="db43c11d-14da-4358-a984-768d070e34b4"
>
</ReqRef><Comment>Returns the value of the FLOI curve at the given distance</Comment>
<Parameters>
<Parameter
 Type="Default.BaseTypes.Distance"
 Name="Distance"
 Guid="a638ed63-ba73-4d96-94d8-a3d73f64bcda"
>
</Parameter></Parameters>
<Cases>
<Case
 Name="In ceiling speed supervision"
 Guid="3206369b-6c11-4a65-8d73-d2fbb08375b3"
>
<PreConditions>
<PreCondition
 Guid="9317ac62-ab65-4993-8355-a3fa4ac12f32"
>Monitoring in MonitoringTypeSM.Ceiling</PreCondition></PreConditions>
<Expression>MRSP.V_MRSP() + CeilingSpeedMonitoring.dV_sbi(MRSP.V_MRSP())</Expression>
</Case><Case
 Name="In target speed supervision"
 Guid="eb3345ab-0d5e-4790-8fb3-c13af69a753d"
>
<PreConditions>
<PreCondition
 Guid="1eda699e-a4d2-4106-8a9a-daf5761de88c"
>Monitoring in MonitoringTypeSM.Target</PreCondition></PreConditions>
<Expression>TargetSpeedMonitoring.V_SBI_DMI()</Expression>
</Case></Cases>
</Function></Functions>
<Procedures>
<Procedure
 X="720"
 Y="60"
 Width="100"
 Height="50"
 Pinned="TRUE"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="SelectMonitoringType"
 Guid="3343f3ef-10d0-4a24-9849-d799ebf3c545"
>
<ReqRef
 Id="ec29a885-8a5f-4c6e-82e7-4e5b41a7dd5d"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="9770b6b4-6db0-4f93-85c2-e61a194149cd"
>
</ReqRef><ReqRef
 Id="452e7369-8988-4a04-9d16-d7e769201a71"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="297b7ad0-755a-4117-ba8c-b8d0a2bbe8f1"
>
</ReqRef><ReqRef
 Id="8e95d803-0ad3-43b6-b488-8471ea3f792a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="bdec0d17-674b-4f28-a73e-7cc2558ed8ba"
>
</ReqRef><Comment>Update the speed and distance monitoring type</Comment>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Update monitoring"
 Guid="d68dc5dd-66dd-4df0-94ac-da7e387cd2c4"
>
<Comment>Then select the new monitoring type.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Release speed monitoring"
 Guid="cc74a824-206f-44a4-a2b6-31b96bfddc35"
>
<ReqRef
 Id="a387bd06-4306-436c-ae73-a3faa509f059"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c4fc58fb-68b2-4182-9837-200439de3372"
>
</ReqRef><ReqRef
 Id="88ab50b9-74b8-45a8-b956-3f0754ac2824"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="94a7764e-b7e3-4d25-bba9-62497f43ca3a"
>
</ReqRef><Comment>The train front end position is beyond the RSM start location.</Comment>
<PreConditions>
<PreCondition
 Guid="f0a73956-72ca-4e2a-833d-c64917c04a3d"
>Condition2()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="9fa14273-a356-4624-b65d-d653232c55c9"
>DetermineSupervisionStatus(MonitoringTypeSM.Release)</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="Target speed monitoring"
 Guid="ceaf0ba0-df34-4dc5-998b-aad8f20e26b2"
>
<Comment>The train front end position is beyond the pre-indication location.</Comment>
<PreConditions>
<PreCondition
 Guid="d65208a9-5e12-45dd-8d14-3dc148564806"
>Condition1()</PreCondition><PreCondition
 Guid="e50642fe-e198-4f28-a317-12417a620320"
>NOT Condition2()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="5958ef9e-9907-4aa3-a87a-6fde142da01b"
>DetermineSupervisionStatus(MonitoringTypeSM.Target)</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="Ceiling speed monitoring"
 Guid="48dad1da-d913-4d1d-85ad-2da9fe4f6a84"
>
<Comment>The train front end position is not beyond the pre-indication location.</Comment>
<PreConditions>
<PreCondition
 Guid="2fb2c2e9-9ab6-4461-b479-a7964b3609b2"
>NOT Condition1()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="deecb83d-3be9-418a-ab8d-8ac5f524776f"
>DetermineSupervisionStatus(MonitoringTypeSM.Ceiling)</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="610"
 Width="100"
 Height="50"
 Pinned="TRUE"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="TriggerSBCommand"
 Guid="bdb289f3-34c3-4ea7-8801-2305124ed76a"
>
<ReqRef
 Id="0f223275-ff77-4025-a194-a347f5ef0542"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a836995f-2a48-4c31-a0d8-141d35040167"
>
</ReqRef><ReqRef
 Id="b19b213b-b887-4ef8-b210-439b95753041"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="beccff75-037b-431f-857e-14268cb1f690"
>
</ReqRef><ReqRef
 Id="d5c3e2f6-7747-4faf-95c2-ec06309fe9ac"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="21a37357-1c80-42fe-8434-4d4a98e3b283"
>
</ReqRef><Comment>Handles the service brake command by activating the service brake, if allowed, or the emergency brake.</Comment>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="TriggerSBCommand"
 Guid="f59ae9b6-e396-4a40-a8ea-5bf2f8b25f23"
>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="SBIsAvailableForUse"
 Guid="d1ec4ea1-be7f-4093-ad74-278db6897221"
>
<Comment>If the SB is available, trigger it</Comment>
<PreConditions>
<PreCondition
 Guid="edcfd47a-ea63-4f62-a207-80679aaf847f"
>SBIsAvailableForUse()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="53eeb1fe-321f-4cd1-badf-82567a688616"
>TIU.ServiceBrakeCommanded &lt;- True</Action><Action
 Guid="d89cc423-fae2-4789-8127-68c610145693"
>SBSpecified &lt;- True</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Otherwise"
 Guid="68c0b104-9eb6-4b67-904e-efe0a874749b"
>
<Comment>If the SB is not available, pass the command onto the EB</Comment>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="37d9f842-c365-4e03-8f5e-df6d7484dba6"
>TIU.EmergencyBrakeCommanded &lt;- True</Action><Action
 Guid="fd5d023f-77fd-4fd2-8faf-4daa2289d1ad"
>SBSpecified &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="720"
 Width="100"
 Height="50"
 Pinned="TRUE"
 Implemented="TRUE"
 Name="RevokeEBCommand"
 Guid="4a1fb3de-7c1f-4285-9c15-c45bc8536ccf"
>
<ReqRef
 Id="fb41e572-9cb9-4c36-8844-8019df4bd95e"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="b2d3b937-5b07-47ca-bd74-92a49ebd577a"
>
</ReqRef><ReqRef
 Id="ec0c435b-0145-4656-99a6-3a16788797ff"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="000f01e1-a4c3-4c18-9935-90d340052d69"
>
</ReqRef><ReqRef
 Id="7d9d0edb-ad9a-48db-a67e-e74e1be64d74"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="c8a5fb39-76cf-4aa3-90c9-b78e051b4362"
>
</ReqRef><ReqRef
 Id="d5c3e2f6-7747-4faf-95c2-ec06309fe9ac"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a3ea3b16-c13a-40a9-bc42-ce69079ab587"
>
</ReqRef><Comment>Handles the revocation of an emergency brake command</Comment>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Revoke EB command"
 Guid="f4bf398c-5f06-4c70-93cd-92d6fe4522aa"
>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Revoke SB command, no SB available"
 Guid="d7d95c99-6bcd-4e69-b30d-773ceda16c48"
>
<Comment>If the service brake is not available, SB commands are executed by the EB</Comment>
<PreConditions>
<PreCondition
 Guid="cd7fb674-fa24-4c9b-97f4-babe1908226d"
>NOT SBIsAvailableForUse()</PreCondition><PreCondition
 Guid="2163ef71-6d83-4e67-aa6f-cd67c56ec838"
>SBSpecified</PreCondition></PreConditions>
<Actions>
<Action
 Guid="2e40dc81-ff12-4049-a5eb-e1994b2236a5"
>SBSpecified &lt;- False</Action></Actions>
<SubRules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Revoke EB command"
 Guid="38069d81-edcf-4cb6-baa6-b50e6797433b"
>
<Comment>If the EB was not also commanded, cut it off</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Revoke EB command"
 Guid="57726d91-ee94-44c3-be64-9f09a5339190"
>
<PreConditions>
<PreCondition
 Guid="d51098b6-4aca-4adb-a40e-cb63bc6a3de2"
>NOT EBSpecified</PreCondition></PreConditions>
<Actions>
<Action
 Guid="0d9b886e-0bc6-4a1e-b674-689aabe86f85"
>TIU.EmergencyBrakeCommanded &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></SubRules>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="Revoke EB command"
 Guid="d4fc3fbf-c8ad-48db-87e8-14e970778c54"
>
<Comment>Revoke the EB command</Comment>
<PreConditions>
<PreCondition
 Guid="1bdbbe3f-110e-40d0-b1fa-f58ed5a4738f"
>NationalValues.ReleaseOfEBIsPermitted()
  OR  
Odometry.TrainIsAtStandstill()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="c69226a6-2c28-4bc4-91a1-ff49993f5956"
>EBSpecified &lt;- False</Action><Action
 Guid="887e30d6-0424-450f-9820-8621c7adf272"
>TIU.EmergencyBrakeCommanded &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="830"
 Width="100"
 Height="50"
 Pinned="TRUE"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="RevokeSBCommand"
 Guid="6a037123-bfc5-4122-9ac9-c00925275128"
>
<ReqRef
 Id="0f223275-ff77-4025-a194-a347f5ef0542"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="4d17d182-2f66-480e-9253-75a9d717deb0"
>
</ReqRef><ReqRef
 Id="fb41e572-9cb9-4c36-8844-8019df4bd95e"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="dc8b5631-3b3a-4b5f-a539-c6f41e5a68be"
>
</ReqRef><ReqRef
 Id="7d9d0edb-ad9a-48db-a67e-e74e1be64d74"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="4eeac3d2-53e1-4b87-8eaf-65222046fde1"
>
</ReqRef><ReqRef
 Id="d5c3e2f6-7747-4faf-95c2-ec06309fe9ac"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="4517cf0f-7747-468b-b8da-bea0259c6130"
>
</ReqRef><Comment>Handles a revocation of the service brake. If theer is no service brake applicable for use on the train, revokes the emergency brake</Comment>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="RevokeSBCommand"
 Guid="a6d0da46-9ebd-4a4b-a6a2-40ff906bdbb4"
>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="SBIsAvailableForUse"
 Guid="091c4b2f-c933-4ad4-a5e9-32790977174f"
>
<Comment>If the SB is available, the revocation command is handled</Comment>
<PreConditions>
<PreCondition
 Guid="b1c74e83-dd79-4f11-9e75-a901db534064"
>SBIsAvailableForUse()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="2a6f82f8-80a2-4496-bfa4-445fd6c1d335"
>TIU.ServiceBrakeCommanded &lt;- False</Action><Action
 Guid="4c3aacf3-5346-42c8-950b-be161a915d5f"
>SBSpecified &lt;- False</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Otherwise"
 Guid="d4024946-ef07-42fd-905b-695b43215446"
>
<Comment>If the SB is not available, the EB needs to be revoked</Comment>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="8e4ef373-8406-40ac-8590-06ac5a6d17e7"
>RevokeEBCommand()</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="610"
 Y="60"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="DetermineSupervisionStatus"
 Guid="e859e947-8a55-4351-a7e5-e7ed69d5e6a5"
>
<ReqRef
 Id="452e7369-8988-4a04-9d16-d7e769201a71"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0c2fd63b-9ad1-474c-a4b6-060ceb67f368"
>
</ReqRef><Comment>Sets the supervision status according to the type of speed and distance monitoring</Comment>
<Parameters>
<Parameter
 Type="MonitoringTypeSM"
 Name="MonitoringType"
 Guid="48561c68-d98c-4bb0-801d-1db3d690f533"
>
</Parameter></Parameters>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Revoke commands"
 Guid="633bddbb-f48c-495d-9434-0ebf177a01a2"
>
<ReqRef
 Id="4ef8d95d-9b39-4a31-af31-f673833b0f7b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e63ae8c7-d2b7-4aff-81e9-65190d512755"
>
</ReqRef><ReqRef
 Id="16a2ffa9-a581-4832-8287-d3a982f4ddd7"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="11603de7-288b-454f-b12c-d38a4f0ae9a3"
>
</ReqRef><Comment>First handle the revocation of traction cut-off and service break if switching from target speed monitoring.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Revoke TCO and SB"
 Guid="63e77da2-5072-4745-9380-d29004a03766"
>
<Comment>If switching to release speed monitoring, revoke TCO and SB commands.</Comment>
<PreConditions>
<PreCondition
 Guid="45f18bce-f81d-4f4c-9c04-e09b52bca20c"
>Monitoring in MonitoringTypeSM.Target</PreCondition><PreCondition
 Guid="dd4bbcaa-711f-4430-92d2-b231a4c42955"
>Condition2()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="26a14c8c-2a37-48c9-bcb6-5f2bceeeca84"
>TCOTriggered &lt;- False</Action><Action
 Guid="ea5f6ece-dcce-4ae6-abad-20810e593cd8"
>RevokeSBCommand()</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="Revoke TCO"
 Guid="209ce184-96ea-4cbf-9a87-bb99ffd22b2d"
>
<Comment>If switching to ceiling speed monitoring, revoke TCO command.</Comment>
<PreConditions>
<PreCondition
 Guid="3b919df2-96fd-46bd-be00-adfe57e283ab"
>Monitoring in MonitoringTypeSM.Target</PreCondition><PreCondition
 Guid="c83c8401-56d3-4c12-aa65-dcc7ea3965f6"
>NOT Condition1()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="68c2dfcd-31b1-4949-832f-b0467a5a94ca"
>TCOTriggered &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 Implemented="TRUE"
 Name="Determine supervision status"
 Guid="60074a77-efbb-468c-ac79-6f3f207a3aec"
>
<Comment>Get the supervision status by applying the triggers of the new monitoring type</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="To target monitoring"
 Guid="42b3eca4-28b5-42db-9a3d-d04f839b45ff"
>
<Comment>Supervision status for a train in TSM.</Comment>
<PreConditions>
<PreCondition
 Guid="734c0cfb-8504-4804-8e92-7d445b1644b3"
>MonitoringType in MonitoringTypeSM.Target</PreCondition><PreCondition
 Guid="1d9d0f82-9b6e-4854-85b9-8c830b0881ef"
>TrainPosition.Position.DataState == Default.DataState.Valid</PreCondition></PreConditions>
<Actions>
<Action
 Guid="646147c7-d863-488e-83c8-2dad26e8f09b"
>TargetSpeedMonitoring.SupervisionStatus.TSMStatusTriggers()</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To ceiling monitoring"
 Guid="4f66c5e1-779a-41c9-8ebc-921feddf5c33"
>
<Comment>Supervision status for a train in CSM.</Comment>
<PreConditions>
<PreCondition
 Guid="d670d6a1-c1ac-44f1-b831-99c4d17bd838"
>MonitoringType in MonitoringTypeSM.Ceiling</PreCondition><PreCondition
 Guid="d839fc91-525d-472c-8bfb-dc7f3595ee3b"
>TrainPosition.Position.DataState == Default.DataState.Valid</PreCondition></PreConditions>
<Actions>
<Action
 Guid="b1c0ff01-91ce-4c1f-9bcf-aaf67396cf63"
>CeilingSpeedMonitoring.SupervisionStatus.CSMStatusTriggers()</Action></Actions>
</RuleCondition><RuleCondition
 Implemented="TRUE"
 Name="To release monitoring"
 Guid="f6f7adb9-bc1e-4b39-ae9b-49cab9466bf1"
>
<Comment>Supervision status for a train in RSM.</Comment>
<PreConditions>
<PreCondition
 Guid="beb69a2c-c219-4dcb-9a3b-7d7ee370bff7"
>TrainPosition.Position.DataState == Default.DataState.Valid</PreCondition><PreCondition
 Guid="0d0b9a1b-65da-4d93-bfa4-45805bdddd01"
>MonitoringType in MonitoringTypeSM.Release</PreCondition></PreConditions>
<Actions>
<Action
 Guid="4984d1e4-bfdd-4b2a-aa8f-4885ab876f30"
>ReleaseSpeedMonitoring.SupervisionStatus.RSMStatusTriggers()</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="830"
 Y="60"
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="TriggerEBCommand"
 Guid="b38ceba8-4d8e-47dd-856e-bb7c4693d339"
>
<ReqRef
 Id="d5c3e2f6-7747-4faf-95c2-ec06309fe9ac"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="baa8fb01-fa3d-4497-a034-28faf3be58fa"
>
</ReqRef><Comment>Handles an emergency brake command</Comment>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Activate EB"
 Guid="ffdaef94-d5f3-40df-b177-aa1546de09bb"
>
<Comment>On reception, switch on the emergency brake</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Activate EB"
 Guid="2d847d6f-2ae1-4b5d-b417-728152b82296"
>
<Comment>Switch on the brake and mark it as an emergency brake command</Comment>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="5f2ab883-f8e5-4aed-ad31-ba3342346cd7"
>TIU.EmergencyBrakeCommanded &lt;- True</Action><Action
 Guid="07dd4121-f8b5-4cd2-926b-3e6778eb77b2"
>EBSpecified &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="370"
 Y="120"
 Width="100"
 Height="50"
 Name="StopMonitoring"
 Guid="48b4ed23-a3f4-48eb-8f3f-452d661c18f6"
>
<ReqRef
 Id="464dd6eb-f8c7-42fe-b8d9-c416ee775f1a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="78c6771a-1677-419b-bece-86e3731c8320"
>
</ReqRef><Comment>Cuts off the speed and distance monitoring if the mode changes</Comment>
<Rules>
<Rule
 Priority="Processing"
 Name="Stop monitoring"
 Guid="d7656454-9a47-4789-9492-17126a0230bc"
>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Name="Stop monitoring"
 Guid="ed6f0713-b80f-4f62-9939-55378975c820"
>
<PreConditions>
<PreCondition
 Guid="32ca5a8e-3e3a-4109-82c7-f43c4deb007e"
>Monitoring not in MonitoringTypeSM.Idle</PreCondition><PreCondition
 Guid="3949a806-a2cc-4c53-b7d8-c00f2a2b444e"
>NOT ActiveFunctions.SuperviseTrainSpeed_All_Information()</PreCondition></PreConditions>
<Actions>
<Action
 Guid="bb283a6b-d672-40a0-9fa5-e027239cb8ed"
>Monitoring &lt;- MonitoringTypeSM.Idle</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="InitializeFixedValues"
 Guid="91326901-7ff5-4e7b-84b4-cb373482ce11"
>
<Comment>Initializes the test environment with a set of fixed values as specified in ERA_Braking_cuvers_tool_v3.0.xlsm.</Comment>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Initialize fixed values"
 Guid="2f342616-f08b-4f2a-ad76-0df5ca5c851f"
>
<Comment>Initializes the test environment with a set of fixed values as specified in ERA_Braking_cuvers_tool_v3.0.xlsm.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Initialize fixed values"
 Guid="f3cba488-1191-4969-8a47-cca7f31a3b48"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="7e85e74c-9534-4ea0-b6c0-4f897f274950"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.dV_ebi_max &lt;- 15.0</Action><Action
 Guid="0a9ce767-5ef2-4720-a120-474f637e9aa8"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.dV_ebi_min &lt;- 7.5</Action><Action
 Guid="ecdc9d99-2b1a-4a23-aae9-0accb278f9bf"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.dV_sbi_max &lt;- 10.0</Action><Action
 Guid="806278c7-48bf-4823-90f0-8d281f434936"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.dV_sbi_min &lt;- 5.5</Action><Action
 Guid="58b75e15-4729-4944-9cac-d6db49b0701b"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.dV_warning_max &lt;- 5.0</Action><Action
 Guid="e0499a82-9634-411e-ac8e-fa39db72a54d"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.dV_warning_min &lt;- 4.0</Action><Action
 Guid="cfe8e4de-c889-462f-bfb6-2792f3fe59c7"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.V_ebi_max &lt;- 210.0</Action><Action
 Guid="f912e407-dafd-42d1-9a7b-f98b7e9e943a"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.V_ebi_min &lt;- 110.0</Action><Action
 Guid="fb2743c8-e7ee-4eb8-be74-4bd33422c371"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.V_sbi_max &lt;- 210.0</Action><Action
 Guid="0dd5306d-48aa-4790-805f-4fbe295deb87"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.V_sbi_min &lt;- 110.0</Action><Action
 Guid="409e3c78-979d-431f-bb37-602cc97c66ad"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.V_warning_max &lt;- 140.0</Action><Action
 Guid="6f61e8bc-03b3-43c8-b319-472661e27709"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.V_warning_min &lt;- 110.0</Action><Action
 Guid="08b1cd8b-424e-4190-a9cd-a6e0973c09be"
>Kernel.SpeedAndDistanceMonitoring.PreIndicationLocation.T_preindication &lt;- 7.0</Action><Action
 Guid="437480c3-c7d2-4e2b-940b-fde43f2f88a0"
>Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.T_driver &lt;- 4.0</Action><Action
 Guid="b35cebb9-6122-4972-af90-d63324279878"
>Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.T_warning &lt;- 2.0</Action><Action
 Guid="684b0de2-256d-47f1-9441-cd735eb4fe6d"
>Kernel.TrackDescription.Gradient.M_rotating_max &lt;- 15.0</Action><Action
 Guid="528a7dba-991e-4eed-ad14-de3bc5391e83"
>Kernel.TrackDescription.Gradient.M_rotating_min &lt;- 2.0</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure></Procedures>
<Variables>
<Variable
 Type="MonitoringTypeSM"
 DefaultValue="MonitoringTypeSM.Ceiling"
 VariableMode="Internal"
 X="790"
 Y="460"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Monitoring"
 Guid="98bc4b2a-6da7-440d-9bf2-e41fe5486bce"
>
<ReqRef
 Id="52f69d6f-9efe-46a8-bf28-82cdbaf08617"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ee289381-10a6-47b9-ae57-cfc9d28d45e5"
>
</ReqRef><Comment>Indicates the current monitoring of the train.</Comment>
</Variable><Variable
 Type="Boolean"
 DefaultValue="Boolean.False"
 VariableMode="Internal"
 X="400"
 Y="460"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="SBTriggered"
 Guid="76745709-6a98-447f-88dc-47ae1d3f280e"
>
<ReqRef
 Id="f26aa00e-0ded-4d0d-bed9-58813a2d45eb"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a94f7647-a6fd-4ddd-acd6-2c53443dce83"
>
</ReqRef><ReqRef
 Id="e0714dd3-9891-467d-9584-cfde98bcc4fc"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="42698de5-d3e7-4c6c-ae7a-b3d38cc0454b"
>
</ReqRef><ReqRef
 Id="b19b213b-b887-4ef8-b210-439b95753041"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e9555a1b-f367-4622-9faa-66996604960b"
>
</ReqRef><ReqRef
 Id="fb41e572-9cb9-4c36-8844-8019df4bd95e"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="1fcc5fa9-c9cf-41dd-a448-30996a0eb7d1"
>
</ReqRef><ReqRef
 Id="d5c3e2f6-7747-4faf-95c2-ec06309fe9ac"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0989ee0e-13a8-417f-9693-de3171c17c49"
>
</ReqRef><Comment>Indicates if SB was triggered.</Comment>
</Variable><Variable
 Type="Boolean"
 DefaultValue="Boolean.False"
 VariableMode="Internal"
 X="70"
 Y="460"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="TCOTriggered"
 Guid="977c190f-a73a-4ed6-a0f3-3c8abe725756"
>
<ReqRef
 Id="f26aa00e-0ded-4d0d-bed9-58813a2d45eb"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a72b9829-af1f-45e7-a716-d068884cfa89"
>
</ReqRef><ReqRef
 Id="e0714dd3-9891-467d-9584-cfde98bcc4fc"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="7d304123-df8e-4e5b-9c01-015f289a1c6a"
>
</ReqRef><ReqRef
 Id="fb41e572-9cb9-4c36-8844-8019df4bd95e"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a1a5f487-c094-4090-a348-d919c764003d"
>
</ReqRef><Comment>Indicates if the traction cuf-off command was triggered.</Comment>
</Variable><Variable
 Type="Boolean"
 DefaultValue="Boolean.False"
 VariableMode="Internal"
 X="620"
 Y="460"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="SBSpecified"
 Guid="b53c4e24-e8b7-4d9c-87a7-e02c83a336d3"
>
<ReqRef
 Id="7d9d0edb-ad9a-48db-a67e-e74e1be64d74"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="95dd4898-2b4b-450a-8ef2-62b60ac891aa"
>
</ReqRef><Comment>Indicates if the SB command was specified. Use to determine wheter EB command was triggered due to SBI supervision limit or EBI supervision limit.</Comment>
</Variable><Variable
 Type="Boolean"
 DefaultValue="Boolean.False"
 VariableMode="Internal"
 X="510"
 Y="460"
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="TrainTripped"
 Guid="53d8badf-f08b-4d97-8f5e-710965ab272f"
>
<Comment>Indicates if the train is tripped.</Comment>
</Variable><Variable
 Type="TargetSpeedMonitoring.Targets"
 DefaultValue="[]"
 VariableMode="Internal"
 X="70"
 Y="580"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="SupervisedTargets"
 Guid="db7f0679-9b6f-4449-8ad0-5ef9061c3b19"
>
<ReqRef
 Id="c0c90876-1322-4533-951c-924804b80043"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="982ec8fb-8850-4f99-a5e4-0c0838b70895"
>
</ReqRef><ReqRef
 Id="f966f396-c00e-4f6b-945d-6cde4527e814"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="b8f02617-69ff-4ee6-ae94-d3af6f415114"
>
</ReqRef><ReqRef
 Id="620d2411-2c42-403d-9139-cdb6a68c48b2"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="78e50c92-ffa9-411a-a9e4-604b4a013d12"
>
</ReqRef><Comment>Keeps the list of supervised targets. Used to determine if the supervised targets have changed</Comment>
</Variable><Variable
 Type="Boolean"
 DefaultValue=""
 VariableMode="Internal"
 X="180"
 Y="580"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="EBSpecified"
 Guid="ed388750-8408-4038-b8e2-bdd279e978b7"
>
<ReqRef
 Id="7d9d0edb-ad9a-48db-a67e-e74e1be64d74"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="646b91ee-9b3c-49c3-94f4-05e16371f41c"
>
</ReqRef><Comment>Indicates if the EB command was specified. Use to determine wheter EB command was triggered due to SBI supervision limit or EBI supervision limit.</Comment>
</Variable></Variables>
<Rules>
<Rule
 Priority="Processing"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Display MRDT"
 Guid="ce801b5f-440e-42ac-b2c8-8673d9527ef2"
>
<ReqRef
 Id="96719821-5827-4475-bf1c-8200e9c230e4"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a28ff937-5c77-4818-ac10-f2c1089b9ae5"
>
</ReqRef><Comment>When the speed and distance monitoring is in TSM, display the target speed and distance to target information on the DMI.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="In TSM"
 Guid="663134a6-2bdd-40df-a5e6-5328537d077d"
>
<PreConditions>
<PreCondition
 Guid="ed7c18c8-9916-42b4-a148-c8fa749672f4"
>Monitoring in MonitoringTypeSM.Target</PreCondition><PreCondition
 Guid="fa5bd0d4-bc50-4790-a500-786894ea795c"
>NOT DMI.MasterDMI().Out_TargetDistance.OutputInformation.DisplayRequested
  OR  
NOT DMI.MasterDMI().Out_TargetSpeed.OutputInformation.DisplayRequested</PreCondition></PreConditions>
<Actions>
<Action
 Guid="4a411142-5898-4368-94e1-eda1a6d8e0e9"
>DMI.MasterDMI().Out_TargetDistance.Display()</Action><Action
 Guid="379bfbb4-8fac-409a-b268-779785db0b11"
>DMI.MasterDMI().Out_TargetSpeed.Display()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 X="110"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Display Release Speed"
 Guid="5c92cde1-4120-4c02-8b69-884049fefac5"
>
<ReqRef
 Id="ee7b5ecc-20f6-480c-aa0a-7836d5308d32"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="fd282b9d-7a4a-4a79-b069-3a5e2264465c"
>
</ReqRef><ReqRef
 Id="220617b2-d0d2-4c8e-a475-e9d9a8761441"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="6ba159a6-91e1-44d4-bfa4-fee1a44c3e43"
>
</ReqRef><Comment>When the speed and distance monitoring is in RSM, display the release speed and distance to target information on the DMI.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="IN RSM"
 Guid="6f864eb3-3c94-47cf-890b-b2fcf6835df8"
>
<PreConditions>
<PreCondition
 Guid="674a48a4-12cd-4224-9c99-1d283a29ba91"
>Monitoring in MonitoringTypeSM.Release</PreCondition><PreCondition
 Guid="3a58c397-dc7d-4d8e-8748-37fbf73b5f69"
>NOT DMI.MasterDMI().Out_TargetDistance.OutputInformation.DisplayRequested
  OR  
NOT DMI.MasterDMI().Out_ReleaseSpeed.OutputInformation.DisplayRequested</PreCondition></PreConditions>
<Actions>
<Action
 Guid="1fe599b1-6f99-43f1-8625-70b81b394a28"
>DMI.MasterDMI().Out_TargetDistance.Display()</Action><Action
 Guid="e2712580-841c-4dd1-88f4-a8e6583f7ba9"
>DMI.MasterDMI().Out_ReleaseSpeed.Display()</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</NameSpace>
